/*! For license information please see officebrowserfeedback_floodgate.min.js.LICENSE.txt */
!function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};t.m=n;t.c=i;t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:r})};t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});Object.defineProperty(n,"__esModule",{value:!0})};t.t=function(n,i){var r,u;if((1&i&&(n=t(n)),8&i)||4&i&&"object"==typeof n&&n&&n.__esModule)return n;if(r=Object.create(null),t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&i&&"string"!=typeof n)for(u in n)t.d(r,u,function(t){return n[t]}.bind(null,u));return r};t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i};t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)};t.p="";t(t.s=54)}([function(n,t,i){"use strict";i.d(t,"a",function(){return r});i.d(t,"b",function(){return u});i.d(t,"c",function(){return f});i.d(t,"d",function(){return e});i.d(t,"e",function(){return o});i.d(t,"h",function(){return s});i.d(t,"g",function(){return h});i.d(t,"i",function(){return c});i.d(t,"f",function(){return l});var r=function(){function n(){}return n.Alt="alt",n.AriaLabel="aria-label",n.AriaSelected="aria-selected",n.AriaOrientation="aria-orientation",n.AriaExpanded="aria-expanded",n.AriaControls="aria-controls",n.AriaHasPopups="aria-haspopup",n.AriaModal="aria-modal",n.AriaLabelledBy="aria-labelledby",n.AriaDescribedBy="aria-describedby",n.Class="class",n.DataHtml2CanvasIgnore="data-html2canvas-ignore",n.Disabled="disabled",n.Fill="fill",n.For="for",n.Preview="preview",n.Form="form",n.Height="height",n.HRef="href",n.Id="id",n.MaxLength="maxlength",n.Name="name",n.Placeholder="placeholder",n.Points="points",n.Rel="rel",n.Role="role",n.Source="src",n.Stroke="stroke",n.Style="style",n.TabIndex="tabindex",n.Target="target",n.Transform="transform",n.Type="type",n.Value="value",n.ViewBox="viewBox",n.Width="width",n.xlinkHref="xlink:href",n.X="x",n.Y="y",n}(),u=function(){function n(){}return n.BlankWindow="_blank",n.Button="button",n.Dialog="dialog",n.Tab="tab",n.TabList="tablist",n.TabPanel="tabpanel",n.Checkbox="checkbox",n.Checked="checked",n.False="false",n.Zero="0",n.Polite="polite",n.Radio="radio",n.Submit="submit",n.ScreenshotPreview="ScreenshotPreview",n.Text="text",n.TextAreaMaxLength="1000",n.True="true",n.Unchecked="unchecked",n.NoReferrer="noreferrer",n.AriaOrientationValueVertical="vertical",n}(),f=(function(){function n(){}n.CLCID="CLCID"}(),function(){function n(){}return n.AriaLiveTemplate="obf-AriaLiveTemplate",n.CheckBox="obf-CheckBox",n.FontTitle="obf-FontTitle",n.CloseButton="obf-CloseButton",n.FontSubtitle="obf-FontSubtitle",n.FontText="obf-FontText",n.FontSubText="obf-FontSubText",n.FontSubSubText="obf-FontSubSubText",n.Hidden="obf-Hidden",n.Link="obf-Link",n.MarginLeft60px="obf-MarginLeft60px",n.MarginLeft180px="obf-MarginLeft180px",n.NarrowLayout="obf-NarrowLayout",n.PrivacyStatementLinkDiv="obf-PrivacyStatementLinkDiv",n.PrivacyStatementLinkDivEudbUx="obf-PrivacyStatementLinkDivEudbUx",n.Rtl="obf-Rtl",n.Spinner="obf-Spinner",n.SpinnerCircle="obf-SpinnerCircle",n.SubmitButton="obf-SubmitButton",n.CancelButton="obf-CancelButton",n.TextInput="obf-TextInput",n.Visible="obf-Visible",n.Rating="obf-Rating",n.RatingGraphic="obf-RatingGraphic",n.RatingGraphicFilled="obf-RatingGraphic-Filled",n.ChoiceGroup="obf-ChoiceGroup",n.ChoiceGroupIcon="obf-ChoiceGroupIcon",n.OverallAnchor="obf-OverallAnchor",n.OverallAnchorActive="obf-OverallAnchorActive",n.OverallImage="obf-OverallImage",n.OverallText="obf-OverallText",n.SingleLayout="obf-SingleLayout",n.ShowRightBorder="obf-ShowRightBorder",n.SlideLeft="obf-slideLeft",n.TextAlignLeft="obf-TextAlignLeft",n.FormContainer="obf-FormContainer",n.FormWideContainer="obf-FormWideContainer",n.ThanksPanelTitle="obf-ThanksPanelTitle",n.ThanksPanelMessage="obf-ThanksPanelMessage",n.FormQuestionMiddleText="obf-FormQuestionMiddleText",n.FormMiddleText="obf-FormMiddleText",n.FormCategoriesDropdown="obf-FormCategoriesDropdown",n.FormComment="obf-FormComment",n.FormRatingContainer="obf-FormRatingContainer",n.FormRatingLabel="obf-FormRatingLabel",n.FormRating="obf-FormRating",n.FormEmailContainer="obf-FormEmailContainer",n.FormEmailInput="obf-FormEmailInput",n.FormEmailTextBox="obf-FormEmailTextBox",n.FormEmailCheckBox="obf-FormEmailCheckBox",n.FormEmailLabel="obf-FormEmailLabel",n.FormBottomContainer="obf-FormBottomContainer",n.FormSubmitButtonContainer="obf-FormSubmitButtonContainer",n.FormScreenshotContainer="obf-FormScreenshotContainer",n.FormScreenshotLabel="obf-FormScreenshotLabel",n.FormScreenshotCheckbox="obf-FormScreenshotCheckbox",n.FormScreenshotPreview="obf-FormScreenshotPreview",n.FormPrivacyConsentText="obf-TFormPrivacyConsentText",n.TFormEmailCheckbox="obf-TFormEmailCheckbox",n.TFormEmailLabel="obf-TFormEmailLabel ",n.EmailCheckBoxLabel="obf-EmailCheckBoxLabel",n.Toast="obf-Toast",n.ToastZoom="obf-ToastZoom",n}()),e=function(){function n(){}return n.CloseButton="obf-CloseButton",n.ColumnSeparatorDiv="obf-ColumnSeparatorDiv",n.OverallAnchorsContainer="obf-OverallAnchorsContainer",n.OverallFrownAnchor="obf-OverallFrownAnchor",n.OverallFrownDiv="obf-OverallFrownDiv",n.OverallFrownImage="obf-OverallFrownImage",n.OverallFrownText="obf-OverallFrownText",n.OverallSmileAnchor="obf-OverallSmileAnchor",n.OverallSmileDiv="obf-OverallSmileDiv",n.OverallSmileImage="obf-OverallSmileImage",n.OverallSmileText="obf-OverallSmileText",n.OverallIdeaAnchor="obf-OverallIdeaAnchor",n.OverallIdeaDiv="obf-OverallIdeaDiv",n.OverallIdeaImage="obf-OverallIdeaImage",n.OverallIdeaText="obf-OverallIdeaText",n.OverallBugAnchor="obf-OverallBugAnchor",n.OverallBugDiv="obf-OverallBugDiv",n.OverallBugImage="obf-OverallBugImage",n.OverallBugText="obf-OverallBugText",n.QuestionLeftText="obf-QuestionLeftText",n.LeftFormContainer="obf-LeftFormContainer",n.LeftPanelContainer="obf-LeftPanelContainer",n.MainContainer="obf-MainContainer",n.MainContentHolder="obf-MainContentHolder",n.MiddleFormContainer="obf-MiddleFormContainer",n.OverlayBackground="obf-OverlayBackground",n.PrivacyStatementLink="obf-PrivacyStatementLink",n.PrivacyConsentText="obf-PrivacyConsentText",n.FirstTabbable="obf-FirstTabbable",n.LastTabbable="obf-LastTabbable",n.EmailCheckBox="obf-EmailCheckBox",n.SingleFormContainer="obf-SingleFormContainer",n.SingleFormQuestionMiddleText="obf-SingleFormQuestionMiddleText",n.SingleFormCategoriesDropdown="obf-SingleFormCategoriesDropdown",n.SingleFormComment="obf-SingleFormComment",n.SingleFormEmailInput="obf-SingleFormEmailInput",n.SingleFormRating="obf-SingleFormRating",n.SingleFormScreenshotCheckbox="obf-SingleFormScreenshotCheckbox",n.SingleFormScreenshotPreview="obf-SingleFormScreenshotPreview",n.SingleFormSubmitButton="obf-SingleFormSubmitButton",n.SingleFormCancelButton="obf-SingleFormCancelButton",n.SingleFormSubmitButtonSpinner="obf-SingleFormSubmitButtonSpinner",n.BasicFormContainer="obf-BasicFormContainer",n.BasicFormQuestionMiddleText="obf-BasicFormQuestionMiddleText",n.BasicFormCategoriesDropdown="obf-BasicFormCategoriesDropdown",n.BasicFormComment="obf-BasicFormComment",n.BasicFormEmailInput="obf-BasicFormEmailInput",n.BasicFormRating="obf-BasicFormRating",n.BasicFormScreenshotCheckbox="obf-BasicFormScreenshotCheckbox",n.BasicFormScreenshotPreview="obf-BasicFormScreenshotPreview",n.BasicFormSubmitButton="obf-BasicFormSubmitButton",n.BasicFormCancelButton="obf-BasicFormCancelButton",n.BasicFormSubmitButtonSpinner="obf-BasicFormSubmitButtonSpinner",n.ThanksPanelContainer="obf-ThanksPanelContainer",n.ThanksPanelCloseButton="obf-ThanksPanelCloseButton",n.ThanksPanelDiscussion="obf-ThanksPanelDiscussion",n.ThanksPanelVerticalContainer="obf-ThanksPanelVerticalContainer",n.ThanksPanelInnerContainer="obf-ThanksPanelInnerContainer",n.ThanksPanelParagraph="obf-ThanksPanelParagraph",n.FeedbackPortalIdeaContainer="obf-FeedbackPortalIdeaContainer",n.OverallFeedbackPortalIdeaAnchor="obf-OverallFeedbackPortalIdeaAnchor",n.ToastContainer="obf-ToastContainer",n.ToastCancel="obf-ToastCancel",n.TPromptContainer="obf-TPromptContainer",n.TPromptTitle="obf-TPromptTitle",n.TPromptText="obf-TPromptText",n.TFormContainer="obf-TFormContainer",n.TFormTitle="obf-TFormTitle",n.TFormRating="obf-TFormRating",n.TFormRatingQuestion="obf-TFormRatingQuestion",n.TFormCommentQuestion="obf-TFormCommentQuestion",n.TFormComment="obf-TFormComment",n.TFormEmailTextBox="obf-TFormEmailTextBox",n.TFormEmailCheckBox="obf-TFormEmailCheckBox",n.TFormEmailLabel="obf-TFormEmailLabel",n.TFormSubmitButton="obf-TFormSubmitButton",n.TFormCancelButton="obf-TFormCancelButton",n.TFormSubmitButtonSpinner="obf-TFormSubmitButtonSpinner",n.TFormSubmitButtonContainer="obf-TFormSubmitButtonContainer",n}(),o=function(){function n(){}return n.Esc=27,n.Tab=9,n}(),s=function(){function n(){}return n.Anchor="A",n.Button="button",n.Defs="defs",n.Div="div",n.FieldSet="fieldset",n.Form="form",n.Img="img",n.Input="input",n.Label="label",n.Legend="legend",n.Option="option",n.Polygon="polygon",n.Select="select",n.Span="span",n.Svg="svg",n.TextArea="textarea",n.Use="use",n}(),h=function(){function n(){}return n.Button="Button",n}(),c=function(){function n(){}return n.PrivacyStatementLink="https://go.microsoft.com/fwlink/?LinkId=521839",n}(),l=function(){function n(){}return n.No="1",n.Yes="2",n}()},function(n,t,i){"use strict";function h(){return o}function c(n){if(r.h(n,"feedbackType"),n===f.b[f.b.Smile])return f.b.Smile;if(n===f.b[f.b.Frown])return f.b.Frown;if(n===f.b[f.b.Bug])return f.b.Bug;throw"feedbackType should be one of Smile, Frown or Bug";}var o;i.d(t,"get",function(){return h});i.d(t,"validateFeedbackType",function(){return c});var r=i(4),f=i(7),s=i(52),u=i(12),e=i(0);i.d(t,"AgeGroup",function(){return u.a});i.d(t,"AuthenticationType",function(){return u.b});i.d(t,"CustomResources",function(){return u.c});i(49);o=new(function(){function n(){this.feedbackSubmitted=!1}return n.validateCategoryOptions=function(n){var i,u,t;if(!n)return{show:!1};if(r.d(n.show,"categories.show"),n.customCategories)for(r.c(n.customCategories,"categories.customCategories"),i=0,u=n.customCategories;i<u.length;i++)if(t=u[i],r.h(t,"custom category '"+t+"'"),t.length>20)throw"custom category '"+t+"' too long, max 20 characters.";return n},n.prototype.getFeedbackSubmitted=function(){return this.feedbackSubmitted},n.prototype.setFeedbackSubmitted=function(n){this.feedbackSubmitted=n},n.prototype.getCommonInitOptions=function(){return this.commonInitOptions},n.prototype.getInAppFeedbackInitOptions=function(){return this.inAppFeedbackInitOptions},n.prototype.getInAppFeedbackLaunchOptions=function(){return this.inAppFeedbackLaunchOptions},n.prototype.getFloodgateInitOptions=function(){return this.floodgateInitOptions},n.prototype.getFloodgateSurvey=function(){return this.floodgateSurvey},n.prototype.getSdkSessionId=function(){return this.sdkSessionId||(this.sdkSessionId=r.i()),this.sdkSessionId},n.prototype.getEventSampling=function(){return this.eventSampling},n.prototype.setCommonInitOptions=function(n){var t,i,f;if(r.g(n,"passedInitOptions"),t={appId:n.appId,applicationGroup:n.applicationGroup||{},build:n.build,cid:n.cid,environment:n.environment,intlFilename:n.intlFilename,intlUrl:n.intlUrl,webSurfacesResourceBaseUrl:n.webSurfacesResourceBaseUrl,locale:n.locale,onError:n.onError,originalLocale:n.locale,primaryColour:n.primaryColour,secondaryColour:n.secondaryColour,sessionId:n.sessionId,stylesUrl:n.stylesUrl,telemetryGroup:n.telemetryGroup||{},userEmail:n.userEmail,webGroup:n.webGroup||{},eventSampling:n.eventSampling,petrolTimeout:n.petrolTimeout,isCommercialHost:n.isCommercialHost,customResourcesSetExternally:n.customResourcesSetExternally,emailPolicyValue:n.emailPolicyValue,screenshotPolicyValue:n.screenshotPolicyValue,ageGroup:n.ageGroup,authenticationType:n.authenticationType,applicationSettings:n.applicationSettings,webSurfacesSettings:n.webSurfacesSettings,privacyUrl:n.privacyUrl||e.i.PrivacyStatementLink,retentionDurationDays:n.retentionDurationDays},r.f(t.appId,"initOptions.appId"),!(t.appId%1==0&&t.appId>0))throw"initOptions.appId is not a positive integer: "+t.appId;if(void 0!==t.retentionDurationDays&&(r.f(t.retentionDurationDays,"initOptions.retentionDurationDays"),!(t.retentionDurationDays%1==0&&t.retentionDurationDays>0)))throw"initOptions.retentionDurationDays is not a positive integer: "+t.retentionDurationDays;if(i=u.c.Strings|u.c.Css,void 0===t.customResourcesSetExternally)t.customResourcesSetExternally=u.c.None;else if("number"!=typeof t.customResourcesSetExternally||(t.customResourcesSetExternally|i)!==i)throw"initOptions.customResourcesSetExternally has an invalid value: "+t.customResourcesSetExternally;if((t.customResourcesSetExternally&u.c.Css)!==u.c.Css&&r.h(t.stylesUrl,"initOptions.stylesUrl"),(t.customResourcesSetExternally&u.c.Strings)!==u.c.Strings&&r.h(t.intlUrl,"initOptions.intlUrl"),void 0!==t.intlFilename?r.h(t.intlFilename,"initOptions.intlFilename"):t.intlFilename="officebrowserfeedbackstrings.js",r.f(t.environment,"initOptions.environment"),1!==t.environment&&0!==t.environment)throw"initOptions.environment has a bad value: "+t.environment;if((void 0!==t.userEmail?r.h(t.userEmail,"initOptions.userEmail"):t.userEmail="",void 0!==t.sessionId?r.h(t.sessionId,"initOptions.sessionId"):t.sessionId="00000000-0000-0000-0000-000000000000",t.telemetryGroup.processSessionId=t.sessionId,void 0!==t.cid&&(r.h(t.cid,"initOptions.cid"),t.applicationGroup.extendedManifestData=JSON.stringify({cid:t.cid})),void 0!==t.build)?(r.h(t.build,"initOptions.build"),new RegExp("^[0-9]{1,9}(\\.[0-9]{1,9})?(\\.[0-9]{1,9})?(\\.[0-9]{1,9})?$").test(t.build)||(t.build="0.0.0.0")):t.build="0.0.0.0",t.telemetryGroup.officeBuild=t.build,f=new RegExp("^#[0-9a-f]{3}([0-9a-f]{3})?$","i"),void 0!==t.primaryColour&&(f.test(t.primaryColour)||(t.primaryColour=void 0)),void 0!==t.secondaryColour&&(f.test(t.secondaryColour)||(t.secondaryColour=void 0)),void 0!==t.locale?(r.h(t.locale,"initOptions.locale"),t.locale=s.a(t.locale)):t.locale="en",void 0===t.onError&&(t.onError=function(){}),void 0!==t.petrolTimeout&&r.f(t.petrolTimeout,"initOptions.petrolTimeout"),void 0!==t.authenticationType?r.e(t.authenticationType,u.b,"initOptions.authenticationType"):t.authenticationType=u.b.Unauthenticated,void 0!==t.ageGroup?r.e(t.ageGroup,u.a,"initOptions.ageGroup"):t.ageGroup=u.a.Undefined,this.eventSampling=this.parseEventSamplingOption(t.eventSampling),this.commonInitOptions=t,this.commonPolicyAllowAADC=this.determineAADCPolicy(t.authenticationType,t.ageGroup),void 0===t.isCommercialHost||null==t.isCommercialHost?t.isCommercialHost=!1:r.d(t.isCommercialHost,"initOptions.isCommercialHost"),void 0===t.emailPolicyValue)t.emailPolicyValue=0;else if("number"!=typeof t.emailPolicyValue||0!==t.emailPolicyValue&&1!==t.emailPolicyValue&&2!==t.emailPolicyValue)throw"initOptions.emailPolicyValue has an invalid value: "+t.emailPolicyValue;if(void 0===t.screenshotPolicyValue)t.screenshotPolicyValue=0;else if("number"!=typeof t.screenshotPolicyValue||0!==t.screenshotPolicyValue&&1!==t.screenshotPolicyValue&&2!==t.screenshotPolicyValue)throw"initOptions.screenshotPolicyValue has an invalid value: "+t.screenshotPolicyValue;void 0!==t.privacyUrl?r.h(t.privacyUrl,"initOptions.privacyUrl"):t.privacyUrl=e.i.PrivacyStatementLink},n.prototype.setInAppFeedbackInitOptions=function(n){r.g(n,"passedInitOptions");var t={bugForm:n.bugForm,onDismiss:n.onDismiss,screenshot:n.screenshot,showEmailAddress:n.showEmailAddress,userEmail:n.userEmail,transitionEnabled:n.transitionEnabled,isShowThanks:n.isShowThanks,sendFeedbackPolicyValue:n.sendFeedbackPolicyValue,feedbackForumUrl:void 0!==n.feedbackForumUrl?n.feedbackForumUrl:void 0,myFeedbackForumUrl:void 0!==n.myFeedbackForumUrl?n.myFeedbackForumUrl:void 0};if(void 0===t.onDismiss&&(t.onDismiss=function(){}),void 0!==t.bugForm?r.d(t.bugForm,"initOptions.bugForm"):t.bugForm=!1,void 0!==t.userEmail&&r.h(t.userEmail,"initOptions.userEmail"),void 0!==t.screenshot?r.d(t.screenshot,"initOptions.screenshot"):t.screenshot=!0,void 0!==t.showEmailAddress?r.d(t.showEmailAddress,"initOptions.showEmailAddress"):t.showEmailAddress=!0,void 0!==t.feedbackForumUrl?r.h(t.feedbackForumUrl,"initOptions.feedbackForumUrl"):t.feedbackForumUrl=void 0,void 0!==t.isShowThanks?r.d(t.isShowThanks,"initOptions.isShowThanks"):t.isShowThanks=!0,void 0!==t.myFeedbackForumUrl?r.h(t.myFeedbackForumUrl,"initOptions.myFeedbackForumUrl"):t.myFeedbackForumUrl=void 0,void 0===t.transitionEnabled&&(t.transitionEnabled=!0),void 0===t.sendFeedbackPolicyValue)t.sendFeedbackPolicyValue=0;else if("number"!=typeof t.sendFeedbackPolicyValue||0!==t.sendFeedbackPolicyValue&&1!==t.sendFeedbackPolicyValue&&2!==t.sendFeedbackPolicyValue)throw"initOptions.sendFeedbackPolicyValue has an invalid value: "+t.sendFeedbackPolicyValue;this.inAppFeedbackInitOptions=t},n.prototype.setInAppFeedbackLaunchOptions=function(t){if(!this.commonInitOptions)throw"commonInitOptions not set";t||(t={});this.commonInitOptions.applicationGroup=r.o(t.applicationGroup,this.commonInitOptions.applicationGroup);this.commonInitOptions.telemetryGroup=r.o(t.telemetryGroup,this.commonInitOptions.telemetryGroup);this.commonInitOptions.webGroup=r.o(t.webGroup,this.commonInitOptions.webGroup);t.categories=n.validateCategoryOptions(t.categories);this.inAppFeedbackLaunchOptions=t},n.prototype.setFloodgateInitOptions=function(n){r.g(n,"passedInitOptions");var t={autoDismiss:n.autoDismiss,campaignDefinitions:n.campaignDefinitions,campaignFlights:n.campaignFlights,campaignQueryParameters:n.campaignQueryParameters,onDismiss:n.onDismiss,onSurveyActivatedCallback:n.onSurveyActivatedCallback,settingStorageCallback:n.settingStorageCallback,uIStringGetter:n.uIStringGetter,authTokenCallback:n.authTokenCallback,surveyEnabled:n.surveyEnabled,showEmailAddress:n.showEmailAddress,augLoopCallback:n.augLoopCallback,customerVoiceSurveyParams:n.customerVoiceSurveyParams,surveyCSSParams:n.surveyCSSParams,governanceServiceEnabled:n.governanceServiceEnabled,governanceServiceConfig:n.governanceServiceConfig,personalizerEnabled:n.personalizerEnabled,messagingServiceSettings:n.messagingServiceSettings,isPriorityEnabled:n.isPriorityEnabled,isEudbUxEnabled:n.isEudbUxEnabled};(void 0===t.autoDismiss&&(t.autoDismiss=0),void 0===t.onDismiss&&(t.onDismiss=function(){}),void 0===t.onSurveyActivatedCallback)&&(t.onSurveyActivatedCallback={onSurveyActivated:function(n){n.launch()}});void 0===t.uIStringGetter&&(t.uIStringGetter=function(n){return n});void 0===t.surveyEnabled?t.surveyEnabled=!0:r.d(t.surveyEnabled,"surveyEnabled");void 0!==t.showEmailAddress?r.d(t.showEmailAddress,"initOptionsFloodgate.showEmailAddress"):t.showEmailAddress=!0;void 0!==t.governanceServiceEnabled?r.d(t.governanceServiceEnabled,"initOptionsFloodgate.governanceServiceEnable"):t.governanceServiceEnabled=!1;t.governanceServiceEnabled&&(t.governanceServiceConfig=this.parseGovernanceServiceConfig(void 0!==t.governanceServiceConfig?t.governanceServiceConfig:{}));void 0===t.customerVoiceSurveyParams?t.customerVoiceSurveyParams={cvFlights:"",isCVSurveyEnabled:!0,productName:"",uiHost:""}:r.l(t.customerVoiceSurveyParams.isCVSurveyEnabled)&&(t.customerVoiceSurveyParams.isCVSurveyEnabled=!0);void 0!==t.personalizerEnabled?r.d(t.personalizerEnabled,"initOptionsFloodgate.personalizerEnabled"):t.personalizerEnabled=!1;void 0!==t.isPriorityEnabled?r.d(t.isPriorityEnabled,"initOptionsFloodgate.isPriorityEnabled"):t.isPriorityEnabled=!0;void 0!==t.isEudbUxEnabled?r.d(t.isEudbUxEnabled,"initOptionsFloodgate.isEudbUxEnabled"):t.isEudbUxEnabled=!0;this.floodgateInitOptions=t},n.prototype.setFloodgateSurvey=function(n){this.floodgateSurvey=n},n.prototype.checkIfSurveysEnabled=function(){return(!this.floodgateInitOptions||this.floodgateInitOptions.surveyEnabled)&&this.commonPolicyAllowAADC},n.prototype.isFeedbackSurveyEnabledByAADC=function(){return this.commonPolicyAllowAADC},n.prototype.getCVSurveyFlights=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.customerVoiceSurveyParams?this.floodgateInitOptions.customerVoiceSurveyParams.cvFlights:""},n.prototype.isCVSurveyEnabled=function(){return!this.floodgateInitOptions||!this.floodgateInitOptions.customerVoiceSurveyParams||this.floodgateInitOptions.customerVoiceSurveyParams.isCVSurveyEnabled},n.prototype.getProductName=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.customerVoiceSurveyParams?this.floodgateInitOptions.customerVoiceSurveyParams.productName:""},n.prototype.getUIHost=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.customerVoiceSurveyParams?this.floodgateInitOptions.customerVoiceSurveyParams.uiHost:""},n.prototype.getUIHostCVSurveyDispatcher=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.customerVoiceSurveyParams?this.floodgateInitOptions.customerVoiceSurveyParams.uiHostCVSurveyDispatcher:""},n.prototype.getCSSPosition=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&this.floodgateInitOptions.surveyCSSParams.cssPosition?this.floodgateInitOptions.surveyCSSParams.cssPosition:""},n.prototype.getCSSZIndex=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&this.floodgateInitOptions.surveyCSSParams.cssZIndex?this.floodgateInitOptions.surveyCSSParams.cssZIndex:""},n.prototype.getCSSBottom=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&this.floodgateInitOptions.surveyCSSParams.cssBottom?this.floodgateInitOptions.surveyCSSParams.cssBottom:""},n.prototype.getCSSRight=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&this.floodgateInitOptions.surveyCSSParams.cssRight?this.floodgateInitOptions.surveyCSSParams.cssRight:""},n.prototype.getCSSVarString=function(){var n=[];return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&(this.floodgateInitOptions.surveyCSSParams.cssPosition&&n.push("--obf-position:",this.floodgateInitOptions.surveyCSSParams.cssPosition,";"),this.floodgateInitOptions.surveyCSSParams.cssZIndex&&n.push("--obf-zIndex:",this.floodgateInitOptions.surveyCSSParams.cssZIndex,";"),this.floodgateInitOptions.surveyCSSParams.cssBottom&&n.push("--obf-bottom:",this.floodgateInitOptions.surveyCSSParams.cssBottom,";"),this.floodgateInitOptions.surveyCSSParams.cssRight&&n.push("--obf-right:",this.floodgateInitOptions.surveyCSSParams.cssRight,";")),n.join("")},n.prototype.determineAADCPolicy=function(n,t){return n===u.b.Unauthenticated||n===u.b.AAD||t!==u.a.MinorWithParentalConsent&&t!==u.a.MinorWithoutParentalConsent},n.prototype.getUserConsentGroup=function(){var n=this.commonInitOptions.authenticationType;if(n===u.b.Unauthenticated||n===u.b.AAD)return 1;switch(this.commonInitOptions.ageGroup){case u.a.Undefined:return 1;case u.a.MinorWithoutParentalConsent:case u.a.MinorWithParentalConsent:return 3;case u.a.Adult:return 1;case u.a.NotAdult:return 2;case u.a.MinorNoParentalConsentRequired:return 1;default:return 3}return 3},n.prototype.parseEventSamplingOption=function(n){var u={event:{}},t,i;if(void 0!==n)for(t in n)if(n.hasOwnProperty(t))switch(n[t].type){case"Event":if(i=n[t].sampleRate,r.f(i,"initOption.EventSampling.SampleRate"),r.h(n[t].name,"initOption.EventSampling.Name"),i<0||i>1)throw"initOption.EventSampling."+n[t].name+".SampleRate is out of range";u.event[n[t].name]=i;break;default:throw"initOption.EventSampling.Type value is not recognized";}return u},n.prototype.parseGovernanceServiceConfig=function(n){var t,i,r,u;return{forceServicelessSurveyDisplay:null!==(t=n.forceServicelessSurveyDisplay)&&void 0!==t&&t,retry:null!==(i=n.retry)&&void 0!==i?i:1,timeout:null!==(r=n.timeout)&&void 0!==r?r:1e3,simpleRequestEnabled:null!==(u=n.simpleRequestEnabled)&&void 0!==u&&u}},n}())},function(n,t,i){"use strict";function u(){return d.AWT}function ut(n,t,i,r,u){var o=n.telemetryGroup?n.telemetryGroup:{},v=n.webGroup?n.webGroup:{};f=new s(nt.create(h.getTenantToken(n.environment),"Office_Feedback",new c(t,i),new l(r),new a(n.appId.toString(),n.originalLocale,n.sessionId,n.build),new y(o.audienceGroup),new p(v.browser,v.browserVersion),new w(o.deviceId),new b(o.loggableUserId?o.loggableUserId:n.cid,o.tenantId)),u,n);e=n.environment}function ft(){return f}var s,h;i.d(t,"a",function(){return it});i.d(t,"c",function(){return ut});i.d(t,"b",function(){return ft});var c=function(){function n(n,t){if(!n)throw new Error("name must not be null");if(!t)throw new Error("version must not be null");this.name=n;this.version=t}return n.prototype.getName=function(){return this.name},n.prototype.getPlatform=function(){return n.PLATFORM},n.prototype.getVersion=function(){return this.version},n.PLATFORM="Web",n}(),l=function(){function n(n){if(!n)throw new Error("id must not be null");this.id=n}return n.prototype.getId=function(){return this.id},n}(),a=function(){function n(n,t,i,r){this.id=n;this.locale=t;this.sessionId=i;this.version=r}return n.prototype.getId=function(){return this.id},n.prototype.getLocale=function(){return this.locale},n.prototype.getSessionId=function(){return this.sessionId},n.prototype.getVersion=function(){return this.version},n}(),v=function(){function n(t,i,r,u){if(!t)throw new Error("name must not be null");if(!i)throw new Error("sessionId must not be null");if(!r&&0!==r||r<0)throw new Error("sequence must not be negative");this.name=t;this.id=i+n.ID_DELIMITER+r;this.sequence=r;this.sampleRate=u}return n.prototype.getName=function(){return this.name},n.prototype.getId=function(){return this.id},n.prototype.getSource=function(){return n.SOURCE},n.prototype.getSchemaVersion=function(){return n.SCHEMA_VERSION},n.prototype.getSequence=function(){return this.sequence},n.prototype.getSampleRate=function(){return this.sampleRate},n.ID_DELIMITER=".",n.SOURCE="MsoThin",n.SCHEMA_VERSION=1,n}(),y=function(){function n(n){this.audienceGroup=n}return n.prototype.getAudienceGroup=function(){return this.audienceGroup},n}(),p=function(){function n(n,t){this.name=n;this.version=t}return n.prototype.getName=function(){return this.name},n.prototype.getVersion=function(){return this.version},n}(),w=function(){function n(n){this.id=n}return n.prototype.getId=function(){return this.id},n}(),b=function(){function n(n,t){this.tenantId=t;this.primaryIdentityHash=n?n.trim():n;this.primaryIdentitySpace=this.generatePrimaryIdentitySpace()}return n.prototype.getTenantId=function(){return this.tenantId},n.prototype.getPrimaryIdentityHash=function(){return this.primaryIdentityHash},n.prototype.getPrimaryIdentitySpace=function(){return this.primaryIdentitySpace},n.prototype.generatePrimaryIdentitySpace=function(){if(this.primaryIdentityHash){if(this.primaryIdentityHash.startsWith("a:"))return"UserObjectId";if(this.primaryIdentityHash.startsWith("p:"))return"MsaPuid";if(this.primaryIdentityHash.startsWith("ap:"))return"OrgIdPuid"}},n}(),k=i(4),d=i(79);var f,e,g=function(){function n(n,t,i,r,f,e,o,s,h){if(!n)throw new Error("tenantToken must not be null");if(!t)throw new Error("namespace must not be null");if(!i)throw new Error("app must not be null");if(!r)throw new Error("session must not be null");u().initialize(n);this.namespace=t;this.oesApp=i;this.oesSession=r;this.oesHost=f;this.oesRelease=e;this.oesBrowser=o;this.oesDevice=s;this.oesUser=h;this.sequence=1}return n.setApp=function(n,t){n["App.Name"]=t.getName();n["App.Platform"]=t.getPlatform();n["App.Version"]=t.getVersion()},n.setSession=function(n,t){n["Session.Id"]=t.getId()},n.setHost=function(n,t){t&&(n["Host.Id"]=t.getId(),n["Host.SessionId2"]=t.getSessionId(),n["Host.Version"]=t.getVersion(),n["Host.Locale"]=t.getLocale())},n.setEvent=function(n,t){n["Event.Name"]=t.getName();n["Event.Id"]=t.getId();n["Event.Source"]=t.getSource();n["Event.SchemaVersion"]=t.getSchemaVersion();n["Event.Sequence"]=t.getSequence();n["Event.SampleRate"]=t.getSampleRate()},n.setRelease=function(n,t){t&&(n["Release.AudienceGroup"]=t.getAudienceGroup())},n.setBrowser=function(n,t){t&&(n["Browser.Name"]=t.getName(),n["Browser.Version"]=t.getVersion())},n.setDevice=function(n,t){t&&(n["Device.Id"]=t.getId())},n.setUser=function(n,t){t&&(n["User.PrimaryIdentityHash"]=t.getPrimaryIdentityHash(),n["User.PrimaryIdentitySpace"]=t.getPrimaryIdentitySpace(),n["User.TenantId"]=t.getTenantId())},n.prototype.logEvent=function(t,i,r){var o,f,e;if(void 0===r&&(r=1),!t)throw new Error("eventName must not be null");if(o=new v(this.namespace+n.EVENT_NAME_DELIMITER+t,this.oesSession.getId(),this.sequence,r),f={},null!=i)for(e in i)i.hasOwnProperty(e)&&(f[n.CUSTOM_PROPERTIES_FIELD_PREFIX+e]=i[e]);n.setApp(f,this.oesApp);n.setSession(f,this.oesSession);n.setHost(f,this.oesHost);n.setRelease(f,this.oesRelease);n.setEvent(f,o);n.setBrowser(f,this.oesBrowser);n.setDevice(f,this.oesDevice);n.setUser(f,this.oesUser);u().logEvent({name:o.getName(),properties:f});this.sequence++},n.EVENT_NAME_DELIMITER="_",n.CUSTOM_PROPERTIES_FIELD_PREFIX="Data.",n}(),nt=function(){function n(){}return n.create=function(n,t,i,r,u,f,e,o,s){return new g(n,t,i,r,u,f,e,o,s)},n}(),o=i(16),tt=i(14),it=function(){function n(){}var p,r,w,b,u,k,d,f,e,g,nt,o,s,tt,it,rt,ut,ft,et,i,h,ot,st,c,ht,ct,l,lt,at,t,a,vt,yt,pt,wt,bt,kt,v,dt,gt,ni,ti,y,ii,ri;return n.InApp=((p=function(){}).UI=((r=function(){}).Picker=((w=function(){}).Shown=((b=function(){}).VALUE={name:"InApp_UI_Picker_Shown"},b),w),r.Form=((u=function(){}).Shown=((k=function(){}).VALUE={name:"InApp_UI_Form_Shown"},k),u.Submit=((d=function(){}).VALUE={name:"InApp_UI_Form_Submit"},d),u),r),p),n.SURVEY_FLOODGATE_CAMPAIGNLOAD_FAILED={name:"Survey_Floodgate_CampaignLoad_Failed"},n.SURVEY_FLOODGATE_FILEREAD_FAILED={name:"Survey_Floodgate_FileRead_Failed"},n.SURVEY_FLOODGATE_FILEWRITE_FAILED={name:"Survey_Floodgate_FileWrite_Failed"},n.SURVEY_FLOODGATE_TRIGGERMET={name:"Survey_Floodgate_TriggerMet"},n.SURVEY_FLOODGATE_USERSELECTED={name:"Survey_Floodgate_UserSelected"},n.SURVEY_UI_FORM_SHOWN={name:"Survey_UI_Form_Shown"},n.SURVEY_UI_FORM_DISPATCHER_IMPLEMENTED={name:"Survey_UI_Form_Dispatcher_Implemented"},n.SURVEY_UI_FORM_SUBMIT={name:"Survey_UI_Form_Submit"},n.SURVEY_UI_FORM_SECONDARY_SUBMIT={name:"Survey_UI_Form_Secondary_Submit"},n.SURVEY_UI_FORM_SUBMIT_ERROR={name:"Survey_UI_Form_Submit_Error"},n.SURVEY_UI_FORM_USERCLOSED={name:"Survey_UI_Form_UserClosed"},n.SURVEY_UI_THANKYOUPAGE_USERCLOSED={name:"Survey_UI_ThankYouPage_UserClosed"},n.SURVEY_UI_FORM_NO_RETURN_TYPE={name:"Survey_UI_Form_No_Return_Type"},n.SURVEY_UI_PROMPT_AUTODISMISSED={name:"Survey_UI_Prompt_AutoDismissed"},n.SURVEY_UI_THANKYOUPAGE_AUTODISMISSED={name:"Survey_UI_ThankYouPage_AutoDismissed"},n.SURVEY_UI_PROMPT_SHOWN={name:"Survey_UI_Prompt_Shown"},n.SURVEY_UI_PROMPT_USERCLOSED={name:"Survey_UI_Prompt_UserClosed"},n.SURVEY_UI_ADDITIONALPROMPT_USERCLOSED={name:"Survey_UI_AdditionalPrompt_UserClosed"},n.SURVEY_UI_PROMPT_CLICKED={name:"Survey_UI_Prompt_Clicked"},n.SURVEY_UI_ADDITIONALPROMPT_CLICKED={name:"Survey_UI_AdditionalPrompt_Clicked"},n.SURVEY_UI_REDIRECTIONFAILURE={name:"Survey_UI_RedirectionFailure"},n.GOVERNANCE_SERVICEFAILURE={name:"Gorvenance_ServiceFailure"},n.GOVERNANCE_SERVICERESULT={name:"Gorvenance_ServiceResult"},n.DYNAMICTRANSPORT_POST_ERROR={name:"DynamicTransport_Post_Error"},n.FEEDBACK_SURVEYSDISABLED_AADC={name:"Feedback_SurveysDisabled_AADC"},n.SURVEY_UI_DISABLED_AADC={name:"Survey_UI_Prevented_AADC"},n.PERSONALIZER_SERVICEREWARDRESULT={name:"Personalizer_ServiceRewardResult"},n.PERSONALIZER_CLIENTFAILURE={name:"Personalizer_ClientFailure"},n.APPDATA_JSON_PARSE_ERROR={name:"AppData_JSON_Parse_Error"},n.SURVEY_RENDER_OVERRIDE_ERROR={name:"Survey_Render_Override_Error"},n.SURVEY_RENDER_OVERRIDE_SUCCESS={name:"Survey_Render_Override_Success"},n.SURVEY_EVENT_KEY_ERROR={name:"Survey_Event_Key_Error"},n.Shared=((f=function(){}).Upload=((e=function(){}).Failed=((g=function(){}).VALUE={name:"Shared_Upload_Failed"},g),e.Prevented=((nt=function(){}).VALUE={name:"Shared_Upload_Prevented_AADC"},nt),e),f.Screenshot=((o=function(){}).Render=((s=function(){}).Failed=((tt=function(){}).VALUE={name:"Shared_Screenshot_Render_Failed"},tt),s.Success=((it=function(){}).VALUE={name:"Shared_Screenshot_Render_Success"},it),s),o.GetContent=((rt=function(){}).Failed=((ut=function(){}).DefaultImage=((ft=function(){}).Returned=((et=function(){}).VALUE={name:"Shared_Screenshot_GetContent_Failed_DefaultImage_Returned"},et),ft),ut),rt),o),f),n.WebSurfaces=((i=function(){}).Common=((h=function(){}).Error=((ot=function(){}).VALUE={name:"WebSurfaces_Common_Error"},ot),h.Info=((st=function(){}).VALUE={name:"WebSurfaces_Common_Info"},st),h),i.CampaignMetadataAggregator=((c=function(){}).Error=((ht=function(){}).VALUE={name:"WebSurfaces_CampaignMetadataAggregator_Error"},ht),c.Requests=((ct=function(){}).VALUE={name:"WebSurfaces_CampaignMetadataAggregator_Requests"},ct),c),i.SetCampaignAction=((l=function(){}).Error=((lt=function(){}).VALUE={name:"WebSurfaces_SetCampaignAction_Error"},lt),l.Requests=((at=function(){}).VALUE={name:"WebSurfaces_SetCampaignAction_Requests"},at),l),i),n.UserFacts=((t=function(){}).Common=((a=function(){}).Error=((vt=function(){}).VALUE={name:"UserFacts_Common_Error"},vt),a.Info=((yt=function(){}).VALUE={name:"UserFacts_Common_Info"},yt),a),t.LocalFact=((pt=function(){}).Error=((wt=function(){}).VALUE={name:"UserFacts_LocalFact_Error"},wt),pt),t.Messaging=((bt=function(){}).Requests=((kt=function(){}).VALUE={name:"UserFacts_Messaging_Requests"},kt),bt),t.AugLoop=((v=function(){}).Requests=((dt=function(){}).VALUE={name:"UserFacts_AugLoop_Requests"},dt),v.Error=((gt=function(){}).VALUE={name:"UserFacts_AugLoop_Error"},gt),v),t.Provider=((ni=function(){}).Info=((ti=function(){}).VALUE={name:"UserFacts_Provider_Summary"},ti),ni),t),n.Common=((y=function(){}).Error=((ii=function(){}).VALUE={name:"Common_Error"},ii),y.Info=((ri=function(){}).VALUE={name:"Common_Info"},ri),y),n}(),rt=i(13),r=k.l;s=function(){function n(n,t,i){if(this.SAMPLING_RESULT=Math.random(),!n)throw new Error("telemetryLogger must not be null");this.telemetryLogger=n;this.eventSampling=t;this.initOptionsCommon=i}return n.prototype.logEvent=function(t,i,u,f){if(!t)throw new Error("eventId must not be null");var o;return(this.isEventSampled(t.name)?o=this.getEventSamplingRate(t.name):void 0!==f&&(o=f),r(i)||0===i)?(0===e&&(this.isConsoleLogEnabled&&console&&console.log("Floodgate event: ",n.EVENT_NAME,"logSeverity must not be null or none"),this.telemetryLogger.logEvent(n.EVENT_NAME,{ErrorMessage:"logSeverity must not be null or none"},o)),!1):((u=u||{})[n.EVENT_ID]=t.name,(this.isLoggingEnabled(i,o)||this.isEventTelemetryEnabled(t.name))&&(o=null!=o?o:n.DEFAULT_SAMPLE_RATE,this.telemetryLogger.logEvent(n.EVENT_NAME,u,o)),this.isConsoleLogEnabled&&console&&console.log("Floodgate event: ",n.EVENT_NAME,i,u),!0)},n.prototype.logLocal=function(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];this.isLoggingEnabled(n)&&this.isConsoleLogEnabled&&console&&console.log("LPP FG: ",n,i)},n.prototype.getUserSamplingRate=function(){return this.SAMPLING_RESULT},n.prototype.isEventTelemetryEnabled=function(n){var i,r,u,f;try{if(!this.dynamicLogSettings)return!1;var e=null===(r=null===(i=this.initOptionsCommon)||void 0===i?void 0:i.appId)||void 0===r?void 0:r.toString(),o=null===(f=null===(u=this.initOptionsCommon)||void 0===u?void 0:u.originalLocale)||void 0===f?void 0:f.toLowerCase(),t="content_"+n,s=this.dynamicLogSettings[t+"_"+e+"_"+o]||this.dynamicLogSettings[t+"_"+e]||this.dynamicLogSettings[t+"_"+o]||this.dynamicLogSettings[t];return null==s?void 0:s.isEnabled}catch(n){this.isConsoleLogEnabled&&console.log("FG: Error checking for dynamic log settings: ",n)}return!1},n.prototype.isLoggingEnabled=function(t,i){var u,f;return r(this.logLevel)&&(u=this.getCurrentLogLevel(),this.logLevel=r(u)?2:u),f=null!=i?i:n.DEFAULT_SAMPLE_RATE,(t<=this.logLevel||0!==this.logLevel&&void 0!==i)&&this.SAMPLING_RESULT<=f&&0!==f},n.prototype.getCurrentLogLevel=function(){var t,f,e,s,i,n,u,h,c;try{if(t="undefined"!=typeof URLSearchParams&&new URLSearchParams(window.location.search)||void 0,f=t&&t.get("obfconsolelog"),f||(e="undefined"!=typeof document&&document.referrer,f=e&&-1!==e.indexOf("obfconsolelog")),f&&(this.isConsoleLogEnabled=!0),s=t&&t.get("obfloglevel"),!r(s))return this.isConsoleLogEnabled=!0,parseInt(s,10);if(o.a.isStorageAvailable()&&(i=(new o.a).read(tt.FileType.LogLevelSettings),i||(i=Object(rt.a)("LogLevelSettings","")),n=i&&this.parseObject(i),n&&(this.dynamicLogSettings=n,u=n.content,this.initOptionsCommon&&(h=this.initOptionsCommon.appId&&this.initOptionsCommon.appId.toString(),c=this.initOptionsCommon.originalLocale&&this.initOptionsCommon.originalLocale.toLowerCase(),u=n["content_"+h+"_"+c]||n["content_"+h]||n["content_"+c]||n.content),u)))return u.consoleLog&&(this.isConsoleLogEnabled=!0),u.logLevel}catch(t){return void(this.isConsoleLogEnabled&&console.log("Error while getting the current log level: ",t))}return null},n.prototype.parseObject=function(n){try{return JSON.parse(n)}catch(n){return this.isConsoleLogEnabled&&console.log("Error while parsing the json string for log level: ",n),null}},n.prototype.getEventSamplingRate=function(n){var t=1;return this.eventSampling.event&&n in this.eventSampling.event&&(t=this.eventSampling.event[n]),t},n.prototype.isEventSampled=function(n){return!(!this.eventSampling.event||!(n in this.eventSampling.event))},n.EVENT_NAME="SDK",n.EVENT_ID="EventId",n.DEFAULT_SAMPLE_RATE=1,n}();h=function(){function n(){}return n.getTenantToken=function(t){return 0===t?n.TENANT_TOKEN_PRODUCTION:n.TENANT_TOKEN_PRE_PRODUCTION},n.TENANT_TOKEN_PRODUCTION="d79e824386c4441cb8c1d4ae15690526-bd443309-5494-444a-aba9-0af9eef99f84-7360",n.TENANT_TOKEN_PRE_PRODUCTION="2bf6a2ffddca4a80a892a0b182132961-625cb102-8b0c-480e-af53-92e48695d08d-7736",n}()},function(n,t,i){"use strict";function u(n){r=n}function f(){return r}var r;i.d(t,"b",function(){return u});i.d(t,"a",function(){return f})},function(n,t,i){"use strict";function o(n){return"number"==typeof n}function a(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function v(n){return f(n)&&/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(n)}function y(n,t){if(!c(n))throw t+" is not an object: "+n;}function p(n,t){if(!o(n))throw t+" is not a number: "+n;}function w(n,t){if(!f(n))throw t+" is not a string: "+n;}function b(n,t){if(!e(n))throw t+" is not a boolean: "+n;}function k(n,t){if(!Array.isArray(n))throw t+" is not an array: "+n;}function d(n,t,i){if(!o(n)||!l(n,t))throw i+" is not an enum: "+n;}function g(n,t){var i=new Promise(function(t,i){var r=setTimeout(function(){clearTimeout(r);i("Timed out in "+n+"ms.")},n)});return Promise.race([t,i])}function nt(n){var t,r,i,f;try{for(t=0;t<document.styleSheets.length;t++)for(r=document.styleSheets[t],i=0;i<r.rules.length;i++)if(f=r.rules[i],!u(f.selectorText)&&f.selectorText.includes(n))return!0}catch(n){}return!1}function tt(n){if(u(n)||""===n||!v(n))return!1;var t=n.toLowerCase();return"00000000-0000-0000-0000-000000000000"!==t&&"9188040d-6c67-4c5b-b112-36a304b66dad"!==t&&"84df9e7f-e9f6-40af-b435-aaaaaaaaaaaa"!==t}i.d(t,"i",function(){return s});i.d(t,"o",function(){return h});i.d(t,"l",function(){return u});i.d(t,"j",function(){return e});i.d(t,"m",function(){return f});i.d(t,"k",function(){return a});i.d(t,"g",function(){return y});i.d(t,"f",function(){return p});i.d(t,"h",function(){return w});i.d(t,"d",function(){return b});i.d(t,"c",function(){return k});i.d(t,"e",function(){return d});i.d(t,"b",function(){return g});i.d(t,"a",function(){return nt});i.d(t,"n",function(){return tt});var r=i(10),s=r.Utils.guid,h=r.Utils.overrideValues,u=r.Utils.isNOU,e=r.Utils.isBoolean,f=r.Utils.isString,c=r.Utils.isObject,l=r.Utils.isEnumValue},function(n,t,i){"use strict";function f(n,t){s(n,t?r.c.Hidden:r.c.Visible,t?r.c.Visible:r.c.Hidden)}function l(n){var t=document.getElementById(n);null!=t&&null!=t.parentNode&&t.parentNode.removeChild(t)}function o(n,t){var i=document.getElementById(n);i&&(i.className.match(new RegExp("\\b"+t+"\\b"))||(i.className=i.className+" "+t))}function s(n,t,i){!function(n,t){var i=document.getElementById(n);i&&(i.className=i.className.split(new RegExp("\\b"+t+"\\b","i")).join(" "),i.className=i.className.split(/\s+/).join(" "))}(n,t);o(n,i)}function a(n,t,i){var r=document.getElementById(n);r&&r.setAttribute(t,i)}function e(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&n.attachEvent("on"+t,i)}function h(n,t,i){n.removeEventListener?n.removeEventListener(t,i,!1):n.detachEvent&&n.detachEvent("on"+t,i)}function v(n,t,i){var r=document.getElementById(n);r&&e(r,t,i)}function y(n,t,i){n&&e(n,t,i)}function p(n,t,i){var r=document.getElementById(n);r&&h(r,t,i)}function w(){var n=-1,t=window.navigator.userAgent;return t.indexOf("Trident")>-1&&null!=new RegExp("Trident/([0-9]{1,}[.0-9]{0,})").exec(t)&&(n=parseFloat(RegExp.$1),n+=4),n}function b(){return"rtl"===getComputedStyle(document.documentElement).direction}function k(n,t){var r=document.getElementById(n),e=r&&r.checked,o=document.getElementById(t),i;e?(f(t,!0),i=performance.now(),c.a(document.body).then(function(n){var t=performance.now();u.b().logEvent(u.a.Shared.Screenshot.Render.Success.VALUE,1,{TimeMilliseconds:t-i});o.src=n.toDataURL()}).catch(function(n){var t=performance.now();u.b().logEvent(u.a.Shared.Screenshot.Render.Failed.VALUE,2,{ErrorMessage:n,TimeMilliseconds:t-i})})):f(t,!1)}i.d(t,"l",function(){return f});i.d(t,"d",function(){return l});i.d(t,"b",function(){return o});i.d(t,"j",function(){return s});i.d(t,"k",function(){return a});i.d(t,"c",function(){return e});i.d(t,"i",function(){return h});i.d(t,"g",function(){return v});i.d(t,"h",function(){return y});i.d(t,"m",function(){return p});i.d(t,"e",function(){return w});i.d(t,"f",function(){return b});i.d(t,"a",function(){return k});var r=i(0),c=i(27),u=i(2)},function(n,t,i){"use strict";function f(n,t){function i(){this.constructor=n}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(n,t);n.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function e(n,t,i,r){return new(i||(i=Promise))(function(u,f){function o(n){try{e(r.next(n))}catch(n){f(n)}}function s(n){try{e(r.throw(n))}catch(n){f(n)}}function e(n){var t;n.done?u(n.value):(t=n.value,t instanceof i?t:new i(function(n){n(t)})).then(o,s)}e((r=r.apply(n,t||[])).next())})}function o(n,t){function o(e){return function(o){return function(e){if(f)throw new TypeError("Generator is already executing.");for(;r;)try{if(f=1,u&&(i=2&e[0]?u.return:e[0]?u.throw||((i=u.return)&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;switch(u=0,i&&(e=[2&e[0],i.value]),e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,(i=i.length>0&&i[i.length-1])||6!==e[0]&&2!==e[0])){r=0;continue}if(3===e[0]&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(6===e[0]&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(n){e=[6,n];u=0}finally{f=i=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,o])}}var f,u,i,e,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:o(0),"throw":o(1),"return":o(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e}var r,u;i.d(t,"c",function(){return f});i.d(t,"a",function(){return u});i.d(t,"b",function(){return e});i.d(t,"d",function(){return o});r=function(n,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])})(n,t)};u=function(){return(u=Object.assign||function(n){for(var r,i,t=1,u=arguments.length;t<u;t++)for(i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n}).apply(this,arguments)};Object.create;Object.create},function(n,t,i){"use strict";var r,u,f;i.d(t,"f",function(){return u});i.d(t,"g",function(){return f});i.d(t,"b",function(){return r});i.d(t,"a",function(){return e});i.d(t,"c",function(){return o});i.d(t,"e",function(){return s});i.d(t,"d",function(){return h});u="customervoice";f="Customer Voice Survey UX";!function(n){n[n.Smile=0]="Smile";n[n.Frown=1]="Frown";n[n.Idea=2]="Idea";n[n.Bug=3]="Bug";n[n.IdeaRedirect=4]="IdeaRedirect"}(r||(r={}));var e=function(){function n(){}return n.WebSurfacesIntLink="https://res-sdf.cdn.office.net/office-growth/resources/programmablesurfaces/int/officewebsurfaces.core.min.js",n.WebSurfacesProdLink="https://res.cdn.office.net/office-growth/resources/programmablesurfaces/prod/officewebsurfaces.core.min.js",n}(),o=function(){function n(){}return n.TMSAppID="4c4f550b-42b2-4a16-93f9-fdb9e01bb6ed",n.TULIPSAppID="05c88d91-956e-46b4-91b0-77a33cc21a4d",n}(),s="Web SDK v",h="UxId:built-in|comp2022_v1"},function(n,t,i){"use strict";function e(){return f}function o(){return f}function s(n){u.setUiStrings=n}function h(n){u.singleFeedback=n}function c(n){u.multiFeedback=n}function l(n){u.getFeedbackStatus=n}function a(n){u.createScreenshot=n}function v(n){u.isFeedbackSurveyEnabledByAADC=n}function y(n){r.customUXHandler=n}function p(n){r.showSurvey=n}function w(n){r.showFormSurvey=n}function b(n){r.showCustomSurvey=n}function k(n){r.initialize=n}function d(n){r.start=n}function g(n){r.stop=n}function nt(n){r.getEngine=n}function tt(n){r.getSettingIdMap=n}i.d(t,"a",function(){return e});i.d(t,"b",function(){return o});i.d(t,"p",function(){return s});i.d(t,"q",function(){return h});i.d(t,"o",function(){return c});i.d(t,"e",function(){return l});i.d(t,"d",function(){return a});i.d(t,"n",function(){return v});i.d(t,"f",function(){return y});i.d(t,"k",function(){return p});i.d(t,"j",function(){return w});i.d(t,"i",function(){return b});i.d(t,"h",function(){return k});i.d(t,"l",function(){return d});i.d(t,"m",function(){return g});i.d(t,"g",function(){return nt});i.d(t,"c",function(){return tt});var f=window,u=f.OfficeBrowserFeedback=f.OfficeBrowserFeedback||{},r=u.floodgate=u.floodgate||{}},function(n,t){"use strict";function u(n){return"[object Date]"===Object.prototype.toString.call(n)&&!isNaN(n.getTime())}function f(n){return null==n}function r(n){return"string"==typeof n}function e(n,i){if(!n)return null;if(i<0)return i=-i,this.addSecondsWithoutOverflow(n,i);var r=n.getTime()-1e3*i;return r>t.MIN_DATE_MILLISECONDS?new Date(r):new Date(t.MIN_DATE_MILLISECONDS)}function o(n){if(!n)return null;var t=n.match("^((?:[a-zA-Z]{2,3}(?:-[a-zA-Z]{3}){0,3})|(?:[a-zA-Z]{4,8}))(?:-([a-zA-Z]{4}))?(?:-([a-zA-Z]{2}|[0-9]{3}))?(-.*)?$");return!t||t.length<1||!f(t[4])?null:t[0]}function i(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}Object.defineProperty(t,"__esModule",{value:!0});t.findHighestPriorityDefinition=t.safeParseObject=t.isValidUserId=t.fyShuffle=t.dateToShortUtcString=t.isUtcDatetimeString=t.overrideValues=t.stringToDate=t.makeArrayFromObjectValuesSortedByKeyString=t.guid=t.extractLanguageSubtag=t.isValidLanguageSubTag=t.subtractSecondsWithoutOverflow=t.addSecondsWithoutOverflow=t.MIN_DATE_MILLISECONDS=t.MAX_DATE_MILLISECONDS=t.getDistantFuture=t.getDistantPast=t.isBoolean=t.isString=t.isArray=t.isFunction=t.isObject=t.isNOU=t.isNumber=t.isEnumValue=t.isDate=t.timeAdd=void 0;t.timeAdd=function(n,t,i){switch(t.toLowerCase()){case"h":case"hour":return new Date(n.getTime()+36e5*i);case"m":case"minute":return new Date(n.getTime()+6e4*i);case"s":case"second":return new Date(n.getTime()+1e3*i);default:throw new Error("Invalid interval value of "+t);}};t.isDate=u;t.isEnumValue=function(n,t){return n in t};t.isNumber=function(n){return null!==n&&!isNaN(n)&&isFinite(n)};t.isNOU=f;t.isObject=function(n){return null!=n&&"object"==typeof n};t.isFunction=function(n){return null!=n&&"function"==typeof n};t.isArray=function(n){return null!=n&&Array.isArray(n)};t.isString=r;t.isBoolean=function(n){return"boolean"==typeof n};t.getDistantPast=function(){return new Date(-116444736e5)};t.getDistantFuture=function(){return new Date(640922112e5)};t.MAX_DATE_MILLISECONDS=864e13;t.MIN_DATE_MILLISECONDS=-864e13;t.addSecondsWithoutOverflow=function(n,i){if(!n)return null;if(i<0)return e(n,-1*i);var r=n.getTime()+1e3*i;return r<t.MAX_DATE_MILLISECONDS?new Date(r):new Date(t.MAX_DATE_MILLISECONDS)};t.subtractSecondsWithoutOverflow=e;t.isValidLanguageSubTag=function(n){if(!n)return!1;var t=o(n);return!!t&&t===n};t.extractLanguageSubtag=o;t.guid=function(){return(i()+i()+"-"+i()+"-4"+i().substr(0,3)+"-"+i()+"-"+i()+i()+i()).toLowerCase()};t.makeArrayFromObjectValuesSortedByKeyString=function(n){var t=Object.keys(n),i,r,u;t.sort();i=[];for(r in t)t.hasOwnProperty(r)&&(u=t[r],i.push(n[u]));return i};t.stringToDate=function(n){if(!r(n))return null;var t=n?new Date(n):null;return u(t)?t:null};t.overrideValues=function(n,t){var r,i;if(!t)return t;if(r=t,n)for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r};t.isUtcDatetimeString=function(n){return!!r(n)&&/^(\d{4}\-\d\d\-\d\dT\d\d:\d\d:\d\d(\.\d\d\d)?Z)$/.test(n)};t.dateToShortUtcString=function(n){function t(n){return n<10?"0"+n:n.toString()}return u(n)?n.getUTCFullYear()+"-"+t(n.getUTCMonth()+1)+"-"+t(n.getUTCDate())+"T"+t(n.getUTCHours())+":"+t(n.getUTCMinutes())+":"+t(n.getUTCSeconds())+"Z":null};t.fyShuffle=function(n){var t,i,r;if(!f(n)){if(0===n.length||1===n.length)return n;for(t=n.length-1;t>0;)i=Math.floor(Math.random()*(t+1)),r=n[t],n[t]=n[i],n[i]=r,t--;return n}};t.isValidUserId=function(n){return!!r(n)&&/^([a-z]{1,2}):\w+/.test(n)};t.safeParseObject=function(n,t){try{var i=!n||"{"!==n[0]&&"["!==n[0]?void 0:JSON.parse(n);return null!=i?i:t}catch(n){}return t};t.findHighestPriorityDefinition=function(n){var t=!1;return[n.reduce(function(n,i){var r=i.primaryPriority||0,u=n.primaryPriority||0;return r!==u&&(t=!0),r<u?i:n}),t]}},function(n,t,i){"use strict";var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.Utils=t.Api=void 0;r=i(11);t.Api=r;u=i(9);t.Utils=u;f=i(20);Object.defineProperty(t,"FloodgateEngine",{enumerable:!0,get:function(){return f.FloodgateEngine}})},function(n,t,i){"use strict";var r,u,f,e,o,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.ISurveyInfo=t.ISurveyComponent=t.ISurvey=t.IFloodgateSettingIdMap=t.IFloodgateStorageProvider=t.IActivityListener=void 0;r=i(37);t.ISurveyInfo=r;u=i(57);t.IActivityListener=u;f=i(58);t.IFloodgateSettingIdMap=f;e=i(14);t.IFloodgateStorageProvider=e;o=i(18);t.ISurvey=o;s=i(19);t.ISurveyComponent=s;h=i(21);Object.defineProperty(t,"CampaignDefinition",{enumerable:!0,get:function(){return h.CampaignDefinition}})},function(n,t,i){"use strict";var r,u,f;i.d(t,"c",function(){return r});i.d(t,"a",function(){return u});i.d(t,"b",function(){return f}),function(n){n[n.None=0]="None";n[n.Css=1]="Css";n[n.Strings=2]="Strings"}(r||(r={})),function(n){n[n.Undefined=0]="Undefined";n[n.MinorWithoutParentalConsent=1]="MinorWithoutParentalConsent";n[n.MinorWithParentalConsent=2]="MinorWithParentalConsent";n[n.Adult=3]="Adult";n[n.NotAdult=4]="NotAdult";n[n.MinorNoParentalConsentRequired=5]="MinorNoParentalConsentRequired"}(u||(u={})),function(n){n[n.MSA=0]="MSA";n[n.AAD=1]="AAD";n[n.Unauthenticated=2]="Unauthenticated"}(f||(f={}))},function(n,t,i){"use strict";function h(n,t){var e,i,h;try{if(!r&&o.a.isStorageAvailable()&&(r=new s.a(["DynamicSettings"])),!r)return t;if(e=r.getItemContent("DynamicSettings"),!f(e)&&e.hasOwnProperty(n)&&!f(e[n]))return(i=e[n],"number"==typeof t&&"number"!=typeof i)?"string"==typeof i?(h=-1===i.indexOf(".")?parseInt(i,10):parseFloat(i),isNaN(h)?t:h):t:i}catch(t){u.b().logEvent(u.a.Common.Error.VALUE,2,{ErrorMessage:"Error reading dynamic setting "+(t&&t.message),Type:n})}return t}i.d(t,"a",function(){return h});var e=i(4),o=i(16),s=i(34),u=i(2),f=e.l,r=null},function(n){"use strict";var t;!function(n){!function(n){n[n.FloodgateSettings=0]="FloodgateSettings";n[n.SurveyActivationStats=1]="SurveyActivationStats";n[n.SurveyEventActivityStats=2]="SurveyEventActivityStats";n[n.CampaignDefinitions=3]="CampaignDefinitions";n[n.CampaignStates=4]="CampaignStates";n[n.GovernedChannelStates=5]="GovernedChannelStates";n[n.TmsCache_MessageMetadata=6]="TmsCache_MessageMetadata";n[n.TmsCache_UserGovernance=7]="TmsCache_UserGovernance";n[n.TmsCache_CampaignContent=8]="TmsCache_CampaignContent";n[n.Tms_DynamicSettings=9]="Tms_DynamicSettings";n[n.LogLevelSettings=10]="LogLevelSettings";n[n.UserFacts=11]="UserFacts";n[n.DebugOverrides=12]="DebugOverrides"}(n.FileType||(n.FileType={}))}(t||(t={}));n.exports=t},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TelemetryEvent=void 0;var i=function(){function n(){}var a,v,y,p,w,b,i,k,u,d,g,f,nt,r,tt,it,rt,e,t,o,ut,ft,et,ot,st,ht,s,ct,lt,at,vt,h,yt,pt,c,l,wt;return n.CampaignState=((a=function(){}).Deserialize=((v=function(){}).Failed="FloodgateCore_CampaignState_Deserialize_Failed",v),a),n.FileBasedCampaignStateProvider=((y=function(){}).Load=((p=function(){}).Failed="FloodgateCore_FileBasedCampaignStateProvider_Load_Failed",p),y),n.HostBasedCampaignStateProvider=((w=function(){}).GetStatesFromHost=((b=function(){}).Failed="FloodgateCore_HostBasedCampaignStateProvider_GetStatesFromHost_Failed",b),w),n.Floodgate=((i=function(){}).Initialize=((k=function(){}).Failed="FloodgateCore_Floodgate_Initialize_Failed",k),i.Start=((u=function(){}).Failed="FloodgateCore_Floodgate_Start_Failed",u.Warning="FloodgateCore_Floodgate_Start_Warning",u.SurveysDisabled="FloodgateCore_Floodgate_Start_SurveysDisabled",u),i.UserFactsLoad=((d=function(){}).Failed="FloodgateCore_Floodgate_UserFactsLoad_Failed",d),i.UserFactsSpecDeserialization=((g=function(){}).Failed="FloodgateCore_Floodgate_UserFactsSpecDeserialization_Failed",g),i.UserFactsSpecIsAMatch=((f=function(){}).Failed="FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Failed",f.Mismatch="FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Mismatch",f.Summary="FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Summary",f),i.RenderSurvey=((nt=function(){}).Unsupported="FloodgateCore_Floodgate_RenderSurvey_Unsupported",nt),i),n.FloodgateEngine=((r=function(){}).Make=((tt=function(){}).Failed="FloodgateCore_FloodgateEngine_Make_Failed",tt),r.Common=((it=function(){}).Error="FloodgateCore_FloodgateEngine_Common_Error",it),r.Start=((rt=function(){}).Failed="FloodgateCore_FloodgateEngine_Start_Failed",rt),r.StartAsync=((e=function(){}).Failed="FloodgateCore_FloodgateEngine_StartAsync_Failed",e.Stopped="FloodgateCore_FloodgateEngine_StartAsync_Stopped",e),r.OnSurveyActivated=((t=function(){}).ActivationStatsSuppressedSurvey="FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationStatsSuppressedSurvey",t.ClosedChannelType="FloodgateCore_FloodgateEngine_OnSurveyActivated_ClosedChannelType",t.SurveyNotDefined="FloodgateCore_FloodgateEngine_OnSurveyActivated_SurveyNotDefined",t.SessionSuppressedSurvey="FloodgateCore_FloodgateEngine_OnSurveyActivated_SessionSuppressedSurvey",t.ActivationExpiredSurvey="FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationExpiredSurvey",t.ActivationIrrelevantSurvey="FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationIrrelevantSurvey",t.Error="FloodgateCore_FloodgateEngine_OnSurveyActivated_Error",t),r.CheckGovernanceServiceAndActivateSurvey=((o=function(){}).GovernanceServiceForceToDisplay="FloodgateCore_FloodgateEngine_GovernanceService_GovernanceServiceForceToDisplay",o.GovernanceServiceClientCompleted="FloodgateCore_FloodgateEngine_GovernanceService_GovernanceServiceClientCompleted",o),r),n.GovernedChannelState=((ut=function(){}).Deserialize=((ft=function(){}).Failed="FloodgateCore_GovernedChannelState_Deserialize_Failed",ft),ut),n.FileBasedGovernedChannelStateProvider=((et=function(){}).Load=((ot=function(){}).Failed="FloodgateCore_FileBasedGovernedChannelStateProvider_Load_Failed",ot),et),n.HostBasedGovernedChannelStateProvider=((st=function(){}).GetStatesFromHost=((ht=function(){}).Failed="FloodgateCore_HostBasedGovernedChannelStateProvider_GetStatesFromHost_Failed",ht),st),n.SurveyStatCollectionActivation=((s=function(){}).FromJson=((ct=function(){}).Failed="FloodgateCore_SurveyStatCollectionActivation_FromJson_Failed",ct),s.ToJson=((lt=function(){}).Failed="FloodgateCore_SurveyStatCollectionActivation_ToJson_Failed",lt),s),n.HostBasedSurveyActivationStatsProvider=((at=function(){}).GetSurveyStatsFromHost=((vt=function(){}).Failed="FloodgateCore_HostBasedSurveyActivationStatsProvider_GetSurveyStatsFromHost_Failed",vt),at),n.SurveyStatCollectionEventActivity=((h=function(){}).FromJson=((yt=function(){}).Failed="FloodgateCore_SurveyStatCollectionEventActivity_FromJson_Failed",yt),h.ToJson=((pt=function(){}).Failed="FloodgateCore_SurveyStatCollectionEventActivity_ToJson_Failed",pt),h),n.SurveyActivity=((c=function(){}).LogActivity=((l=function(){}).EventsReprocessed="FloodgateCore_SurveyActivity_LogActivity_EventsReprocessed",l.SurveysReprocessed="FloodgateCore_SurveyActivity_LogActivity_SurveysReprocessed",l),c.SetActivityTrackingContracts=((wt=function(){}).DuplicateSurveyID="FloodgateCore_SurveyActivity_SetActivityTrackingContracts_DuplicateSurveyID",wt),c),n}();t.TelemetryEvent=i},function(n,t,i){"use strict";var u,s=i(11),f=i(8),e=i(2),r=s.IFloodgateStorageProvider.FileType,o=((u={})[r.CampaignDefinitions]="obf-CampaignDefinitions",u[r.CampaignStates]="obf-CampaignStates",u[r.FloodgateSettings]="obf-FloodgateSettings",u[r.GovernedChannelStates]="obf-GovernedChannelStates",u[r.SurveyActivationStats]="obf-SurveyActivationStats",u[r.SurveyEventActivityStats]="obf-SurveyEventActivityStats",u[r.TmsCache_CampaignContent]="obf-TmsCampaignContent",u[r.TmsCache_MessageMetadata]="obf-TmsMessageMetadata",u[r.TmsCache_UserGovernance]="obf-TmsUserGovernance",u[r.Tms_DynamicSettings]="obf-TmsDynamicSettings",u[r.LogLevelSettings]="obf-LogLevelSettings",u[r.UserFacts]="obf-UserFacts",u[r.DebugOverrides]="obf-DebugOverrides",u),h=function(){function n(){}return n.isStorageAvailable=function(){try{var n="__storage_test__";return f.b().localStorage.setItem(n,n),f.b().localStorage.removeItem(n),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&0!==f.b().localStorage.length}},n.safeReadObject=function(n,t){if(void 0===t&&(t=void 0),!(n in r))return t;try{var e=o[n],i=f.b().localStorage.getItem(e),u=!i||"{"!==i[0]&&"["!==i[0]?i:JSON.parse(i);return null!=u?u:t}catch(n){}return t},n.prototype.fileLock=function(){},n.prototype.fileUnlock=function(){},n.prototype.read=function(n){if(!(n in r))return"";var t,i=o[n];try{t=f.b().localStorage.getItem(i)}catch(n){return e.b().logEvent(e.a.SURVEY_FLOODGATE_FILEREAD_FAILED,2,{ErrorMessage:n.toString(),FileName:i}),""}return t},n.prototype.write=function(n,t){if(n in r){var i=o[n];try{f.b().localStorage.setItem(i,t)}catch(n){return void e.b().logEvent(e.a.SURVEY_FLOODGATE_FILEWRITE_FAILED,2,{ErrorMessage:n.toString(),FileName:i})}}},n}();t.a=h},function(n,t,i){"use strict";var u,r,f;Object.defineProperty(t,"__esModule",{value:!0});t.GovernedChannel=t.GovernedChannelType=void 0;r=i(9);!function(n){n[n.Standard=0]="Standard";n[n.Urgent=1]="Urgent";n[n.Banner=2]="Banner";n[n.TeachingMessage=3]="TeachingMessage"}(t.GovernedChannelType||(t.GovernedChannelType={})),function(n){n.getDefault=function(){return n.Standard}}(u=t.GovernedChannelType||(t.GovernedChannelType={}));f=function(){function n(n,t,i,f){if(!r.isEnumValue(n,u))throw new Error("type is not a valid GovernedChannelType");if(!t)throw new Error("name must not be null or empty");if(i<0)throw new Error("cooldownSeconds must not be negative");this.type=n;this.name=t;this.cooldownSeconds=i;this.setCooldownStartTime(f)}return n.prototype.setCooldownStartTime=function(n){this.cooldownStartTime=n;this.cooldownEndTime=r.isNOU(this.cooldownStartTime)?r.getDistantPast():r.addSecondsWithoutOverflow(this.cooldownStartTime,this.cooldownSeconds)},n.prototype.isOpen=function(){return this.isOpenAtDate(new Date)},n.prototype.isOpenAtDate=function(n){return!!n&&n>this.cooldownEndTime},n.prototype.getType=function(){return this.type},n.prototype.getName=function(){return this.name},n.prototype.getCooldownSeconds=function(){return this.cooldownSeconds},n.prototype.getCooldownStartTime=function(){return this.cooldownStartTime},n.prototype.getCooldownEndTime=function(){return this.cooldownEndTime},n}();t.GovernedChannel=f},function(n){"use strict";var t;!function(n){!function(n){n[n.Feedback=0]="Feedback";n[n.Nps=1]="Nps";n[n.Psat=2]="Psat";n[n.Bps=3]="Bps";n[n.Fps=4]="Fps";n[n.Nlqs=5]="Nlqs";n[n.Intercept=6]="Intercept";n[n.GenericMessagingSurface=12]="GenericMessagingSurface"}(n.Type||(n.Type={}));n.DOM_FEEDBACKSURVEY_TAGNAME="FeedbackSurvey";n.DOM_NPS_TAGNAME="Nps";n.DOM_PSAT_TAGNAME="Psat";n.DOM_BPS_TAGNAME="Bps";n.DOM_FPS_TAGNAME="Fps";n.DOM_NLQS_TAGNAME="Nlqs";n.DOM_INTERCEPT_TAGNAME="Intercept";n.LAUNCHER_TYPE_DEFAULT="survey"}(t||(t={}));n.exports=t},function(n){"use strict";var t;!function(n){n.DOM_PROMPT_TAGNAME="Prompt";n.DOM_COMMENT_TAGNAME="Comment";n.DOM_RATING_TAGNAME="Rating";n.DOM_CVSURVEY_TAGNAME="CVSurvey";n.DOM_MULTIPLECHOICE_TAGNAME="MultipleChoice";n.DOM_INTERCEPT_TAGNAME="Intercept";n.JSON_INTERCEPT_KEYNAME="intercept";n.JSON_INTERCEPTURL_KEYNAME="url";n.JSON_PROMPT_KEYNAME="prompt";n.JSON_PROMPTYESTEXT_KEYNAME="yesButtonText";n.JSON_PROMPTNOTEXT_KEYNAME="noButtonText";n.JSON_COMMENT_KEYNAME="comment";n.JSON_RATING_KEYNAME="rating";n.JSON_CVSURVEY_KEYNAME="cvSurvey";n.JSON_CVSURVEYFORMID_KEYNAME="formId";n.JSON_CVSURVEYTHEME_KEYNAME="theme";n.JSON_RATINGOPTIONS_KEYNAME="options";n.JSON_CVSURVEYPRODUCTNAME_KEYNAME="productName";n.JSON_CVSURVEYUIHOST_KEYNAME="uiHost";n.JSON_CVSURVEYPLATFORM_KEYNAME="platform";n.JSON_TITLE_KEYNAME="title";n.JSON_QUESTION_KEYNAME="question";n.JSON_MULTIPLECHOICE_KEYNAME="multipleChoice";n.JSON_APPLICATION_KEYNAME="application";n.JSON_EXTENDEDMANIFESTDATA_KEYNAME="extendedManifestData";n.JSON_SURVEYSTRINGS_KEYNAME="surveyStrings";n.JSON_SURVEYSPECIFICDATA_KEYNAME="surveySpecificData"}(t||(t={}));n.exports=t},function(n,t,i){"use strict";var v=this&&this.__awaiter||function(n,t,i,r){return new(i||(i=Promise))(function(u,f){function o(n){try{e(r.next(n))}catch(n){f(n)}}function s(n){try{e(r.throw(n))}catch(n){f(n)}}function e(n){var t;n.done?u(n.value):(t=n.value,t instanceof i?t:new i(function(n){n(t)})).then(o,s)}e((r=r.apply(n,t||[])).next())})},y=this&&this.__generator||function(n,t){function o(e){return function(o){return function(e){if(f)throw new TypeError("Generator is already executing.");for(;r;)try{if(f=1,u&&(i=2&e[0]?u.return:e[0]?u.throw||((i=u.return)&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;switch(u=0,i&&(e=[2&e[0],i.value]),e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,(i=i.length>0&&i[i.length-1])||6!==e[0]&&2!==e[0])){r=0;continue}if(3===e[0]&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(6===e[0]&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(n){e=[6,n];u=0}finally{f=i=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,o])}}var f,u,i,e,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:o(0),"throw":o(1),"return":o(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e};Object.defineProperty(t,"__esModule",{value:!0});t.FloodgateEngine=void 0;var p=i(14),w=i(21),b=i(59),k=i(43),r=i(15),l=i(72),d=i(17),g=i(47),a=i(33),h=i(42),c=i(44),e=i(48),u=p.FileType,nt=i(75),f=i(76),o=i(9),tt=function(){function n(){}return n.prototype.log_TriggerMet=function(){},n.prototype.log_UserSelected=function(){},n.prototype.log_CampaignLoad_Failed=function(){},n.prototype.log_Error=function(){},n.prototype.log_Event=function(){},n.prototype.log_LocalError=function(){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},n}(),it={run:function(){},shouldAcceptActivity:function(){return!0}},s={},rt=function(){function n(t,i,r,u,f,e,o,s,h){if(this.initializationStatus=0,this.candidateSurveys={},this.launchedSurveys={},this.launchedLaunchers=[],this.surveyEventSent=[],this.staleTriggeredSurveysQueue=[],!t)throw new Error("surveyClient must not be null");if(!i)throw new Error("activityListener must not be null");if(!r)throw new Error("launcherFactory must not be null");if(!u)throw new Error("onSurveyActivatedCallback must not be null");if(!f)throw new Error("storage must not be null");if(!e)throw new Error("governor must not be null");if(!s)throw new Error("transporterFactory must not be null");this.surveyClient=t;this.activityListener=i;this.launcherFactory=r;this.onSurveyActivatedCallback=u;this.storage=f;this.governor=e;this.surveyActivationStatsProvider=o;this.governanceServiceClient=h;n.transporterFactory=s;this.loggedFirstStart=!1;this.setPendingSurveys(null);this.activityListener.clearSurveys();var c=this;this.activityListener.setCallback({run:function(n,t){c.onSurveyActivated(n,t)},shouldAcceptActivity:function(n){return c.shouldAcceptActivity(n)}})}return n.setTelemetryLogger=function(t){if(!t)throw new Error("telemetryLogger must not be null");n.telemetryLogger=t},n.getTelemetryLogger=function(){return n.telemetryLogger},n.getTransportFactory=function(){return n.transporterFactory},n.make=function(t,i,u,f,e,o,s,l,v,y,p,d,nt){try{var tt=g.GovernedChannelStateProviderFactory.make(f,e),rt=c.SurveyActivationStatsProviderFactory.make(f,e),ut=k.CampaignStateProviderFactory.make(f,e);return v.push(new w.FileSystemCampaignDefinitionProvider(f)),new n(nt||new b.CampaignManager(ut,v,o,s,t,new Date,d,y),new h(it,this.getTelemetryLogger),i,u,f,new a.Governor(tt),rt,l,p)}catch(n){this.telemetryLogger.log_Event(r.TelemetryEvent.FloodgateEngine.Make.Failed,{ErrorMessage:n&&n.toString(),ErrorDetails:n&&n.stack})}},n.prototype.getSurveyClient=function(){return this.surveyClient},n.prototype.mergeAndSave=function(){this.saveSettings();this.saveSurveyActivationHistory();this.saveSurveyEventActivityHistory();this.surveyClient.saveCurrentState();this.governor.saveChannelStates()},n.prototype.start=function(){if(2!==this.initializationStatus&&3!==this.initializationStatus)try{this.setInitializationStatus(2);this.loadSettingsAndPriorEventCounts();var t=this.getAvailableChannelTypes();this.surveyClient.refreshSurveyDefinitions(t);this.setPendingSurveysAndStartFloodgate();this.setInitializationStatus(3)}catch(t){this.setInitializationStatus(1);n.getTelemetryLogger().log_Event(r.TelemetryEvent.FloodgateEngine.Start.Failed,{ErrorMessage:t&&t.toString(),ErrorDetails:t&&t.stack})}},n.prototype.startAsync=function(){if(2===this.initializationStatus||3===this.initializationStatus)return Promise.resolve();try{this.setInitializationStatus(2);this.loadSettingsAndPriorEventCounts();var i=this.getAvailableChannelTypes(),t=this;return new Promise(function(u,f){t.surveyClient.refreshSurveyDefinitionsAsync(i).then(function(){4===t.initializationStatus?(t.setInitializationStatus(3),t.stop(),n.getTelemetryLogger().log_Event(r.TelemetryEvent.FloodgateEngine.StartAsync.Stopped,{ErrorMessage:"Stopped because of a pending stop() call"})):t.setPendingSurveysAndStartFloodgate();u()}).catch(function(i){t.setInitializationStatus(1);n.getTelemetryLogger().log_Event(r.TelemetryEvent.FloodgateEngine.StartAsync.Failed,{ErrorMessage:"Survey refresh error "+(i&&i.message)});f(i)})})}catch(i){return this.setInitializationStatus(1),n.getTelemetryLogger().log_Event(r.TelemetryEvent.FloodgateEngine.StartAsync.Failed,{ErrorMessage:i&&i.toString(),ErrorDetails:i&&i.stack}),Promise.resolve()}},n.prototype.stop=function(){3===this.initializationStatus&&(this.mergeAndSave(),this.setPendingSurveys(null),this.updateActivityListenerWithCurrentSurveyDefinitions());this.setInitializationStatus(4)},n.prototype.getActivityListener=function(){return this.activityListener},n.prototype.setInitializationStatus=function(n){this.initializationStatus=n},n.prototype.saveSettings=function(){this.storage.fileLock(u.FloodgateSettings);try{this.writeString(u.FloodgateSettings,l.FloodgateSettings.toJson(this.floodgateSettings))}finally{this.storage.fileUnlock(u.FloodgateSettings)}},n.prototype.loadSettingsAndPriorEventCounts=function(){var t,i;try{this.previousSurveyActivationStats=this.surveyActivationStatsProvider.load();this.previousSurveyEventActivityStats=e.SurveyStatCollectionEventActivity.fromJson(this.readString(u.SurveyEventActivityStats));t=this.previousSurveyEventActivityStats.getStats();for(i in t)t.hasOwnProperty(i)&&this.surveyEventSent.push(i);this.floodgateSettings=l.FloodgateSettings.fromJson(this.readString(u.FloodgateSettings))}catch(t){n.getTelemetryLogger().log_Event(r.TelemetryEvent.FloodgateEngine.Common.Error,{ErrorMessage:"Error loading prior settings/events "+(t&&t.toString())})}},n.prototype.getAvailableChannelTypes=function(){var t=this.governor.getAvailableChannelData(),n=[];return t.forEach(function(t){t&&n.push(t.getType())}),n},n.prototype.setPendingSurveysAndStartFloodgate=function(){this.setPendingSurveys(this.surveyClient.getAppSurveys());this.updateActivityListenerWithCurrentSurveyDefinitions();this.setInitializationStatus(3);this.loggedFirstStart||(this.loggedFirstStart=!0,this.getActivityListener().logActivity(h.FloodgateStartActivityName))},n.prototype.updateSurveyActivationStats=function(n){var r=n.getSurveyInfo(),t=r.getId(),i=this.previousSurveyActivationStats.getStats()[t]||new c.SurveyActivationStats;i.Type=n.getType();i.ExpirationTimeUtc=r.getExpirationTimeUtc();i.ActivationTimeUtc=new Date;i.SurveyLaunchCount++;this.previousSurveyActivationStats.addStats(t,i);s.hasOwnProperty(t)||(s[t]=0);s[t]++},n.prototype.saveSurveyActivationHistory=function(){var t,i,f;this.storage.fileLock(u.SurveyActivationStats);try{var n=this.surveyActivationStatsProvider.load(),e=this.previousSurveyActivationStats.getStats(),r=new c.SurveyStatCollectionActivation;for(t in this.launchedSurveys)this.launchedSurveys.hasOwnProperty(t)&&(i=this.launchedSurveys[t].getSurveyInfo().getId(),f=e[i],r.addStats(i,f));n.accumulate(r);this.surveyActivationStatsProvider.save(n);this.previousSurveyActivationStats=n}finally{this.storage.fileUnlock(u.SurveyActivationStats)}},n.prototype.saveSurveyEventActivityHistory=function(){var r;this.storage.fileLock(u.SurveyEventActivityStats);try{var t=e.SurveyStatCollectionEventActivity.fromJson(this.readString(u.SurveyEventActivityStats)),f=new Date,i=new e.SurveyStatCollectionEventActivity,o=function(t){var u,r,o,h,c,a;if(n.candidateSurveys.hasOwnProperty(t)){if(u=new e.SurveyEventActivityStats,r=n.candidateSurveys[t],!r.getSurveyInfo().isActiveForDate(f))return"continue";u.ExpirationTimeUtc=r.getSurveyInfo().getExpirationTimeUtc();var v=r.getSurveyInfo().getActivationEvent().getTrackingSet(),s=[],l=[];for(v.getList().forEach(function(n){n&&(n.getIsAggregate()?s.push(n.getActivity()):l.push(n.getActivity()))}),u.Counts=new Array(s.length),o=0;o<s.length;o++)u.Counts[o]=n.activityListener.moveSessionCountIntoBaseCount(s[o],r.getSurveyInfo().getId());for(h=0,c=l;h<c.length;h++)a=c[h],n.activityListener.saveSessionTrackingActivity(a);i.addStats(r.getSurveyInfo().getId(),u)}},n=this;for(r in this.candidateSurveys)o(r);t.accumulate(i);this.writeString(u.SurveyEventActivityStats,e.SurveyStatCollectionEventActivity.toJson(t));this.previousSurveyEventActivityStats=t}finally{this.storage.fileUnlock(u.SurveyEventActivityStats)}},n.prototype.setPendingSurveys=function(n){var t,i;if(this.candidateSurveys={},n)for(t in n)n.hasOwnProperty(t)&&(i=n[t],this.launcherFactory.AcceptsSurvey(i)&&(this.candidateSurveys[t]=i))},n.prototype.getCurrentSurveyDefinitions=function(){var o=this,u=[],h=this.getAllCampaignDefinitionIDs(),c=this.getAllCandidateCampaignDefinitionIDs(),l=this.surveyClient.getCampaignDefinitions(),a=function(n){if(f.isBusinessCriticalSurvey(n))return!0;var t=o.previousSurveyActivationStats.getBySurveyId(n.getId());return!(!f.isMultiLaunchSurvey(n)||f.hasSurveyReachedMaxLaunches(n,t)||f.hasSurveyReachedMaxLaunchesPerSession(n,s))||!(t||!n.isActiveForDate(new Date))},i,r,t,e;for(i in this.candidateSurveys)if(this.candidateSurveys.hasOwnProperty(i)){if(r=this.candidateSurveys[i],t=r.getSurveyInfo(),!l[null==t?void 0:t.getBackEndId()]||!a(t))continue;this.surveyEventSent.indexOf(i)<0&&(this.surveyEventSent.push(i),e=this.getAdditionalSurveyInfoForTelemetry(r,null,h,c),n.telemetryLogger.log_UserSelected(t.getBackEndId(),t.getId(),r.getType(),JSON.stringify(e)));u.push(r)}return u},n.prototype.getAdditionalSurveyInfoForTelemetry=function(n,t,i,r){var h,c,u,f,s=this.surveyClient.getCampaignDefinitions()[n.getCampaignId()],e;return h=s.nominationScheme.percentageNumerator,c=s.nominationScheme.percentageDenominator,u=s.nominationScheme.nominationPeriod.asTimeIntervalSeconds(),u=o.isNOU(u)?-1:u,f=s.nominationScheme.cooldownPeriod.asTimeIntervalSeconds(),f=o.isNOU(f)?-1:f,e=n.getSurveyInfo(),{allCampaignDefinitionIDs:i,allCandidateCampaignDefinitionIDs:r,channelType:e.getGovernedChannelType(),contextCount:t?t.length:void 0,cooldownPeriodNumber:f,nominationPeriodNumber:u,percentageDenominator:c,percentageNumerator:h,surveyLauncherType:n.getLauncherType(),businessLevel:e.getBusinessLevel(),maxLaunches:e.getMaxLaunches(),maxLaunchesPerSession:e.getMaxLaunchesPerSession()}},n.prototype.getAllCandidateCampaignDefinitionIDs=function(){var t=[],n,i;for(n in this.candidateSurveys)this.candidateSurveys.hasOwnProperty(n)&&(i=this.candidateSurveys[n],t.push(i.getSurveyInfo().getBackEndId()));return t},n.prototype.getAllCampaignDefinitionIDs=function(){var n=this.surveyClient.getCampaignDefinitions(),i=[],t,r;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r=n[t],i.push(r.campaignId));return i},n.prototype.updateActivityListenerWithCurrentSurveyDefinitions=function(){for(var t,u,i=[],n=0,r=this.getCurrentSurveyDefinitions();n<r.length;n++)t=r[n].getSurveyInfo(),u=new nt.ActivityTrackingContract(t.getId(),t.getActivationEvent().getTrackingSet()),i.push(u);this.activityListener.SetActivityTrackingContracts(i,this.previousSurveyEventActivityStats)},n.prototype.setCriticalPendingSurveysAndUpdateActivityListener=function(){var t={},n,i;for(n in this.candidateSurveys)this.candidateSurveys.hasOwnProperty(n)&&(i=this.candidateSurveys[n],f.isCriticalSurvey(i.getSurveyInfo())&&(t[n]=i));Object.keys(t).length>0&&(this.setPendingSurveys(t),this.updateActivityListenerWithCurrentSurveyDefinitions())},n.prototype.shouldAcceptActivity=function(n){return 3===this.initializationStatus||n===h.FloodgateStartActivityName},n.prototype.onSurveyActivated=function(t,i){for(var u,h,e,f=0,s=this.getCurrentSurveyDefinitions();f<s.length;f++)if(h=s[f],h.getSurveyInfo().getId()===t){u=h;break}if(o.isNOU(u))n.getTelemetryLogger().log_Error(r.TelemetryEvent.FloodgateEngine.OnSurveyActivated.SurveyNotDefined,"Survey is not defined in the current survey definitions.");else try{e=u.getSurveyInfo().getGovernedChannelType();this.governanceServiceClient.isEnabled(e)?(this.staleTriggeredSurveysQueue.push(u),1===this.staleTriggeredSurveysQueue.length&&this.checkGovernanceServiceAndActivateSurvey(u,e,i)):this.activateSurvey(u,e,i)}catch(t){n.telemetryLogger.log_Event(r.TelemetryEvent.FloodgateEngine.OnSurveyActivated.Error,{ErrorMessage:"Error activating survey "+(t&&t.toString()),ErrorDetails:t&&t.stack})}},n.prototype.activateSurvey=function(t,i,u){var s=!1,h,a,l,e,c,v;this.candidateSurveys[t.getSurveyInfo().getId()]?t.getSurveyInfo().isActiveForDate(new Date)?((this.governor.refreshChannelData(),f.isCriticalSurvey(t.getSurveyInfo()))?s=!0:this.governor.isChannelOpen(i)?this.surveyActivationStatsProvider.load().getBySurveyId(t.getSurveyInfo().getId())?n.getTelemetryLogger().log_Event(r.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationStatsSuppressedSurvey,{CampaignId:t.getSurveyInfo().getBackEndId(),SurveyId:t.getSurveyInfo().getId()}):0===Object.keys(this.launchedSurveys).length?s=!0:(h=Object.values(this.launchedSurveys)[0],o.isNOU(h)||n.getTelemetryLogger().log_Event(r.TelemetryEvent.FloodgateEngine.OnSurveyActivated.SessionSuppressedSurvey,{CampaignId:h.getSurveyInfo().getBackEndId(),SurveyId:h.getSurveyInfo().getId()})):n.getTelemetryLogger().log_Event(r.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ClosedChannelType,{ClosedChannelType:d.GovernedChannelType[i]}),s&&(this.launchedSurveys[t.getSurveyInfo().getId()]=t)):n.getTelemetryLogger().log_Event(r.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationExpiredSurvey,{CampaignId:t.getSurveyInfo().getBackEndId(),SurveyId:t.getSurveyInfo().getId()}):n.getTelemetryLogger().log_Event(r.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationIrrelevantSurvey,{CampaignId:t.getSurveyInfo().getBackEndId(),SurveyId:t.getSurveyInfo().getId()});(this.updateSurveyActivationStats(t),this.mergeAndSave(),this.activityListener.clearSurveys(),this.staleTriggeredSurveysQueue=[],s)&&(a=t.getSurveyInfo().getActivationEvent().getTrackingSet().getActivityTrackingInfo(this.activityListener,t.getSurveyInfo().getId()),l=this.getAdditionalSurveyInfoForTelemetry(t,u,this.getAllCampaignDefinitionIDs(),this.getAllCandidateCampaignDefinitionIDs()),l.governanceServiceClientState=this.governanceServiceClient.getClientState(),n.telemetryLogger.log_TriggerMet(t.getSurveyInfo().getBackEndId(),t.getSurveyInfo().getId(),t.getType(),a,JSON.stringify(l)),this.governor.startChannelCooldown(i),e=t.getSurveyInfo(),c=!0,f.isBusinessCriticalSurvey(e)?c=!1:f.isMultiLaunchSurvey(e)&&(v=this.previousSurveyActivationStats.getBySurveyId(e.getId()),c=f.hasSurveyReachedMaxLaunches(e,v)),this.surveyClient.onSurveyActivated(e,c),this.launchLauncher(t,u),this.setCriticalPendingSurveysAndUpdateActivityListener())},n.prototype.checkGovernanceServiceAndActivateSurvey=function(t,i,u){return v(this,void 0,void 0,function(){var o,s,h,f,e,c;return y(this,function(l){switch(l.label){case 0:return o=this.surveyClient.getCampaignDefinitions()[t.getCampaignId()],s=o.nominationScheme.cooldownPeriod.asTimeIntervalSeconds(),h=a.Governor.GetChannelCoolDown(i),[4,this.governanceServiceClient.checkGovernancePermitAsync(t,s,h,i)];case 1:return f=l.sent(),e=!1,n.getTelemetryLogger().log_Event(r.TelemetryEvent.FloodgateEngine.CheckGovernanceServiceAndActivateSurvey.GovernanceServiceClientCompleted,{Message:JSON.stringify(this.createGorvernanceResponseTelemetry(f))}),3!==this.initializationStatus?[2]:(f.error?this.governanceServiceClient.shouldForceDisplay()&&(e=!0,n.getTelemetryLogger().log_Event(r.TelemetryEvent.FloodgateEngine.CheckGovernanceServiceAndActivateSurvey.GovernanceServiceForceToDisplay,{ErrorMessage:f.errorMessage})):f.permission?e=!0:(c=f.lastTriggerSurvey,this.governor.startChannelCooldown(i,c.lastTriggerSurveyTime),this.clearSurveyWithChannel(i)),e?(this.activateSurvey(t,i,u),[2]):this.staleTriggeredSurveysQueue.length<=1?(this.staleTriggeredSurveysQueue=[],[2]):(this.staleTriggeredSurveysQueue.shift(),this.checkGovernanceServiceAndActivateSurvey(this.staleTriggeredSurveysQueue[0],i,u),[2]))}})})},n.prototype.readString=function(n){return this.storage.read(n)},n.prototype.writeString=function(n,t){this.storage.write(n,t)},n.prototype.launchLauncher=function(n,t){var i=this.launcherFactory.makeSurveyLauncher(n);i&&(this.launchedLaunchers.push(i),this.onSurveyActivatedCallback.onSurveyActivated(i,n,{contextInfo:t}))},n.prototype.clearSurveyWithChannel=function(n){var r={},t,i;for(t in this.candidateSurveys)this.candidateSurveys.hasOwnProperty(t)&&(i=this.candidateSurveys[t],i.getSurveyInfo().getGovernedChannelType()!==n&&(r[t]=i));this.candidateSurveys=r;this.activityListener.UpdateActivityTrackingContracts(this.candidateSurveys)},n.prototype.createGorvernanceResponseTelemetry=function(n){return{FloodgateEngineStatus:this.initializationStatus.toString(),GovernanceServiceResult:n,StaleTriggeredSurveysQueueCount:this.staleTriggeredSurveysQueue.length-1}},n.telemetryLogger=new tt,n}();t.FloodgateEngine=rt},function(n,t,i){"use strict";function si(n){var u=[],i,t,f,e;if(r(n))return{result:u,error:"Empty"};if(!Array.isArray(n))return{result:u,error:"Not an array"};for(i=[],t=0;t<n.length;t++)f=n[t],f?(e=ri.deserialize(f),e?u.push(e):i.push(t)):i.push(t);return{result:u,error:i.length>0?"Invalid campaign definitions at indexes: "+i.toString():void 0}}var d,u=this&&this.__extends||(d=function(n,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])})(n,t)},function(n,t){function i(){this.constructor=n}d(n,t);n.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),nt,c,p,tt,it,rt,a,ut,ft,et,w,ot,b,st,s,k,ht,v,ct,lt,at,vt,yt,pt,wt,h,bt,kt,dt,gt,ni,ti,ii,ri,hi;Object.defineProperty(t,"__esModule",{value:!0});t.FileSystemCampaignDefinitionProvider=t.FilterValidCampaignDefinitions=t.CampaignDefinition=t.CampaignSurveyTemplateIntercept=t.CampaignSurveyTemplateGenericMessagingSurface=t.CampaignSurveyTemplateNps11PointStatic=t.CampaignSurveyTemplateNps5PointStatic=t.CampaignSurveyTemplateNps=t.CampaignSurveyTemplateNlqs=t.CampaignSurveyTemplateFps=t.CampaignSurveyTemplate=t.CampaignSurveyMetadata=t.CampaignSurveyContentComment=t.CampaignSurveyContentRating=t.CampaignSurveyContentIntercept=t.CampaignSurveyContentPrompt=t.CampaignSurveyContentCVSurvey=t.CampaignSurveyContentMultipleChoice=t.CampaignSurveyContent=t.CampaignSurveyEventCountedActivitySequence=t.CampaignSurveyEventCountedActivity=t.CampaignSurveyEvent=t.CampaignNominationSchemeRatioPercentage=t.CampaignNominationScheme=t.CampaignDistributionRamp=t.CampaignDistribution=t.CampaignAdditionalDataRequested=t.CampaignDurationSingleBuildChange=t.CampaignDurationTimeInterval=t.CampaignDuration=t.CampaignScopeUserFactAll=t.CampaignScopeUserFactAny=t.CampaignScopeEnvironmentCrossProduct=t.CampaignScopeAny=t.CampaignScope=t.CampaignLanguageRangeLanguageSubtag=t.CampaignLanguageRange=void 0;var ci=i(14),li=i(15),l=i(20),ai=i(17),o=i(9),y=i(77),ui=o.getDistantFuture,fi=o.isBoolean,r=o.isNOU,e=o.isNumber,f=o.isString,ei=o.isUtcDatetimeString,oi=o.stringToDate,g=function(){function n(){}return n.deserialize=function(n){var t;return n&&0===n.Type&&(t=nt.deserialize(n)),void 0===t?null:t},n.prototype.validate=function(){return!0},n}();t.CampaignLanguageRange=g;nt=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var i=new t;return n&&(i.languageSubTag=n.Value),i.validate()?i:null},t.prototype.isInRange=function(n){if(r(n))return!1;var t=o.extractLanguageSubtag(n);return!r(t)&&t.toLocaleUpperCase()===this.languageSubTag.toLocaleUpperCase()},t.prototype.validate=function(){return!!n.prototype.validate.call(this)&&!(r(this.languageSubTag)||!f(this.languageSubTag))&&!!o.isValidLanguageSubTag(this.languageSubTag)},t}(g);t.CampaignLanguageRangeLanguageSubtag=nt;c=function(){function n(){}return n.deserialize=function(n){var t;if(r(n))return null;switch(n.Type){case 0:t=p.deserialize(n);break;case 1:t=tt.deserialize(n);break;case 2:t=it.deserialize(n);break;case 3:t=rt.deserialize(n)}return void 0===t?null:t},n.prototype.validate=function(){return!0},n}();t.CampaignScope=c;p=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(){return new t},t.prototype.isInScope=function(){return!0},t.prototype.validate=function(){return!!n.prototype.validate.call(this)},t}(c);t.CampaignScopeAny=p;tt=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var u=new t,i=[],f,e;if(r(n))return null;for(f in n.Languages)n.Languages.hasOwnProperty(f)&&(e=n.Languages[f],e&&i.push(g.deserialize(e)));return 0===i.length&&(i=null),u.languageRanges=i,u.validate()?u:null},t.prototype.setEnvironmentProvider=function(n){this.environmentProvider=n},t.prototype.isInScope=function(){var t,n;if(r(this.languageRanges))return!0;if(r(this.environmentProvider)||!this.environmentProvider.getLanguage())return!1;t=this.environmentProvider.getLanguage();for(n in this.languageRanges)if(this.languageRanges.hasOwnProperty(n)&&this.languageRanges[n].isInRange(t))return!0;return!1},t.prototype.validate=function(){if(!n.prototype.validate.call(this))return!1;if(this.languageRanges)for(var t in this.languageRanges)if(this.languageRanges.hasOwnProperty(t)&&!this.languageRanges[t])return!1;return!0},t}(c);t.CampaignScopeEnvironmentCrossProduct=tt;it=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var i=new t;return i.userFacts=y.deserializeUserFacts(n),i.validate()?i:null},t.prototype.setUserFactsProvider=function(n){this.userFactsProvider=n},t.prototype.isInScope=function(){var n=this;return!!r(this.userFacts)||!!this.userFactsProvider&&this.userFacts.some(function(t){var i=n.userFactsProvider.getUserFact(t.getName());return t.isAMatch(i)})},t.prototype.validate=function(){return!!n.prototype.validate.call(this)&&y.validateUserFacts(this.userFacts)},t}(c);t.CampaignScopeUserFactAny=it;rt=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var i=new t;return i.userFacts=y.deserializeUserFacts(n),i.validate()?i:null},t.prototype.setUserFactsProvider=function(n){this.userFactsProvider=n},t.prototype.isInScope=function(){var i=this,n,t;return r(this.userFacts)?!0:this.userFactsProvider?(n=this.userFacts.filter(function(n){var t=i.userFactsProvider.getUserFact(n.getName());return!n.isAMatch(t)}),n.length>0)?(t=n.map(function(n){return n.getName()}),l.FloodgateEngine.getTelemetryLogger().log_Event(li.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Summary,{Count:n.length,Message:t.toString()}),!1):!0:!1},t.prototype.validate=function(){return!!n.prototype.validate.call(this)&&y.validateUserFacts(this.userFacts)},t}(c);t.CampaignScopeUserFactAll=rt;a=function(){function n(){}return n.deserialize=function(n){var t;if(r(n))return null;switch(n.Type){case 0:t=ut.deserialize(n);break;case 1:t=ft.deserialize(n)}return void 0===t?null:t},n.prototype.validate=function(){return!0},n}();t.CampaignDuration=a;ut=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var i=new t;return n&&(i.intervalSeconds=n.IntervalSeconds),i.validate()?i:null},t.prototype.asTimeIntervalSeconds=function(){return this.intervalSeconds},t.prototype.validate=function(){return!!n.prototype.validate.call(this)&&!!e(this.intervalSeconds)},t}(a);t.CampaignDurationTimeInterval=ut;ft=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(){return new t},t.prototype.asTimeIntervalSeconds=function(){return null},t}(a);t.CampaignDurationSingleBuildChange=ft;et=function(){function n(){}return n.deserialize=function(t){var i=new n,u,f;if(!r(t))for(i.additionalData=[],u=0,f=t;u<f.length;u++)"EmailAddress"===f[u]&&i.additionalData.push(0);return i.validate()?i:null},n.prototype.validate=function(){return!r(this.additionalData)},n}();t.CampaignAdditionalDataRequested=et;w=function(){function n(){}return n.deserialize=function(n){var t;return n&&0===n.Type&&(t=ot.deserialize(n)),void 0===t?null:t},n.prototype.validate=function(){return!0},n}();t.CampaignDistribution=w;ot=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var i=new t;return n&&(i.maxDelaySeconds=n.MaxDelaySeconds,i.chunks=n.Chunks),i.validate()?i:null},t.prototype.validate=function(){return!!n.prototype.validate.call(this)&&!(!e(this.maxDelaySeconds)||this.maxDelaySeconds<0)&&!(!e(this.chunks)||this.chunks<0)},t}(w);t.CampaignDistributionRamp=ot;b=function(){function n(){}return n.deserialize=function(n){var t;return n&&0===n.Type&&(t=st.deserialize(n)),void 0===t?null:t},n.prototype.getActiveSurveyTimeIntervalSeconds=function(){var n=this.nominationPeriod.asTimeIntervalSeconds();return e(n)?n:this.fallbackSurveyDurationSeconds},n.prototype.calculateSurveyStartTimeFromDate=function(n){return n||new Date},n.prototype.calculateSurveyExpirationTimeFromSurveyStartTime=function(n){return n=n||new Date,o.addSecondsWithoutOverflow(n,this.getActiveSurveyTimeIntervalSeconds())},n.prototype.getCampaignCooldown=function(n){return n?this.cooldownPeriod:this.nominationPeriod},n.prototype.validate=function(){return!r(this.nominationPeriod)&&(r(this.cooldownPeriod)&&(this.cooldownPeriod=this.nominationPeriod),!(!e(this.nominationPeriod.asTimeIntervalSeconds())&&(!e(this.fallbackSurveyDurationSeconds)||this.fallbackSurveyDurationSeconds<=0)))},n}();t.CampaignNominationScheme=b;st=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var i=new t;return r(n)?null:(n.DistributionModel&&(i.distributionModel=w.deserialize(n.DistributionModel)),n.CooldownPeriod&&(i.cooldownPeriod=a.deserialize(n.CooldownPeriod)),n.NominationPeriod&&(i.nominationPeriod=a.deserialize(n.NominationPeriod)),i.fallbackSurveyDurationSeconds=n.FallbackSurveyDurationSeconds,i.percentageDenominator=n.PercentageDenominator,i.percentageNumerator=n.PercentageNumerator,i.validate()?i:null)},t.prototype.evaluateNominationRules=function(){var n=Math.random();return Math.floor(n*this.percentageDenominator)<this.percentageNumerator},t.prototype.validate=function(){return!!n.prototype.validate.call(this)&&!(!e(this.percentageDenominator)||!e(this.percentageNumerator))&&!(this.percentageDenominator<=0||this.percentageNumerator<0)&&!(this.percentageNumerator>this.percentageDenominator)},t}(b);t.CampaignNominationSchemeRatioPercentage=st;s=function(){function n(){}return n.deserialize=function(n){var t;if(r(n))return null;switch(n.Type){case 0:t=k.deserialize(n);break;case 1:t=ht.deserialize(n)}return void 0===t?null:t},n.prototype.validate=function(){return!0},n}();t.CampaignSurveyEvent=s;k=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var i=new t;return r(n)?null:(i.activity=n.Activity,i.count=n.Count,i.isAggregate=n.IsAggregate,i.validate()?i:null)},t.prototype.validate=function(){return!!n.prototype.validate.call(this)&&!(r(this.activity)||!f(this.activity))&&!(!e(this.count)||this.count<=0)&&!!fi(this.isAggregate)},t}(s);t.CampaignSurveyEventCountedActivity=k;ht=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var u=new t,i=[],f,e;if(r(n))return null;for(f in n.Sequence)n.Sequence.hasOwnProperty(f)&&(e=n.Sequence[f],e&&i.push(k.deserialize(e)));return 0===i.length&&(i=null),u.sequence=i,u.validate()?u:null},t.prototype.validate=function(){if(!n.prototype.validate.call(this)||r(this.sequence))return!1;for(var t in this.sequence)if(this.sequence.hasOwnProperty(t)&&!this.sequence[t])return!1;return!0},t}(s);t.CampaignSurveyEventCountedActivitySequence=ht;v=function(){function n(){}return n.deserialize=function(t,i){var u=new n;return r(t)?null:(u.prompt=at.deserialize(t.Prompt),u.rating=yt.deserialize(t.Rating),u.comment=pt.deserialize(t.Question),u.multipleChoice=ct.deserialize(t.MultipleChoice),u.intercept=vt.deserialize(t.Intercept),u.cvSurvey=lt.deserialize(t.CVSurveyParams),u.validate(i)?u:null)},n.prototype.validate=function(n){return!r(this.intercept)||!r(this.prompt)&&(n?!r(this.rating)||!r(this.multipleChoice)||!r(this.comment):!r(this.rating)&&!r(this.comment))},n}();t.CampaignSurveyContent=v;ct=function(){function n(){}return n.deserialize=function(t){var i=new n;return r(t)?null:(i.question=t.Question,i.availableOptions=t.AvailableOptions,i.minNumberOfSelectedOptions=t.MinNumberOfSelectedOptions,i.maxNumberOfSelectedOptions=t.MaxNumberOfSelectedOptions,i.validate()?i:null)},n.prototype.validate=function(){if(r(this.question)||!f(this.question)||r(this.availableOptions)||!Array.isArray(this.availableOptions)||this.availableOptions.length<2||r(this.minNumberOfSelectedOptions)||!e(this.minNumberOfSelectedOptions)||r(this.maxNumberOfSelectedOptions)||!e(this.maxNumberOfSelectedOptions))return!1;for(var n in this.availableOptions)if(this.availableOptions.hasOwnProperty(n)&&!f(this.availableOptions[n]))return!1;return!0},n}();t.CampaignSurveyContentMultipleChoice=ct;lt=function(){function n(){}return n.deserialize=function(t){var i=new n;return r(t)?null:(i.customerVoiceFormId=t.CustomerVoiceFormId,i.validate()?i:null)},n.prototype.validate=function(){return!r(this.customerVoiceFormId)&&f(this.customerVoiceFormId)},n}();t.CampaignSurveyContentCVSurvey=lt;at=function(){function n(){}return n.deserialize=function(t){var i=new n;return r(t)?null:(i.title=t.Title,i.question=t.Question,i.yesLabel=t.YesLabel,i.noLabel=t.NoLabel,i.validate()?i:null)},n.prototype.validate=function(){return!(r(this.title)||!f(this.title)||r(this.question)||!f(this.question)||r(this.yesLabel)||!f(this.yesLabel)||r(this.noLabel)||!f(this.noLabel))},n}();t.CampaignSurveyContentPrompt=at;vt=function(){function n(){}return n.deserialize=function(t){var i=new n;return r(t)?null:(i.title=t.Title,i.question=t.Question,i.url=t.Url,i.validate()?i:null)},n.prototype.validate=function(){return!(r(this.title)||!f(this.title)||r(this.question)||!f(this.question)||r(this.url)||!f(this.url))},n}();t.CampaignSurveyContentIntercept=vt;yt=function(){function n(){}return n.deserialize=function(t){var i=new n;return r(t)?null:(i.isZeroBased=t.IsZeroBased,i.question=t.Question,i.ratingValuesAscending=t.RatingValuesAscending,i.validate()?i:null)},n.prototype.validate=function(){if(r(this.question)||!f(this.question)||r(this.ratingValuesAscending)||!Array.isArray(this.ratingValuesAscending)||this.ratingValuesAscending.length<2||this.ratingValuesAscending.length>11)return!1;if(r(this.isZeroBased))this.isZeroBased=!1;else if(!fi(this.isZeroBased))return!1;for(var n in this.ratingValuesAscending)if(this.ratingValuesAscending.hasOwnProperty(n)&&!f(this.ratingValuesAscending[n]))return!1;return!0},n}();t.CampaignSurveyContentRating=yt;pt=function(){function n(){}return n.deserialize=function(t){var i=new n;return r(t)?null:(i.question=t.Question,i.validate()?i:null)},n.prototype.validate=function(){return!(r(this.question)||!f(this.question))},n}();t.CampaignSurveyContentComment=pt;wt=function(){function n(){}return n.deserialize=function(t){if(r(t))return null;var i=new n;return i.contentMetadata=t.ContentMetadata,i.validate()?i:null},n.prototype.validate=function(){return!(r(this.contentMetadata)||!o.isObject(this.contentMetadata))},n}();t.CampaignSurveyMetadata=wt;h=function(){function n(){}return n.deserialize=function(n){var t;if(r(n))return null;switch(n.Type){case 0:t=gt.deserialize(n);break;case 1:t=ni.deserialize(n);break;case 2:t=bt.deserialize(n);break;case 3:t=kt.deserialize(n);break;case 4:t=dt.deserialize(n);break;case 22:t=ti.deserialize(n);break;case 5:t=ii.deserialize(n)}return r(t)?null:t},n.prototype.validate=function(){return!r(this.activationEvent)},n}();t.CampaignSurveyTemplate=h;bt=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var i=new t;return r(n)?null:(i.activationEvent=s.deserialize(n.ActivationEvent),i.content=v.deserialize(n.Content,!0),i.validate()?i:null)},t.prototype.validate=function(){return!(!n.prototype.validate.call(this)||r(this.content))},t}(h);t.CampaignSurveyTemplateFps=bt;kt=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var i=new t;return r(n)?null:(i.activationEvent=s.deserialize(n.ActivationEvent),i.content=v.deserialize(n.Content),i.validate()?i:null)},t.prototype.validate=function(){return!(!n.prototype.validate.call(this)||r(this.content))},t}(h);t.CampaignSurveyTemplateNlqs=kt;dt=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var i=new t;return r(n)?null:(i.activationEvent=s.deserialize(n.ActivationEvent),i.content=v.deserialize(n.Content),i.validate()?i:null)},t.prototype.validate=function(){return!(!n.prototype.validate.call(this)||r(this.content))},t}(h);t.CampaignSurveyTemplateNps=dt;gt=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var i=new t;return r(n)?null:(i.activationEvent=s.deserialize(n.ActivationEvent),i.validate()?i:null)},t.prototype.validate=function(){return!!n.prototype.validate.call(this)},t}(h);t.CampaignSurveyTemplateNps5PointStatic=gt;ni=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var i=new t;return r(n)?null:(i.activationEvent=s.deserialize(n.ActivationEvent),i.validate()?i:null)},t.prototype.validate=function(){return!!n.prototype.validate.call(this)},t}(h);t.CampaignSurveyTemplateNps11PointStatic=ni;ti=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){if(r(n))return null;var i=new t;return i.activationEvent=s.deserialize(n.ActivationEvent),i.metadata=wt.deserialize(n.Metadata),i.maxLaunches=n.MaxLaunches,i.maxLaunchesPerSession=n.MaxLaunchesPerSession,i.preferredLaunchType=n.PreferredLaunchType,i.validate()?i:null},t.prototype.validate=function(){return!(!n.prototype.validate.call(this)||r(this.metadata))&&(!r(this.maxLaunches)&&(!e(this.maxLaunches)||this.maxLaunches<=0)||!r(this.maxLaunchesPerSession)&&(!e(this.maxLaunchesPerSession)||this.maxLaunchesPerSession<=0)?(l.FloodgateEngine.getTelemetryLogger().log_LocalError("Invalid Multi Launch settings",this.maxLaunches,this.maxLaunchesPerSession),!1):e(this.maxLaunches)&&e(this.maxLaunchesPerSession)&&this.maxLaunchesPerSession>this.maxLaunches?(l.FloodgateEngine.getTelemetryLogger().log_LocalError("Invalid Multi launch settings",this.maxLaunches,this.maxLaunchesPerSession),!1):!(!r(this.preferredLaunchType)&&!f(this.preferredLaunchType))||(l.FloodgateEngine.getTelemetryLogger().log_LocalError("Invalid launcher type",this.preferredLaunchType),!1))},t}(h);t.CampaignSurveyTemplateGenericMessagingSurface=ti;ii=function(n){function t(){return n.call(this)||this}return u(t,n),t.deserialize=function(n){var i=new t;return r(n)?null:(i.activationEvent=s.deserialize(n.ActivationEvent),i.content=v.deserialize(n.Content),i.validate()?i:null)},t.prototype.validate=function(){return!(!n.prototype.validate.call(this)||r(this.content))},t}(h);t.CampaignSurveyTemplateIntercept=ii;ri=function(){function n(){}return n.deserialize=function(t){var i=new n,u;return r(t)?null:(i.campaignId=t.CampaignId,i.governedChannelType=t.GovernedChannelType,i.startTime=t.StartTimeUtc,i.endTime=t.EndTimeUtc,i.launcherType=t.LauncherType,i.primaryPriority=t.PrimaryPriority,i.tags=t.Tags,u=et.deserialize(t.AdditionalDataRequested),i.additionalDataRequested=u?u.additionalData:[],t.SurveyTemplate&&(i.surveyTemplate=h.deserialize(t.SurveyTemplate)),t.NominationScheme&&(i.nominationScheme=b.deserialize(t.NominationScheme)),t.Scope&&(i.scope=c.deserialize(t.Scope)),r(t.BusinessLevel)||(i.businessLevel=t.BusinessLevel),i.validate()?i:(l.FloodgateEngine.getTelemetryLogger().log_LocalError("Invalid definition",t),null))},n.prototype.validate=function(){var n,t;if((r(this.scope)&&(this.scope=new p),r(this.campaignId)||!f(this.campaignId))||!e(this.governedChannelType)||!o.isEnumValue(this.governedChannelType,ai.GovernedChannelType)||r(this.nominationScheme)||r(this.surveyTemplate)||!r(this.launcherType)&&!f(this.launcherType)||"customervoice"===this.launcherType&&r(null===(t=null===(n=this.surveyTemplate.content)||void 0===n?void 0:n.cvSurvey)||void 0===t?void 0:t.customerVoiceFormId)||!r(this.primaryPriority)&&!e(this.primaryPriority)||this.tags&&!Array.isArray(this.tags))return!1;if(r(this.startTime))this.startTime=ui();else{if(!ei(this.startTime))return!1;this.startTime=oi(this.startTime)}if(r(this.endTime)||"string"==typeof this.endTime&&""===this.endTime)this.endTime=ui();else{if(!ei(this.endTime))return!1;this.endTime=oi(this.endTime)}return!0},n}();t.CampaignDefinition=ri;t.FilterValidCampaignDefinitions=si;hi=function(){function n(n){if(r(n))throw new Error("storage must not be null");this.storage=n}return n.prototype.load=function(){var n,t=this.storage.read(ci.FileType.CampaignDefinitions);if(r(t))return[];try{n=JSON.parse(t)}catch(n){return l.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed(n.toString()),[]}return si(n).result},n.prototype.loadAsync=function(){var n=this.load();return new Promise(function(t){t(n)})},n}();t.FileSystemCampaignDefinitionProvider=hi},function(n,t,i){"use strict";function c(n,t,i,u){if(void 0===t)return Promise.reject(new Error("Manifest cannot be undefined"));var s,f,h,c,l,e,a,o=new FormData;return o.append("Manifest",t),i&&o.append("Screenshot",i),u&&o.append("Diagnostics",u),s="POST",f=n?"https://petrol.office.microsoft.com/v1/feedback":"https://petrol-int.office.microsoft.com/v1/feedback",h=o,c=2,l=function(n,t,i){200!==n.status&&i(new Error("Non-200 response with status code: "+n.status+", response: "+n.responseText));t()},e=function(n,t){return new Promise(function(i,r){var u=new XMLHttpRequest;u.open(s,f,!0);u.timeout=t;u.onload=function(){l(u,i,r)};u.ontimeout=function(){n>0?e(n-1,2*t).then(i,r):r(new Error("Request to '"+f+"' timed out. timeout: "+u.timeout))};u.onerror=function(){n>0?e(n-1,t).then(i,r):r(new Error("Request to '"+f+"' errored. "+u.status+" - "+u.statusText+" : "+u.responseText))};u.send(h)})},a=r.get().getCommonInitOptions().petrolTimeout?r.get().getCommonInitOptions().petrolTimeout:8e3,e(c,a)}function y(n){return"Survey"===n?n:o.b[n]}var h;i.d(t,"a",function(){return h});var e=i(6),f=i(4),u=i(2),r=i(1);var l=function(){function n(n){this.screenshot=n}return n.prototype.getContent=function(){var n;try{n=this.screenshot.toDataURL("image/jpeg").split(",")[1]}catch(t){u.b().logEvent(u.a.Shared.Screenshot.GetContent.Failed.DefaultImage.Returned.VALUE,2,{ErrorMessage:t.toString()});n="iVBORw0KGgoAAAANSUhEUgAAAN0AAAA+AQMAAACV2ox1AAAABGdBTUEAALGPC/xhBQAAAAZQTFRFAAAA////pdmf3QAAAAlwSFlzAAAOwgAADsIBFShKgAAAAjtJREFUSMfV1M1rE0EUAHDBa5r8A9vkL6giFiI0JH+Ih9KLx8TaukkJugShHgrJzYvkVPQkUqgwSePLEELaU+zBg8JKVvSQQNydlsadwCQzziRZ82ETxYMfc3gD8+MxjzcfV8T80f0vkQ8i68tAPSMSQ0PkI6QDpEPkZBHy1Wp1/zjni2lrZq2T2uikDG17A54Hr0vsvwXIl3WXt02zeIHQBSq3DxHk7VO55zIFgLLrcmaaQBGiqCwQArBVQTbNZODNBB5Ee2EEr5eGiDG4k5mcqcy+Ksh+N8K2+bRI1Z68fRMVoV+XmcFwpQJZGohpkds1WtjppGLaq51a2b8yp310UW9/H8VfRj68CIKRsWCFPCCEM419S4bSAOmPmdb3TBrQ4lmnt9n4/Hiv5fTunsOzXbJfLR2rU3Fd5ugOe9mw0lvNOCNxyDdIHkpHCv0S3a+MS0yT+4wkAKx1gBJeVxeMRhSeNZpXJfY+zqAVl+g0mCFRJMgs6oy9+MCMrWZaJJwiWFjuWcIShf+Wk2W9e59OHu21WPdsswZNLKs9wV77mJiaMVbBQ+/1jGZDofFLuOBU/jzG6OQKnkLOZ5EvwolMX2Q19TAX9MWyy/aNarewfZptechdLn8B3TatB/YXB2j4MKw3jTHKX4AO0CbqaSddMokHUbr0PpSXmFG4O4WIu86asCVihfoM6nUmse5gGkbJOyThVesX4UI0d00LBYMr55VuIZl8MkY1uOiTy9v3c+ShuXj5+NdQdL8B+5gmw8WZuREAAAAASUVORK5CYII="}for(var t=atob(n),r=[],i=0;i<t.length;i++)r.push(t.charCodeAt(i));return new Blob([new Uint8Array(r)],{type:"image/jpeg"})},n}(),o=i(7),a=i(31),s=i(8),v=function(){function n(n,t,i,r,u,f,e,h,c){this.manifestData={appId:t,application:f,clientFeedbackId:u,manifestType:n,source:"Client",submitTime:i,telemetry:e,type:y(r),web:h,sdkVersion:o.e+(void 0!==s.a().OfficeBrowserFeedback.sdkVersion?s.a().OfficeBrowserFeedback.sdkVersion:a.a),retentionDurationDays:c}}return n.prototype.getExtendedManifestData=function(){return this.manifestData.application.extendedManifestData},n.prototype.setComment=function(n){this.manifestData.comment=n},n.prototype.setEmail=function(n){this.manifestData.email=n},n.prototype.setCategory=function(n){this.manifestData.telemetry=this.manifestData.telemetry||{};this.manifestData.telemetry.featureArea=n},n.prototype.setAppData=function(n){this.manifestData.application=this.manifestData.application||{};this.manifestData.application.appData=n},n.prototype.setExtendedManifestData=function(n){this.manifestData.application=this.manifestData.application||{};this.manifestData.application.extendedManifestData=n},n.prototype.setClientFeedbackId=function(n){this.manifestData.clientFeedbackId=n},n.prototype.getClientFeedbackId=function(){return this.manifestData.clientFeedbackId},n.prototype.setComplianceInformation=function(n,t,i,r,u,f){this.manifestData.complianceChecks={authenticationType:n,ageGroup:t,policyAllowFeedback:i,policyAllowSurvey:r,policyAllowScreenshot:u,policyAllowContact:f}},n.prototype.setValues=function(n){if(n)for(var t in n)n.hasOwnProperty(t)&&(this.manifestData[t]=this.manifestData.hasOwnProperty(t)?f.o(n[t],this.manifestData[t]):n[t])},n.prototype.getContent=function(){return new Blob([JSON.stringify(this.manifestData)],{type:"application/json"})},n.prototype.appendUxId=function(n){!f.l(n)&&f.m(n)&&""!==n&&(this.manifestData.sdkVersion=this.manifestData.sdkVersion+","+n)},n}();h=function(){function n(n,t,i,u,o,s,h){var c,l,a,y,p,w,b,k;this.clientFeedbackId=f.i();this.manifest=new v(t,i,(new Date).toISOString(),u,this.clientFeedbackId,Object(e.a)({},o),Object(e.a)({},s),Object(e.a)({},h),r.get().getCommonInitOptions().retentionDurationDays);this.environment=n;this.manifest.setComplianceInformation(r.AuthenticationType[null!==(l=null===(c=r.get().getCommonInitOptions())||void 0===c?void 0:c.authenticationType)&&void 0!==l?l:r.AuthenticationType.Unauthenticated],r.AgeGroup[null!==(y=null===(a=r.get().getCommonInitOptions())||void 0===a?void 0:a.ageGroup)&&void 0!==y?y:r.AgeGroup.Undefined],this.ocpsEnumToString(null===(p=r.get().getInAppFeedbackInitOptions())||void 0===p?void 0:p.sendFeedbackPolicyValue),this.ocpsBooleanToString(null===(w=r.get().getFloodgateInitOptions())||void 0===w?void 0:w.surveyEnabled),this.ocpsEnumToString(null===(b=r.get().getCommonInitOptions())||void 0===b?void 0:b.screenshotPolicyValue),this.ocpsEnumToString(null===(k=r.get().getCommonInitOptions())||void 0===k?void 0:k.emailPolicyValue))}return n.prototype.getClientFeedbackId=function(){return this.clientFeedbackId},n.prototype.getExtendedManifestData=function(){return this.manifest.getExtendedManifestData()},n.prototype.setComment=function(n){this.manifest.setComment(n)},n.prototype.setEmail=function(n){this.manifest.setEmail(n)},n.prototype.setCategory=function(n){this.manifest.setCategory(n)},n.prototype.setAppData=function(n){this.manifest.setAppData(n)},n.prototype.setExtendedManifestData=function(n){this.manifest.setExtendedManifestData(n)},n.prototype.setScreenshot=function(n){this.screenshot=new l(n)},n.prototype.setClientFeedbackId=function(n){this.manifest.setClientFeedbackId(n)},n.prototype.appendUxId=function(n){this.manifest.appendUxId(n)},n.prototype.getManifest=function(){return this.manifest},n.prototype.setManifestValues=function(n){this.manifest.setValues(n)},n.prototype.submit=function(){if(!r.get().isFeedbackSurveyEnabledByAADC())return u.b().logEvent(u.a.Shared.Upload.Prevented.VALUE,2,{Data:JSON.stringify({ageGroup:r.get().getCommonInitOptions().ageGroup,authenticationType:r.get().getCommonInitOptions().authenticationType})}),Promise.resolve();var i=this.manifest.getContent(),n=void 0,t=this.clientFeedbackId;return this.screenshot&&(n=this.screenshot.getContent()),c(0===this.environment,i,n).catch(function(n){r.get().setFeedbackSubmitted(!1);r.get().getCommonInitOptions().onError("Payload submission failed: "+n.message+". ClientFeedbackId: "+t);u.b().logEvent(u.a.Shared.Upload.Failed.VALUE,2,{ErrorMessage:n.message,ClientFeedbackId:t})})},n.prototype.ocpsBooleanToString=function(n){return void 0===n?"Not Configured":n?"Enabled":"Disabled"},n.prototype.ocpsEnumToString=function(n){if(!n)return"Not Configured";switch(n){case 2:return"Disabled";case 1:return"Enabled";default:return"Not Configured"}},n}()},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GovernanceServiceClientState=t.GovernanceServiceSurveyType=void 0,function(n){n[n.Unknown=0]="Unknown";n[n.Feedback=1]="Feedback";n[n.Nps=2]="Nps";n[n.Psat=4]="Psat";n[n.Bps=6]="Bps";n[n.Fps=8]="Fps";n[n.Nlqs=18]="Nlqs";n[n.GenericMessagingSurface=22]="GenericMessagingSurface";n[n.Intercept=24]="Intercept"}(t.GovernanceServiceSurveyType||(t.GovernanceServiceSurveyType={})),function(n){n[n.Disabled=0]="Disabled";n[n.InitializationFailed=1]="InitializationFailed";n[n.Enabled=2]="Enabled"}(t.GovernanceServiceClientState||(t.GovernanceServiceClientState={}))},function(n,t,i){"use strict";function r(n){var t=document.createElement("link"),i;t.rel="stylesheet";t.type="text/css";t.href=n;i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}function u(n,t){return void 0===t&&(t=window.origin),new Promise(function(i,r){var u=document.createElement("script"),f;u.async=!0;u.readyState?u.onreadystatechange=function(){"loaded"!==u.readyState&&"complete"!==u.readyState||(u.onreadystatechange=null,i())}:u.onload=function(){i()};u.onerror=function(){r()};u.src=n;t&&"null"!==t&&(u.crossOrigin="anonymous");f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(u,f)})}i.d(t,"b",function(){return r});i.d(t,"a",function(){return u})},function(n,t,i){"use strict";var h=i(18),c=i(17),u=i(37),f=i(9),l=f.getDistantFuture,e=f.getDistantPast,r=f.isNOU,s=f.isDate,o=function(){function n(n){if(r(n))throw new Error("data must not be null");if(r(n.id)||""===n.id)throw new Error("data.id must not be null or empty");if(r(n.governedChannelType)&&(n.governedChannelType=c.GovernedChannelType.getDefault()),r(n.expirationTimeUtc)||""===n.expirationTimeUtc)throw new Error("data.expirationTimeUtc must not be null or empty");if(r(n.activationEvent))throw new Error("data.activationEvent must not be null");(r(n.backEndIdentifier)||""===n.backEndIdentifier)&&(n.backEndIdentifier=n.id);r(n.launcherType)&&(n.launcherType=h.LAUNCHER_TYPE_DEFAULT);this.data=n}return n.prototype.getId=function(){return this.data.id},n.prototype.getBackEndId=function(){return this.data.backEndIdentifier},n.prototype.getGovernedChannelType=function(){return this.data.governedChannelType},n.prototype.getRawStartTimeUtc=function(){return this.data.startTimeUtc},n.prototype.getStartTimeUtc=function(){if(r(this.data.startTimeUtc))return e();var n=new Date(this.data.startTimeUtc);return s(n)?n:l()},n.prototype.getExpirationTimeUtc=function(){if(r(this.data.expirationTimeUtc))return e();var n=new Date(this.data.expirationTimeUtc);return s(n)?n:e()},n.prototype.getRawExpirationTimeUtc=function(){return this.data.expirationTimeUtc},n.prototype.isActiveForDate=function(n){return!r(n)&&n>=this.getStartTimeUtc()&&n<=this.getExpirationTimeUtc()},n.prototype.getActivationEvent=function(){return this.data.activationEvent},n.prototype.getPreferredLaunchType=function(){return this.data.preferredLaunchType},n.prototype.isAdditionalDataRequested=function(n){if(r(this.data.additionalDataRequested))return!1;for(var t=0,i=this.data.additionalDataRequested;t<i.length;t++)if(i[t]===n)return!0;return!1},n.prototype.getLauncherType=function(){return this.data.launcherType},n.prototype.getMetadata=function(){return this.data.metadata},n.prototype.getBusinessLevel=function(){return this.data.businessLevel},n.prototype.getMaxLaunches=function(){return this.data.maxLaunches},n.prototype.getMaxLaunchesPerSession=function(){return this.data.maxLaunchesPerSession},n.prototype.getDomElements=function(n){var t,i;if(!n)throw new Error("Document must not be null");return t=n.createElement(u.DOM_TYPE_TAGNAME),t.appendChild(n.createTextNode(u.DOM_TYPE_VALUE)),i=n.createElement(u.DOM_ID_TAGNAME),i.appendChild(n.createTextNode(this.getBackEndId())),[t,i]},n.prototype.getJsonElements=function(){var t={},n;return t[u.JSON_ID_KEYNAME]=this.getBackEndId(),n={},n[u.JSON_SURVEY_KEYNAME]=t,n},n}();!function(n){var t=function(){this.preferredLaunchType="Default"};n.SurveyDataSourceData=t}(o||(o={}));n.exports=o},function(n,t){"use strict";var r=this&&this.__spreadArray||function(n,t,i){if(i||2===arguments.length)for(var u,r=0,f=t.length;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},i;Object.defineProperty(t,"__esModule",{value:!0});t.SchemaObject=void 0;i=function(){function n(t){n.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_SchemaObject"},n.getBaseTypes=function(){return[]},n.getTypeNameFor=function(n){if(n&&n.H_)return n.H_.T_},n.getBaseTypesFor=function(n){return n&&n.H_&&n.H_.B_?n.H_.B_:[]},n.getAllTypesFor=function(t){var i=n.getTypeNameFor(t);return i?r([i],n.getBaseTypesFor(t),!0):[]},n.matchesTypesFor=function(t,i){var u;if(!Array.isArray(i)||0===i.length)return!0;for(var e=n.getTypeNameFor(t),o=n.getBaseTypesFor(t),r=0,f=i;r<f.length;r++)if((u=f[r],u===e)||o.indexOf(u)>=0)return!0;return!1},n.assign=function(n,t,i){var r,u,f;if(i)for(r=0,u=Object.keys(i);r<u.length;r++)f=u[r],t[f]=i[f];return t.H_=n.H_,t},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.SchemaObject=i},function(n,t,i){"use strict";function f(n,t){return u(n||document.body,Object(r.a)({background:"#ffffff"},t))}i.d(t,"a",function(){return f});var r=i(6),u=i(50)},function(n,t,i){"use strict";function a(){return new Promise(function(n,t){var i,h,o;f?n():(i=u.get().getCommonInitOptions(),(i||t("initOptionsCommon is null"),(i.customResourcesSetExternally&u.CustomResources.Css)===u.CustomResources.Css)?(h="#"+r.d.TPromptTitle,Object(c.a)(h)||t("Expected custom Css to be set by host but "+h+" was not found to be set.")):Object(s.b)(i.stylesUrl),(function(n,t){void 0===n&&(n=void 0);void 0===t&&(t=void 0);n||(n="#0167B0");t||(t="#194789");var i=document.createElement("style");i.textContent="."+r.c.OverallAnchor+":focus { background-color: "+n+" } ."+r.c.OverallAnchor+":hover { background-color: "+t+" } ."+r.c.OverallAnchorActive+" { background-color: "+n+" } ."+r.c.SpinnerCircle+" { background-color: "+n+" } ."+r.c.ChoiceGroup+" input[type=radio]:checked+label>."+r.c.ChoiceGroupIcon+" { border-color: "+n+" } ."+r.c.ChoiceGroup+" input[type=radio]:hover+label>."+r.c.ChoiceGroupIcon+" { border-color: "+t+" } ."+r.c.ChoiceGroup+" input[type=radio]:checked+label>."+r.c.ChoiceGroupIcon+">span { background-color: "+n+" } ."+r.c.SubmitButton+" { background-color: "+n+" } ."+r.c.SubmitButton+":hover { background-color: "+t+" } ."+r.c.CancelButton+" { background-color: "+n+" } ."+r.c.CancelButton+":hover { background-color: "+t+" } ."+r.c.Link+" { color: "+n+" } ."+r.c.Link+":hover { color: "+t+" } ."+r.c.ThanksPanelTitle+" { color: "+n+" } #"+r.d.TPromptTitle+" { color: "+n+" } #"+r.d.TFormTitle+" { color: "+n+" } ";document.body.appendChild(i)}(i.primaryColour,i.secondaryColour),(i.customResourcesSetExternally&u.CustomResources.Strings)===u.CustomResources.Strings)?(e.a()||t("Expected custom strings to be set by host but UIStrings.getUIStrings() is null or undefined"),f=!0,n()):(o=i.intlUrl+i.locale.toLowerCase()+"/"+i.intlFilename,Object(s.a)(o).then(function(){e.a()?(f=!0,n()):t("UiStrings were not loaded from "+o)}).catch(function(n){t("Script load failed for "+o+". "+n)})))})}function v(){f=!1}i.d(t,"a",function(){return a});i.d(t,"b",function(){return v});var e=i(3),u=i(1),o=i(8),r=i(0),h=i(27),s=i(24),c=i(4),l=i(50),f=!1;o.p(function(n){e.b(n)});o.d(h.a);o.a().OfficeBrowserFeedback.html2canvas=l},function(n,t,i){"use strict";function h(){if(!e){if(!u.a().OfficeBrowserFeedback.initOptions)throw new Error("Window.OfficeBrowserFeedback.initOptions not set");u.a().OfficeBrowserFeedback.sdkVersion=s.a;r.get().setCommonInitOptions(u.a().OfficeBrowserFeedback.initOptions);o=r.get().isFeedbackSurveyEnabledByAADC();f.c(r.get().getCommonInitOptions(),"OfficeFeedbackSDK",s.a,r.get().getSdkSessionId(),r.get().getEventSampling());e=!0;o||f.b().logEvent(f.a.FEEDBACK_SURVEYSDISABLED_AADC,1,{Data:JSON.stringify({ageGroup:r.get().getCommonInitOptions().ageGroup,authenticationType:r.get().getCommonInitOptions().authenticationType})})}}function c(){e=!1}i.d(t,"a",function(){return h});i.d(t,"b",function(){return c});i(55);var s=i(31),r=i(1),u=i(8),f=i(2),e=!1,o=!1;u.n(function(){return o})},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Survey=void 0;var r=i(18),u=i(20),f=i(9),e=function(){function n(){}return n.prototype.getCampaignId=function(){return this.getSurveyInfo().getBackEndId()},n.prototype.getLauncherType=function(){return this.getSurveyInfo().getLauncherType()},n.prototype.getClientFeedbackId=function(){return this.clientFeedbackId},n.prototype.submit=function(){var t=r.Type[this.getType()],n=u.FloodgateEngine.getTransportFactory().makeTransporter(t);n.setManifestValues(this.getJsonElements());this.clientFeedbackId=n.getClientFeedbackId();n.submit()},n.prototype.getPreGeneratedClientFeedbackId=function(){return this.clientFeedbackId?this.clientFeedbackId:this.clientFeedbackId=f.guid()},n}();t.Survey=e},function(n,t){"use strict";t.a="1.9.3"},function(n,t,i){"use strict";function u(n,t){var i,e,f,o,s,h;if(void 0===n.brs&&(n.brs=!0),!n.brs)return null;if(n.tag||(n.tag=r.h.Div),n.tag===r.h.Svg&&(t=!0),i=t?document.createElementNS("http://www.w3.org/2000/svg",n.tag):document.createElement(n.tag),n.attributes)for(e=void 0,f=0;f<n.attributes.length;f++)(e=n.attributes[f]).name===r.a.xlinkHref?i.setAttributeNS("http://www.w3.org/1999/xlink",r.a.HRef,e.value):i.setAttribute(e.name,e.value);if((n.id&&(i.id=n.id),n.classes)&&(o=n.classes.join(" "),t?i.setAttribute(r.a.Class,o):i.className=o),n.innerText&&!t&&(i.textContent=n.innerText),n.innerHTML&&!t&&(i.innerHTML=n.innerHTML),n.children)for(f=0;f<n.children.length;f++)s=n.children[f],s&&(h=u(s,t),h&&i.appendChild(h));return i}i.d(t,"a",function(){return u});var r=i(0)},function(n,t,i){"use strict";var u,e;Object.defineProperty(t,"__esModule",{value:!0});t.Governor=t.DEFAULT_TEACHING_MESSAGE_COOLDOWN=void 0;var r=i(17),o=i(47),f=i(9).isNOU;t.DEFAULT_TEACHING_MESSAGE_COOLDOWN=15;u=function(n,t){this.name=n;this.cooldownSeconds=t};e=function(){function n(n){if(this.channels=[],!n)throw new Error("channelStateProvider must not be null");this.channelStateProvider=n;this.loadChannels()}return n.GetChannelCoolDown=function(t){var i=n.defaultChannelData[t];return i?i.cooldownSeconds:0},n.SetDefaultChannelCoolDown=function(t,i){var r=n.defaultChannelData[t];r&&(r.cooldownSeconds=i)},n.prototype.refreshChannelData=function(){this.loadChannels()},n.prototype.getAvailableChannelData=function(){var i=[],n,t;for(n in this.channels)this.channels.hasOwnProperty(n)&&(t=this.channels[n],t.isOpen()&&i.push(t));return i},n.prototype.isChannelOpen=function(n){if(f(n))throw new Error("type must not be null");return this.channels[n].isOpen()},n.prototype.startChannelCooldown=function(n,t){if(f(n))throw new Error("type must not be null");t=t||new Date;this.channels[n].setCooldownStartTime(t);this.saveChannelStates()},n.prototype.saveChannelStates=function(){var i=[],n,t,r;for(n in this.channels)this.channels.hasOwnProperty(n)&&(t=this.channels[n],r=new o.GovernedChannelState(t.getType(),t.getCooldownStartTime()),i.push(r));this.channelStateProvider.save(i)},n.prototype.loadChannels=function(){var i,t,u,f;for(i in this.loadChannelStatesFromProvider(),r.GovernedChannelType)if(r.GovernedChannelType.hasOwnProperty(i)){if(t=Number(i),isNaN(t)||this.channels[t])continue;u=n.defaultChannelData[t];f=new r.GovernedChannel(t,u.name,u.cooldownSeconds,null);this.channels[t]=f}},n.prototype.loadChannelStatesFromProvider=function(){var t,i;this.channels=[];t=this.channelStateProvider.load();for(i in t)if(t.hasOwnProperty(i)){var u=t[i],f=u.getType(),e=n.defaultChannelData[f],o=new r.GovernedChannel(f,e.name,e.cooldownSeconds,u.getCooldownStartTime());this.channels[o.getType()]=o}},n.minute=60,n.hour=60*n.minute,n.day=24*n.hour,n.defaultChannelData=[new u(r.GovernedChannelType[r.GovernedChannelType.Standard],14*n.day),new u(r.GovernedChannelType[r.GovernedChannelType.Urgent],0),new u(r.GovernedChannelType[r.GovernedChannelType.Banner],15*n.day),new u(r.GovernedChannelType[r.GovernedChannelType.TeachingMessage],t.DEFAULT_TEACHING_MESSAGE_COOLDOWN*n.day)],n}();t.Governor=e},function(n,t,i){"use strict";i.d(t,"a",function(){return o});var f=i(16),e=i(4),r=i(14),u=e.l,o=function(){function n(n){this.useLocalStorage=!1;this.cachedItems={};this.initialize(n)}return n.prototype.setContentItem=function(n,t,i){var r=this.createItem(n,t,i);return this.setItem(r),r},n.prototype.getItemContent=function(n){var t=this.getItem(n);return t&&t.content},n.prototype.has=function(n){return n in this.cachedItems},n.prototype.isItemExpired=function(n){var t=this.getItem(n);return!t||!t.expiryDate||t.expiryDate<new Date},n.prototype.createItem=function(n,t,i){return{contentType:n,content:t,expiryDate:new Date(Date.now()+i),lastRetrievedDate:new Date}},n.prototype.setItem=function(n){this.cachedItems[n.contentType]=n;this.updateItemInLocalStorage(n)},n.prototype.getItem=function(n){return this.cachedItems[n]},n.prototype.initialize=function(n){this.cachedItems={};f.a.isStorageAvailable()&&(this.floodgateStorage=new f.a,this.useLocalStorage=!0,this.initCachedItemsFromLocalStorage(n))},n.prototype.initCachedItemsFromLocalStorage=function(n){var i,r,e,f,t;if(this.useLocalStorage&&!u(n))for(i=0,r=n;i<r.length;i++)e=r[i],f=this.floodgateStorage.read(this.mapContentTypeToFloodgateProviderKey(e)),u(f)||(t=this.parseObjectFromCache(f),u(t)||(t.expiryDate="string"==typeof t.expiryDate?new Date(t.expiryDate):t.expiryDate,this.cachedItems[t.contentType]=t))},n.prototype.updateItemInLocalStorage=function(n){this.useLocalStorage&&this.floodgateStorage.write(this.mapContentTypeToFloodgateProviderKey(n.contentType),JSON.stringify(n))},n.prototype.parseObjectFromCache=function(n){try{return JSON.parse(n)}catch(n){return null}},n.prototype.mapContentTypeToFloodgateProviderKey=function(n){switch(n){case"CampaignContent":return r.FileType.TmsCache_CampaignContent;case"MessageMetadata":return r.FileType.TmsCache_MessageMetadata;case"UserGovernance":return r.FileType.TmsCache_UserGovernance;case"DynamicSettings":return r.FileType.Tms_DynamicSettings;case"LogLevelSettings":return r.FileType.LogLevelSettings;case"UserFacts":return r.FileType.UserFacts;default:throw new Error("Unmapped ContentType in TmsCache");}},n}()},function(n,t,i){"use strict";function o(n){var i,t=(i=n.element,parseFloat(window.getComputedStyle(i).getPropertyValue("opacity"))-1/8);t<=0&&(t=1);u(n.element,t)}function u(n,t){n.style.opacity=t.toString()}function s(){var n=document.createElement("div");return n.classList.add(f.c.SpinnerCircle),n.style.width=n.style.height=34*.2+"px",n}i.d(t,"a",function(){return e});var f=i(0),r=i(5),e=function(){function n(n){this.circleObjects=[];this.spinnerId=n;this.spinner=document.getElementById(this.spinnerId);this.createCirclesAndArrange();this.initializeOpacities();this.start();r.l(n,!0)}return n.prototype.destroy=function(){r.l(this.spinnerId,!1);this.stop()},n.prototype.start=function(){var n=this;this.stop();this.interval=setInterval(function(){for(var t=n.circleObjects.length;t--;)o(n.circleObjects[t])},90)},n.prototype.stop=function(){clearInterval(this.interval)},n.prototype.createCirclesAndArrange=function(){for(var i,t=0,u=Math.PI/4,r=8;r--;){var n=s(),f=Math.round(17+13.6*Math.cos(t)-.5*n.clientWidth)-34*.2*.5,e=Math.round(17+13.6*Math.sin(t)-.5*n.clientHeight)-34*.2*.5;this.spinner.appendChild(n);n.style.left=f+"px";n.style.top=e+"px";t+=u;i={element:n,j:r};this.circleObjects.push(i)}},n.prototype.initializeOpacities=function(){for(var t,n=0,i=1;n<8;n++)t=1/8*i++,u(this.circleObjects[n].element,t)},n}()},function(n,t,i){"use strict";var u=this&&this.__createBinding||(Object.create?function(n,t,i,r){void 0===r&&(r=i);Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[i]}})}:function(n,t,i,r){void 0===r&&(r=i);n[r]=t[i]}),r=this&&this.__exportStar||function(n,t){for(var i in n)"default"===i||t.hasOwnProperty(i)||u(t,n,i)};Object.defineProperty(t,"__esModule",{value:!0});r(i(90),t);r(i(91),t)},function(n){"use strict";var t;!function(n){!function(n){n[n.None=0]="None";n[n.Critical=1]="Critical"}(n.BusinessLevel||(n.BusinessLevel={}));n.DOM_TYPE_TAGNAME="Type";n.DOM_TYPE_VALUE="Survey";n.DOM_ID_TAGNAME="SurveyID";n.JSON_SURVEY_KEYNAME="survey";n.JSON_ID_KEYNAME="surveyId"}(t||(t={}));n.exports=t},function(n,t,i){"use strict";var e,r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.MergeAndUpdateSurveyActivationStats=t.MergeAndUpdateCampaignStates=t.MergeAndUpdateGovernedChannelStates=t.makeSettingItemValue=t.extractSettingItemValueSubString=t.ItemCollection=void 0;e=i(44);r=function(){function n(){this.items={};this.itemCount=0}return n.prototype.add=function(n,t){this.items[n]||this.itemCount++;this.items[n]=t},n.prototype.find=function(n){return this.items[n]},n.prototype.remove=function(n){var t=this.items[n];return t&&(delete this.items[n],this.itemCount--),t},n.prototype.count=function(){return this.itemCount},n}();t.ItemCollection=r;t.extractSettingItemValueSubString=function(n){if(!n)return n;var t=n.indexOf(u)+u.length,i=n.indexOf(f);return t<0||i<0?n:n.substring(t,i)};t.makeSettingItemValue=function(n){return n?u+n+f:u+f};t.MergeAndUpdateGovernedChannelStates=function(n,t){var i=new r,u,f;return!n&&!t?i:n?t?(u=[],f=[],n&&n.forEach(function(n){for(var r,e=-1,i=0;i<t.length;i++)if((r=t[i]).getType()===n.getType()){e=i;break}if(-1===e)return u.push(n),void f.push(n);n.getCooldownStartTime()>r.getCooldownStartTime()?(u.push(n),f.push(n)):u.push(r);t.splice(e,1)}),t&&t.forEach(function(n){u.push(n)}),i.add(0,u),f.length>0&&i.add(1,f),i):(i.add(0,n),i.add(1,n),i):(i.add(0,t),i)};t.MergeAndUpdateCampaignStates=function(n,t){var i=new r,u,f;return!n&&!t?i:n?t?(u=[],f=[],n&&n.forEach(function(n){for(var i,o=new Date,r=-1,e=0;e<t.length;e++)if((i=t[e]).CampaignId===n.CampaignId){r=e;break}return-1===r?(u.push(n),void f.push(n)):i.LastCooldownEndTimeUtc>o?(u.push(i),void t.splice(r,1)):n.LastCooldownEndTimeUtc>o?(u.push(n),f.push(n),void t.splice(r,1)):(n.getCooldownStartDate()>i.getCooldownStartDate()||n.getCooldownStartDate()===i.getCooldownStartDate()&&n.LastNominationTimeUtc>i.LastNominationTimeUtc?(u.push(n),f.push(n)):u.push(i),void t.splice(r,1))}),t&&t.forEach(function(n){u.push(n)}),i.add(0,u),f.length>0&&i.add(1,f),i):(i.add(0,n),i.add(1,n),i):(i.add(0,t),i)};t.MergeAndUpdateSurveyActivationStats=function(n,t){var u=new r,c,i,l,a;if(!n&&!t)return u;if(!n)return u.add(0,t),u;if(!t)return u.add(0,n),u.add(1,n),u;var s=new e.SurveyStatCollectionActivation,h=new e.SurveyStatCollectionActivation,f=n.getStats(),o=t.getStats();for(i in f)if(f.hasOwnProperty(i)){if(c=o[i],!c){s.addStats(i,f[i]);h.addStats(i,f[i]);continue}f[i].ActivationTimeUtc>c.ActivationTimeUtc?(s.addStats(i,f[i]),h.addStats(i,f[i])):s.addStats(i,o[i]);delete o[i]}for(i in o)o.hasOwnProperty(i)&&s.addStats(i,o[i]);u.add(0,s);l=h.getStats();for(a in l)if(l.hasOwnProperty(a)){u.add(1,h);break}return u};u="<data>";f="<\/data>"},function(n,t,i){"use strict";var r=i(19),u=function(){function n(n){if(!n)throw new Error("data must not be null");if(!n.question)throw new Error("data.question must not be null or empty");this.data=n;this.userComment=""}return n.make=function(t){try{return new n(t)}catch(n){return null}},n.prototype.getType=function(){return"Comment"},n.prototype.getQuestion=function(){return this.data.question},n.prototype.setSubmittedText=function(n){this.userComment=n},n.prototype.getSubmittedText=function(){return this.userComment},n.prototype.getDomElements=function(n){if(!n)throw new Error("Document must not be null");var t=n.createElement(r.DOM_COMMENT_TAGNAME);return t.appendChild(n.createTextNode(this.getSubmittedText())),[t]},n.prototype.getJsonElements=function(){var n={};return n[r.JSON_COMMENT_KEYNAME]=this.getSubmittedText(),n},n.prototype.getComponentJson=function(){var n;return(n={})[r.JSON_QUESTION_KEYNAME]=this.getQuestion(),n},n}();!function(n){var t=function(){};n.CommentComponentData=t}(u||(u={}));n.exports=u},function(n,t,i){"use strict";var r=i(19),u=function(){function n(n){if(!n)throw new Error("data must not be null");if(!n.question)throw new Error("data.question must not be null or empty");if(!n.title)throw new Error("data.title must not be null or empty");if(!n.yesButtonLabel)throw new Error("data.yesButtonLabel must not be null or empty");if(!n.noButtonLabel)throw new Error("data.noButtonLabel must not be null or empty");this.data=n;this.selectedButton=0}return n.make=function(t){try{return new n(t)}catch(n){return null}},n.prototype.getType=function(){return"Prompt"},n.prototype.getTitle=function(){return this.data.title},n.prototype.getQuestion=function(){return this.data.question},n.prototype.getYesButtonText=function(){return this.data.yesButtonLabel},n.prototype.getNoButtonText=function(){return this.data.noButtonLabel},n.prototype.setButtonSelected=function(n){n&&(this.selectedButton=n)},n.prototype.getButtonSelected=function(){return this.selectedButton},n.prototype.getDomElements=function(n){if(!n)throw new Error("Document must not be null");var t=n.createElement(r.DOM_PROMPT_TAGNAME);return t.appendChild(n.createTextNode(this.promptButtonToString(this.getButtonSelected()))),[t]},n.prototype.getJsonElements=function(){var n={};return n[r.JSON_PROMPT_KEYNAME]=this.promptButtonToString(this.getButtonSelected()),n},n.prototype.getComponentJson=function(){var n;return(n={})[r.JSON_TITLE_KEYNAME]=this.getTitle(),n[r.JSON_QUESTION_KEYNAME]=this.getQuestion(),n[r.JSON_PROMPTYESTEXT_KEYNAME]=this.getYesButtonText(),n[r.JSON_PROMPTNOTEXT_KEYNAME]=this.getNoButtonText(),n},n.prototype.promptButtonToString=function(n){switch(n){case 0:return"Unselected";case 1:return"Yes";case 2:return"No";default:return"Unknown"}},n}();!function(n){var t=function(){};n.PromptComponentData=t}(u||(u={}));n.exports=u},function(n,t,i){"use strict";var r=i(19),u=function(){function n(n){if(!n)throw new Error("data must not be null");if(!n.question)throw new Error("data.question must not be null or empty");if(!n.ratingValuesAscending||n.ratingValuesAscending.length<2)throw new Error("data.ratingValuesAscending must not be null or have less than two choices");n.ratingValuesAscending.forEach(function(n){if(!n)throw new Error("rating values must not contain null or empty");});this.data=n;this.selectedIndex=-1}return n.make=function(t){try{return new n(t)}catch(n){return null}},n.prototype.getType=function(){return"Rating"},n.prototype.getQuestion=function(){return this.data.question},n.prototype.getRatingValuesAscending=function(){return this.data.ratingValuesAscending},n.prototype.getSelectedRating=function(){return this.isRatingIndexValid(this.selectedIndex)?this.data.ratingValuesAscending[this.selectedIndex]:""},n.prototype.setSelectedRatingIndex=function(n){this.selectedIndex=this.isRatingIndexValid(n)?n:-1},n.prototype.getSelectedRatingIndex=function(){return this.selectedIndex},n.prototype.getDomElements=function(n){if(!n)throw new Error("Document must not be null");var t=n.createElement(r.DOM_RATING_TAGNAME);return this.isRatingIndexValid(this.getSelectedRatingIndex())?t.appendChild(n.createTextNode(this.getNormalizedRatingScore().toFixed(6))):t.appendChild(n.createTextNode("Not rated")),[t]},n.prototype.getJsonElements=function(){var n={};return n[r.JSON_RATING_KEYNAME]=this.isRatingIndexValid(this.getSelectedRatingIndex())?this.getNormalizedRatingScore():"Not rated",n},n.prototype.getComponentJson=function(){var n;return(n={})[r.JSON_QUESTION_KEYNAME]=this.getQuestion(),n[r.JSON_RATINGOPTIONS_KEYNAME]=this.getRatingValuesAscending(),n},n.prototype.getNormalizedRatingScore=function(){return this.isRatingIndexValid(this.getSelectedRatingIndex())?this.data.isZeroBased?this.selectedIndex/(this.data.ratingValuesAscending.length-1):(this.selectedIndex+1)/this.data.ratingValuesAscending.length:-1},n.prototype.isRatingIndexValid=function(n){return n>=0&&n<this.data.ratingValuesAscending.length},n}();!function(n){var t=function(){};n.RatingComponentData=t}(u||(u={}));n.exports=u},function(n,t,i){"use strict";var s=i(73),o=i(15),h=i(74),c=i(48),e=i(9),r=[],u=0,f={},l=function(){function n(n,t){if(this.activityContext={},!n)throw new Error("callback must not be null");this.trackedActivityMap={};this.callback=n;this.loggerCallback=t}return n.resetSessionActivity=function(){f={}},n.prototype.logActivity=function(n,t,i){void 0===t&&(t=1);this.logActivity_private(n,0,t,null,i)},n.prototype.logActivityStartTime=function(n,t){this.logActivity_private(n,1,0,t,null)},n.prototype.logActivityStopTime=function(n,t){this.logActivity_private(n,2,0,t,null)},n.prototype.SetActivityTrackingContracts=function(n,t){var l,i,r,y,p,tt,it,w,b,rt,u,e,ut;if(void 0===t&&(t=new c.SurveyStatCollectionEventActivity),l=0,n&&0!==n.length&&t){for(var a={},ft=[],k=0,et=n;k<et.length;k++)if(i=et[k],r=i.trackingSet,-1===ft.indexOf(i.surveyId)){ft.push(i.surveyId);for(var d=t.getBySurveyId(i.surveyId),g=[r.getList().length],ot=new Array(r.getList().length),st=0,v=0,nt=0,ht=r.getList();nt<ht.length;nt++){if(y=ht[nt],g[v]=0,y.getIsAggregate()&&d&&st<d.Counts.length&&(g[v]=d.Counts[st++]),f[y.getActivity()])for(p=0,tt=f[y.getActivity()];p<tt.length;p++)if(it=tt[p],it.surveyId===i.surveyId){ot[v]=it;break}v++}for(w=new s(r),w.initCounts(g,ot,!1),b=0,rt=w.generateActivityIndexList();b<rt.length;b++)u=rt[b],e=new h.IndexedTracker,e.index=u.index,e.surveyId=i.surveyId,e.tracker=w,a[u.activity]||(a[u.activity]=[]),a[u.activity].push(e)}else l++;l>0&&(ut=this.loggerCallback&&this.loggerCallback(),ut&&ut.log_Error(o.TelemetryEvent.SurveyActivity.SetActivityTrackingContracts.DuplicateSurveyID,"Duplicate surveyId passed in activityTrackingContracts. Duplicate count: "+l));this.copyObject(this.trackedActivityMap,a)}},n.prototype.clearSurveys=function(){var n=this;Object.getOwnPropertyNames(this.trackedActivityMap).forEach(function(t){delete n.trackedActivityMap[t]})},n.prototype.saveSessionTrackingActivity=function(n){f[n]=this.trackedActivityMap[n]},n.prototype.getCount=function(n,t){var i=this.getIndexedTracker(n,t);return i?i.tracker.getCount(i.index):0},n.prototype.getSessionCount=function(n,t){var i=this.getIndexedTracker(n,t);return i?i.tracker.getSessionCount(i.index):0},n.prototype.moveSessionCountIntoBaseCount=function(n,t){var i=this.getIndexedTracker(n,t);return i?i.tracker.moveSessionCountIntoBaseCount(i.index):0},n.prototype.getSurveyIds=function(n){if(!e.isNOU(n)){var t=this.trackedActivityMap[n];if(t)return t.map(function(n){return n.surveyId})}},n.prototype.setCallback=function(n){this.callback=n},n.prototype.UpdateActivityTrackingContracts=function(n){var r,i,t;if(e.isNOU(n)||0===Object.keys(n).length)this.clearSurveys();else for(r in this.trackedActivityMap)if(this.trackedActivityMap.hasOwnProperty(r))for(i=this.trackedActivityMap[r],t=i.length-1;t>=0;--t)n.hasOwnProperty(i[t].surveyId)||i.splice(t,1)},n.prototype.getIndexedTracker=function(n,t){var f=this.trackedActivityMap[n],e,i,r,u;if(f){for(i=0,r=f;i<r.length;i++)if(u=r[i],u.surveyId===t){e=u;break}return e}},n.prototype.resetQueuedActivities=function(){r=[]},n.prototype.logActivity_private=function(t,i,f,e,s){var l=this,c,h;(this.callback&&!this.callback.shouldAcceptActivity(t)&&(u++,r.length<n.MaxPendingActivitiesQueueSize&&r.push({activityName:t,logType:i,increment:f,timestamp:e})),t===n.FloodgateStartActivityName)&&(u>0&&(c=r.slice(0,25).map(function(n){return n.activityName}),h=this.loggerCallback&&this.loggerCallback(),h&&h.log_Event(o.TelemetryEvent.SurveyActivity.LogActivity.EventsReprocessed,{ActivityNames:JSON.stringify(c),Count:r.length,Dropped:u-r.length},.05),r.map(function(n){return l.logActivity_core(n.activityName,n.logType,n.increment,n.timestamp,s)})),u=0,this.resetQueuedActivities());this.logActivity_core(t,i,f,e,s)},n.prototype.logActivity_core=function(n,t,i,r,u){var s=this.trackedActivityMap[n],o,h,c,a,f,l;if(s&&0!==s.length){if(o=[],s.length>1){for(o=new Array(s.length),h=0;h<o.length;h++)o[h]=h;o=e.fyShuffle(o)}else o.push(0);for(c=0,a=o;c<a.length;c++){f=s[a[c]];switch(t){case 1:f.tracker.startTime(f.index,r);continue;case 2:i=f.tracker.stopTime(f.index,r);case 0:break;default:continue}if(u&&(l=f.surveyId,this.activityContext[l]=this.activityContext[l]||[],this.activityContext[l].push({activityName:n,context:u})),2===f.tracker.incrementActivity(f.index,i)){this.executeCallback(f.surveyId);break}}}},n.prototype.executeCallback=function(n){this.callback.run(n,this.activityContext[n])},n.prototype.copyObject=function(n,t){Object.keys(t).forEach(function(i){n[i]=t[i]})},n.FloodgateStartActivityName="FloodgateFirstStart",n.MaxPendingActivitiesQueueSize=100,n}();n.exports=l},function(n,t,i){"use strict";var k,d,w,a;Object.defineProperty(t,"__esModule",{value:!0});t.FileBasedCampaignStateProvider=t.HostBasedCampaignStateProvider=t.CampaignStateProviderFactory=t.CampaignState=void 0;var g=i(14),v=i(15),y=i(20),h=i(38),r=i(9),f=g.FileType,c=r.getDistantPast,b=r.isBoolean,e=r.isDate,u=r.isNOU,l=r.isString,o=r.isUtcDatetimeString,s=r.stringToDate,p=function(){function n(n,t,i,r,u,f,e,o,s,h,c,l){if(this.CampaignId=n,this.LastNominationTimeUtc=t,this.LastNominationBuildNumber=i,this.DeleteAfterSecondsWhenStale=r,this.ForceCandidacy=u,this.IsCandidate=f,this.DidCandidateTriggerSurvey=e,this.LastSurveyActivatedTimeUtc=o,this.LastSurveyId=s,this.LastSurveyStartTimeUtc=h,this.LastSurveyExpirationTimeUtc=c,this.LastCooldownEndTimeUtc=l,!this.validate())throw new Error("Constructor arguments are not valid");}return n.deserialize=function(t){var i;if(!t)return null;try{i=new n(t.CampaignId,t.LastNominationTimeUtc,t.LastNominationBuildNumber,t.DeleteAfterSecondsWhenStale,!1,t.IsCandidate,t.DidCandidateTriggerSurvey,t.LastSurveyActivatedTimeUtc,t.LastSurveyId,t.LastSurveyStartTimeUtc,t.LastSurveyExpirationTimeUtc,t.LastCooldownEndTimeUtc)}catch(n){return y.FloodgateEngine.getTelemetryLogger().log_Event(v.TelemetryEvent.CampaignState.Deserialize.Failed,{ErrorMessage:n.toString()}),null}return i},n.prototype.validate=function(){if(!this.CampaignId||!l(this.CampaignId)||u(this.LastNominationBuildNumber)||!l(this.LastNominationBuildNumber)||!r.isNumber(this.DeleteAfterSecondsWhenStale)||this.DeleteAfterSecondsWhenStale<0||!b(this.IsCandidate)||!b(this.DidCandidateTriggerSurvey)||this.IsCandidate&&(u(this.LastSurveyStartTimeUtc)||u(this.LastSurveyExpirationTimeUtc)||!l(this.LastSurveyId))||this.DidCandidateTriggerSurvey&&u(this.LastSurveyActivatedTimeUtc))return!1;if(u(this.LastSurveyId))this.LastSurveyId="";else if(!l(this.LastSurveyId))return!1;if(o(this.LastNominationTimeUtc))this.LastNominationTimeUtc=s(this.LastNominationTimeUtc);else if(!e(this.LastNominationTimeUtc))return!1;if(u(this.LastSurveyActivatedTimeUtc))this.LastSurveyActivatedTimeUtc=c();else if(o(this.LastSurveyActivatedTimeUtc))this.LastSurveyActivatedTimeUtc=s(this.LastSurveyActivatedTimeUtc);else if(!e(this.LastSurveyActivatedTimeUtc))return!1;if(u(this.LastSurveyStartTimeUtc))this.LastSurveyStartTimeUtc=c();else if(o(this.LastSurveyStartTimeUtc))this.LastSurveyStartTimeUtc=s(this.LastSurveyStartTimeUtc);else if(!e(this.LastSurveyStartTimeUtc))return!1;if(u(this.LastSurveyExpirationTimeUtc))this.LastSurveyExpirationTimeUtc=c();else if(o(this.LastSurveyExpirationTimeUtc))this.LastSurveyExpirationTimeUtc=s(this.LastSurveyExpirationTimeUtc);else if(!e(this.LastSurveyExpirationTimeUtc))return!1;if(u(this.LastCooldownEndTimeUtc))this.LastCooldownEndTimeUtc=c();else if(o(this.LastCooldownEndTimeUtc))this.LastCooldownEndTimeUtc=s(this.LastCooldownEndTimeUtc);else if(!e(this.LastCooldownEndTimeUtc))return!1;return!0},n.prototype.markCurrentSurveyTakenOnDate=function(n,t,i){this.DidCandidateTriggerSurvey=i;this.LastSurveyActivatedTimeUtc=null!=n?n:new Date;this.LastCooldownEndTimeUtc=r.addSecondsWithoutOverflow(this.LastSurveyActivatedTimeUtc,t)},n.prototype.getCooldownStartDate=function(){return this.IsCandidate?this.DidCandidateTriggerSurvey?this.LastSurveyActivatedTimeUtc:this.LastSurveyStartTimeUtc:this.LastNominationTimeUtc},n}();t.CampaignState=p;k=function(){function n(){}return n.make=function(n,t){return t?new w(n,t):new a(n)},n}();t.CampaignStateProviderFactory=k;d=function(){};w=function(){function n(n,t){if(!t)throw new Error("host-based storage must not be null");this.hostBasedStorage=t;n&&(this.fileBasedStateProvider=new a(n))}return n.prototype.load=function(){var n,t=this.getStatesFromHost();return this.fileBasedStateProvider&&(n=this.fileBasedStateProvider.load()),h.MergeAndUpdateCampaignStates(n,t).find(0)},n.prototype.save=function(n){var r=this;if(n){var u=this.getStatesFromHost(),t=h.MergeAndUpdateCampaignStates(n,u),i=t.find(1),e=t.find(0);i&&i.forEach(function(n){var t=h.makeSettingItemValue(JSON.stringify(n));r.hostBasedStorage.upsertSettingItem(f[f.CampaignStates],n.CampaignId,t)});this.fileBasedStateProvider&&this.fileBasedStateProvider.save(e)}},n.prototype.getStatesFromHost=function(){var n=[],t=this.hostBasedStorage.readSettingList(f[f.CampaignStates]),i,r;for(i in t)if(t.hasOwnProperty(i)){var o=t[i],u=h.extractSettingItemValueSubString(o),e={};try{e=JSON.parse(u);r=p.deserialize(e);r&&n.push(r)}catch(n){y.FloodgateEngine.getTelemetryLogger().log_Event(v.TelemetryEvent.HostBasedCampaignStateProvider.GetStatesFromHost.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+n.toString()+".  Input:"+u})}}return n},n}();t.HostBasedCampaignStateProvider=w;a=function(){function n(n){if(!n)throw new Error("storage must not be null");this.storage=n}return n.prototype.load=function(){var n,t=this.storage.read(f.CampaignStates),i;if(!t)return[];try{return n=JSON.parse(t),i=[],n&&n.CampaignStates&&n.CampaignStates.forEach(function(n){var t=p.deserialize(n);t&&i.push(t)}),i}catch(n){return y.FloodgateEngine.getTelemetryLogger().log_Event(v.TelemetryEvent.FileBasedCampaignStateProvider.Load.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+n.toString()+".  Input:"+t}),[]}},n.prototype.save=function(n){var t,i;n&&(t=new d,t.CampaignStates=n,i=JSON.stringify(t),this.storage.write(f.CampaignStates,i))},n}();t.FileBasedCampaignStateProvider=a},function(n,t,i){"use strict";var l,p=this&&this.__extends||(l=function(n,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])})(n,t)},function(n,t){function i(){this.constructor=n}l(n,t);n.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),y,v,h,c;Object.defineProperty(t,"__esModule",{value:!0});t.SurveyActivationStats=t.FileBasedSurveyActivationStatsProvider=t.HostBasedSurveyActivationStatsProvider=t.SurveyActivationStatsProviderFactory=t.SurveyStatCollectionActivation=void 0;var a=i(14),u=a.FileType,w=i(18),e=i(15),o=i(20),s=i(38),b=i(45),r=i(9),f=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return p(t,n),t.fromJson=function(n){var r,i=new t;if(!n)return o.FloodgateEngine.getTelemetryLogger().log_Event(e.TelemetryEvent.SurveyStatCollectionActivation.FromJson.Failed,{ErrorMessage:"Input json is null or empty."}),i;try{r=JSON.parse(n)}catch(n){return o.FloodgateEngine.getTelemetryLogger().log_Event(e.TelemetryEvent.SurveyStatCollectionActivation.FromJson.Failed,{ErrorMessage:"Json parsing failed. "+n.toString()}),i}return i.deserialize(r)?i:new t},t.toJson=function(n){return n||(o.FloodgateEngine.getTelemetryLogger().log_Event(e.TelemetryEvent.SurveyStatCollectionActivation.ToJson.Failed,{ErrorMessage:"Input json is null or empty."}),n=new t),JSON.stringify(n)},t.prototype.accumulate=function(n){var t,i;if(n){t=n.getStats();for(i in t)t.hasOwnProperty(i)&&this.addStats(i,t[i])}},t.prototype.deserialize=function(n){var r=n.Surveys,u=new Date,t,i;for(t in r)r.hasOwnProperty(t)&&(i=new c,i.deserialize(r[t])&&i.ExpirationTimeUtc>u&&this.addStats(t,i));return this.validate()},t.prototype.validate=function(){return r.isObject(this.getStats())},t}(b.SurveyStatCollection);t.SurveyStatCollectionActivation=f;y=function(){function n(){}return n.make=function(n,t){return t?new v(n,t):new h(n)},n}();t.SurveyActivationStatsProviderFactory=y;v=function(){function n(n,t){if(!t)throw new Error("host-based storage must not be null");this.hostBasedStorage=t;n&&(this.fileBasedStorageProvider=new h(n))}return n.prototype.load=function(){var t=this.getSurveyStatsFromHost(),n=new f;return this.fileBasedStorageProvider&&(n=this.fileBasedStorageProvider.load()),s.MergeAndUpdateSurveyActivationStats(n,t).find(0)},n.prototype.save=function(n){var t,i,e;if(n){var o=this.getSurveyStatsFromHost(),r=s.MergeAndUpdateSurveyActivationStats(n,o),f=r.find(1),h=r.find(0);if(f){t=f.getStats();for(i in t)t.hasOwnProperty(i)&&(e=s.makeSettingItemValue(JSON.stringify(t[i])),this.hostBasedStorage.upsertSettingItem(u[u.SurveyActivationStats],i,e))}this.fileBasedStorageProvider&&this.fileBasedStorageProvider.save(h)}},n.prototype.getSurveyStatsFromHost=function(){var i=new f,r=this.hostBasedStorage.readSettingList(u[u.SurveyActivationStats]),a=new Date,n,h,t,l;for(n in r)if(r.hasOwnProperty(n)){h=s.extractSettingItemValueSubString(r[n]);t=new c;try{l=JSON.parse(h);t.deserialize(l)}catch(i){o.FloodgateEngine.getTelemetryLogger().log_Event(e.TelemetryEvent.HostBasedSurveyActivationStatsProvider.GetSurveyStatsFromHost.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+i.toString()+".  Input:"+h})}t.ExpirationTimeUtc<=a?this.hostBasedStorage.deleteSettingItem(u[u.SurveyActivationStats],n):i.addStats(n,t)}return i},n}();t.HostBasedSurveyActivationStatsProvider=v;h=function(){function n(n){if(!n)throw new Error("storage must not be null");this.storage=n}return n.prototype.load=function(){var n=this.storage.read(a.FileType.SurveyActivationStats);return n?f.fromJson(n):new f},n.prototype.save=function(n){if(n){var t=f.toJson(n);this.storage.write(a.FileType.SurveyActivationStats,t)}},n}();t.FileBasedSurveyActivationStatsProvider=h;c=function(){function n(){this.SurveyLaunchCount=0;this.SurveyLaunchCountPerSession=0}return n.prototype.deserialize=function(n){var t,i;return this.ActivationTimeUtc=n.ActivationTimeUtc,this.ExpirationTimeUtc=n.ExpirationTimeUtc,this.Type=n.Type,this.SurveyLaunchCount=null!==(t=n.SurveyLaunchCount)&&void 0!==t?t:0,this.SurveyLaunchCountPerSession=null!==(i=n.SurveyLaunchCountPerSession)&&void 0!==i?i:0,this.validate()},n.prototype.validate=function(){return!!r.isUtcDatetimeString(this.ActivationTimeUtc)&&(this.ActivationTimeUtc=r.stringToDate(this.ActivationTimeUtc),!!r.isUtcDatetimeString(this.ExpirationTimeUtc)&&(this.ExpirationTimeUtc=r.stringToDate(this.ExpirationTimeUtc),!(!r.isNumber(this.SurveyLaunchCount)||!r.isNumber(this.SurveyLaunchCountPerSession))&&r.isEnumValue(this.Type,w.Type)))},n}();t.SurveyActivationStats=c},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SurveyStatCollection=void 0;var i=function(){function n(){this.Surveys={};this.Surveys={}}return n.prototype.addStats=function(n,t){this.Surveys[n]=t},n.prototype.getBySurveyId=function(n){return this.Surveys[n]},n.prototype.getStats=function(){return this.Surveys},n}();t.SurveyStatCollection=i},function(n,t,i){"use strict";var r=i(19),u=function(){function n(n){if(!n)throw new Error("data must not be null");if(!n.customerVoiceFormId)throw new Error("data.formID must not be null or empty");this.data=n}return n.make=function(t){try{return new n(t)}catch(n){return null}},n.prototype.getType=function(){return"CVSurvey"},n.prototype.getFormId=function(){return this.data.customerVoiceFormId},n.prototype.getDomElements=function(n){if(!n)throw new Error("Document must not be null");return[n.createElement(r.DOM_CVSURVEY_TAGNAME)]},n.prototype.getJsonElements=function(){var n={};return n[r.JSON_CVSURVEY_KEYNAME]=this.getFormId(),n},n.prototype.getComponentJson=function(){var n;return(n={})[r.JSON_CVSURVEYFORMID_KEYNAME]=this.getFormId(),n},n}();!function(n){var t=function(){};n.CVSurveyComponentData=t}(u||(u={}));n.exports=u},function(n,t,i){"use strict";var l,a,c,e;Object.defineProperty(t,"__esModule",{value:!0});t.FileBasedGovernedChannelStateProvider=t.HostBasedGovernedChannelStateProvider=t.GovernedChannelStateProviderFactory=t.GovernedChannelState=void 0;var v=i(14),o=i(15),s=i(20),y=i(17),f=i(38),r=i(9),u=v.FileType,h=function(){function n(n,t){if(this.ChannelType=n,this.CooldownStartTimeUtc=t,!this.validate())throw new Error("Constructor arguments are not valid");}return n.deserialize=function(t){var i;if(!t)return null;try{i=new n(t.ChannelType,t.CooldownStartTimeUtc)}catch(n){return s.FloodgateEngine.getTelemetryLogger().log_Event(o.TelemetryEvent.GovernedChannelState.Deserialize.Failed,{ErrorMessage:n.toString()}),null}return i},n.prototype.validate=function(){return!!r.isEnumValue(this.ChannelType,y.GovernedChannelType)&&(r.isUtcDatetimeString(this.CooldownStartTimeUtc)?this.CooldownStartTimeUtc=r.stringToDate(this.CooldownStartTimeUtc):!r.isNOU(this.CooldownStartTimeUtc)&&r.isDate(this.CooldownStartTimeUtc)||(this.CooldownStartTimeUtc=r.getDistantPast()),!0)},n.prototype.getType=function(){return this.ChannelType},n.prototype.getCooldownStartTime=function(){return this.CooldownStartTimeUtc},n}();t.GovernedChannelState=h;l=function(){function n(){}return n.make=function(n,t){return t?new c(n,t):new e(n)},n}();t.GovernedChannelStateProviderFactory=l;a=function(){};c=function(){function n(n,t){if(!t)throw new Error("host-based storage must not be null");this.hostBasedStorage=t;n&&(this.fileBasedStateProvider=new e(n))}return n.prototype.load=function(){var n,t=this.getStatesFromHost();return this.fileBasedStateProvider&&(n=this.fileBasedStateProvider.load()),f.MergeAndUpdateGovernedChannelStates(n,t).find(0)},n.prototype.save=function(n){var r=this;if(n){var e=this.getStatesFromHost(),t=f.MergeAndUpdateGovernedChannelStates(n,e),i=t.find(1),o=t.find(0);i&&i.forEach(function(n){var t=f.makeSettingItemValue(JSON.stringify(n));r.hostBasedStorage.upsertSettingItem(u[u.GovernedChannelStates],String(n.getType()),t)});this.fileBasedStateProvider&&this.fileBasedStateProvider.save(o)}},n.prototype.getStatesFromHost=function(){var n=[],t=this.hostBasedStorage.readSettingList(u[u.GovernedChannelStates]),i,r;for(i in t)if(t.hasOwnProperty(i)){var l=t[i],e=f.extractSettingItemValueSubString(l),c={};try{c=JSON.parse(e);r=h.deserialize(c);r&&n.push(r)}catch(n){s.FloodgateEngine.getTelemetryLogger().log_Event(o.TelemetryEvent.HostBasedGovernedChannelStateProvider.GetStatesFromHost.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+n.toString()+".  Input:"+e})}}return n},n}();t.HostBasedGovernedChannelStateProvider=c;e=function(){function n(n){if(!n)throw new Error("storage must not be null");this.storage=n}return n.prototype.load=function(){var n,t=this.storage.read(u.GovernedChannelStates),i;if(!t)return[];try{return n=JSON.parse(t),i=[],n&&n.ChannelStates&&n.ChannelStates.forEach(function(n){var t=h.deserialize(n);t&&i.push(t)}),i}catch(n){return s.FloodgateEngine.getTelemetryLogger().log_Event(o.TelemetryEvent.FileBasedGovernedChannelStateProvider.Load.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+n.toString()+".  Input:"+t}),[]}},n.prototype.save=function(n){var t,i;n&&(t=new a,t.ChannelStates=n,i=JSON.stringify(t),this.storage.write(u.GovernedChannelStates,i))},n}();t.FileBasedGovernedChannelStateProvider=e},function(n,t,i){"use strict";var f,s=this&&this.__extends||(f=function(n,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])})(n,t)},function(n,t){function i(){this.constructor=n}f(n,t);n.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u;Object.defineProperty(t,"__esModule",{value:!0});t.SurveyEventActivityStats=t.SurveyStatCollectionEventActivity=void 0;var e=i(15),o=i(20),h=i(45),r=i(9),c=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return s(t,n),t.fromJson=function(n){var r,i=new t;if(!n)return i;try{r=JSON.parse(n)}catch(n){return o.FloodgateEngine.getTelemetryLogger().log_Event(e.TelemetryEvent.SurveyStatCollectionEventActivity.FromJson.Failed,{ErrorMessage:"Json parsing failed. "+n.toString()}),i}return i.deserialize(r)?i:new t},t.toJson=function(n){return n||(o.FloodgateEngine.getTelemetryLogger().log_Event(e.TelemetryEvent.SurveyStatCollectionEventActivity.ToJson.Failed,{ErrorMessage:"Input json is null or empty."}),n=new t),JSON.stringify(n)},t.prototype.accumulate=function(n){var r,i,t,e,f;if(n){r=n.getStats();for(i in r)if(r.hasOwnProperty(i))for(t=this.getBySurveyId(i),(t||((t=new u).Counts=[],this.addStats(i,t)),t.ExpirationTimeUtc=r[i].ExpirationTimeUtc,t.Counts.length<r[i].Counts.length)&&(e=t.Counts.slice(),t.Counts=e),f=0;f<r[i].Counts.length;f++)t.Counts[f]||(t.Counts[f]=0),t.Counts[f]+=r[i].Counts[f]}},t.prototype.deserialize=function(n){var r=n.Surveys,f=new Date,t,i;for(t in r)r.hasOwnProperty(t)&&(i=new u,i.deserialize(r[t])&&i.ExpirationTimeUtc>f&&this.addStats(t,i));return this.validate()},t.prototype.validate=function(){return r.isObject(this.getStats())},t}(h.SurveyStatCollection);t.SurveyStatCollectionEventActivity=c;u=function(){function n(){}return n.prototype.deserialize=function(n){return this.ExpirationTimeUtc=n.ExpirationTimeUtc,this.Counts=n.Counts,this.validate()},n.prototype.validate=function(){var n,t;if(!this.Counts)return!1;for(n=0;n<this.Counts.length;n++){if(t=this.Counts[n],!r.isNumber(t))return!1;t<0&&(this.Counts[n]=0)}return!!r.isUtcDatetimeString(this.ExpirationTimeUtc)&&(this.ExpirationTimeUtc=r.stringToDate(this.ExpirationTimeUtc),!0)},n}();t.SurveyEventActivityStats=u},function(){},function(n){n.exports=function(){"use strict";function g(n,t){function i(){this.constructor=n}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");le(n,t);n.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function y(n,t,i,r){return new(i||(i=Promise))(function(u,f){function o(n){try{e(r.next(n))}catch(n){f(n)}}function s(n){try{e(r.throw(n))}catch(n){f(n)}}function e(n){var t;n.done?u(n.value):(t=n.value,t instanceof i?t:new i(function(n){n(t)})).then(o,s)}e((r=r.apply(n,t||[])).next())})}function v(n,t){function o(e){return function(o){return function(e){if(f)throw new TypeError("Generator is already executing.");for(;r;)try{if(f=1,u&&(i=2&e[0]?u.return:e[0]?u.throw||((i=u.return)&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;switch(u=0,i&&(e=[2&e[0],i.value]),e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!((i=(i=r.trys).length>0&&i[i.length-1])||6!==e[0]&&2!==e[0])){r=0;continue}if(3===e[0]&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(6===e[0]&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(n){e=[6,n];u=0}finally{f=i=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,o])}}var f,u,i,e,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:o(0),"throw":o(1),"return":o(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e}function nr(n,t,i){if(i||2===arguments.length)for(var u,r=0,f=t.length;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||t)}function lf(n,t,i){return i<0&&(i+=1),i>=1&&(i-=1),i<1/6?(t-n)*i*6+n:i<.5?t:i<2/3?6*(t-n)*(2/3-i)+n:n}for(var gi,re,kh,dh,le=function(n,t){return(le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])})(n,t)},ae=function(){return(ae=Object.assign||function(n){for(var r,i,t=1,u=arguments.length;t<u;t++)for(i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n}).apply(this,arguments)},rt=function(){function n(n,t,i,r){this.left=n;this.top=t;this.width=i;this.height=r}return n.prototype.add=function(t,i,r,u){return new n(this.left+t,this.top+i,this.width+r,this.height+u)},n.fromClientRect=function(t,i){return new n(i.left+t.windowBounds.left,i.top+t.windowBounds.top,i.width,i.height)},n.fromDOMRectList=function(t,i){var r=Array.from(i).find(function(n){return 0!==n.width});return r?new n(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n}(),tr=function(n,t){return rt.fromClientRect(n,t.getBoundingClientRect())},ir=function(n){for(var t,u,r=[],i=0,f=n.length;i<f;)t=n.charCodeAt(i++),t>=55296&&t<=56319&&i<f?(u=n.charCodeAt(i++),56320==(64512&u)?r.push(((1023&t)<<10)+(1023&u)+65536):(r.push(t),i--)):r.push(t);return r},e=function(){for(var u,n,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);if(u=t.length,!u)return"";for(var r=[],f=-1,e="";++f<u;)n=t[f],n<=65535?r.push(n):(n-=65536,r.push(55296+(n>>10),n%1024+56320)),(f+1===u||r.length>16384)&&(e+=String.fromCharCode.apply(String,r),r.length=0);return e},ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gh="undefined"==typeof Uint8Array?[]:new Uint8Array(256),rr=0;rr<ve.length;rr++)gh[ve.charCodeAt(rr)]=rr;for(var ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ei="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ur=0;ur<ye.length;ur++)ei[ye.charCodeAt(ur)]=ur;for(var pe=function(n,t,i){return n.slice?n.slice(t,i):new Uint16Array(Array.prototype.slice.call(n,t,i))},nc=function(){function n(n,t,i,r,u,f){this.initialValue=n;this.errorValue=t;this.highStart=i;this.highValueIndex=r;this.index=u;this.data=f}return n.prototype.get=function(n){var t;if(n>=0){if(n<55296||n>56319&&n<=65535)return t=((t=this.index[n>>5])<<2)+(31&n),this.data[t];if(n<=65535)return t=((t=this.index[2048+(n-55296>>5)])<<2)+(31&n),this.data[t];if(n<this.highStart)return t=2080+(n>>11),t=this.index[t],t+=n>>5&63,t=((t=this.index[t])<<2)+(31&n),this.data[t];if(n<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n}(),we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tc="undefined"==typeof Uint8Array?[]:new Uint8Array(256),fr=0;fr<we.length;fr++)tc[we.charCodeAt(fr)]=fr;var ot=10,du=13,oi=15,er=17,si=18,ic=19,be=20,gu=21,hi=22,pt=24,w=25,ci=26,li=27,wt=28,bt=30,or=32,sr=33,nf=34,tf=35,ai=37,rf=38,hr=39,cr=40,ke=42,rc=[9001,65288],uf=function(n){var r,u,f,i=function(n){var t,s,f,e,h,r=.75*n.length,c=n.length,o=0,i,u;for("="===n[n.length-1]&&(r--,"="===n[n.length-2]&&r--),i="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(r):new Array(r),u=Array.isArray(i)?i:new Uint8Array(i),t=0;t<c;t+=4)s=ei[n.charCodeAt(t)],f=ei[n.charCodeAt(t+1)],e=ei[n.charCodeAt(t+2)],h=ei[n.charCodeAt(t+3)],u[o++]=s<<2|f>>4,u[o++]=(15&f)<<4|e>>2,u[o++]=(3&e)<<6|63&h;return i}(n),t=Array.isArray(i)?function(n){for(var r=n.length,i=[],t=0;t<r;t+=4)i.push(n[t+3]<<24|n[t+2]<<16|n[t+1]<<8|n[t]);return i}(i):new Uint32Array(i),e=Array.isArray(i)?function(n){for(var r=n.length,i=[],t=0;t<r;t+=2)i.push(n[t+1]<<8|n[t]);return i}(i):new Uint16Array(i),o=pe(e,12,t[4]/2),s=2===t[5]?pe(e,(24+t[4])/2):(r=t,u=Math.ceil((24+t[4])/4),r.slice?r.slice(u,f):new Uint32Array(Array.prototype.slice.call(r,u,f)));return new nc(t[0],t[1],t[2],t[3],o,s)}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),ut=[bt,36],ff=[1,2,3,5],de=[ot,8],ge=[li,ci],uc=ff.concat(de),no=[rf,hr,cr,nf,tf],fc=[oi,du],ef=function(n,t,i,r){var o=r[i],u,f,s,e;if(Array.isArray(n)?-1!==n.indexOf(o):n===o)for(u=i;u<=r.length;){if((e=r[++u])===t)return!0;if(e!==ot)break}if(o===ot)for(u=i;u>0;){if(f=r[--u],Array.isArray(n)?-1!==n.indexOf(f):n===f)for(s=i;s<=r.length;){if((e=r[++s])===t)return!0;if(e!==ot)break}if(f!==ot)break}return!1},to=function(n,t){for(var r,i=n;i>=0;){if(r=t[i],r!==ot)return r;i--}return 0},ec=function(n,t,i,r,u){var o,s,c,a,v;if(0===i[r]||(o=r-1,Array.isArray(u)&&!0===u[o]))return"";var l=o-1,h=o+1,f=t[o],y=l>=0?t[l]:0,e=t[h];if(2===f&&3===e)return"";if(-1!==ff.indexOf(f))return"!";if(-1!==ff.indexOf(e)||-1!==de.indexOf(e))return"";if(8===to(o,t))return"";if(11===uf.get(n[o])||(f===or||f===sr)&&11===uf.get(n[h])||7===f||7===e||9===f||-1===[ot,du,oi].indexOf(f)&&9===e||-1!==[er,si,ic,pt,wt].indexOf(e)||to(o,t)===hi||ef(23,hi,o,t)||ef([er,si],gu,o,t)||ef(12,12,o,t))return"";if(f===ot)return"";if(23===f||23===e)return"";if(16===e||16===f)return"";if(-1!==[du,oi,gu].indexOf(e)||14===f||36===y&&-1!==fc.indexOf(f)||f===wt&&36===e||e===be||-1!==ut.indexOf(e)&&f===w||-1!==ut.indexOf(f)&&e===w||f===li&&-1!==[ai,or,sr].indexOf(e)||-1!==[ai,or,sr].indexOf(f)&&e===ci||-1!==ut.indexOf(f)&&-1!==ge.indexOf(e)||-1!==ge.indexOf(f)&&-1!==ut.indexOf(e)||-1!==[li,ci].indexOf(f)&&(e===w||-1!==[hi,oi].indexOf(e)&&t[h+1]===w)||-1!==[hi,oi].indexOf(f)&&e===w||f===w&&-1!==[w,wt,pt].indexOf(e))return"";if(-1!==[w,wt,pt,er,si].indexOf(e))for(s=o;s>=0;){if((c=t[s])===w)return"";if(-1===[wt,pt].indexOf(c))break;s--}if(-1!==[li,ci].indexOf(e))for(s=-1!==[er,si].indexOf(f)?l:o;s>=0;){if((c=t[s])===w)return"";if(-1===[wt,pt].indexOf(c))break;s--}if(rf===f&&-1!==[rf,hr,nf,tf].indexOf(e)||-1!==[hr,nf].indexOf(f)&&-1!==[hr,cr].indexOf(e)||-1!==[cr,tf].indexOf(f)&&e===cr||-1!==no.indexOf(f)&&-1!==[be,ci].indexOf(e)||-1!==no.indexOf(e)&&f===li||-1!==ut.indexOf(f)&&-1!==ut.indexOf(e)||f===pt&&-1!==ut.indexOf(e)||-1!==ut.concat(w).indexOf(f)&&e===hi&&-1===rc.indexOf(n[h])||-1!==ut.concat(w).indexOf(e)&&f===si)return"";if(41===f&&41===e){for(a=i[o],v=1;a>0&&41===t[--a];)v++;if(v%2!=0)return""}return f===or&&e===sr?"":""},oc=function(n,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var i=function(n,t){void 0===t&&(t="strict");var i=[],r=[],u=[];return n.forEach(function(n,f){var e=uf.get(n),o;return(e>50?(u.push(!0),e-=50):u.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(n))?(r.push(f),i.push(16)):4===e||11===e?0===f?(r.push(f),i.push(bt)):(o=i[f-1],-1===uc.indexOf(o)?(r.push(r[f-1]),i.push(o)):(r.push(f),i.push(bt))):(r.push(f),31===e?i.push("strict"===t?gu:ai):e===ke||29===e?i.push(bt):43===e?n>=131072&&n<=196605||n>=196608&&n<=262141?i.push(ai):i.push(bt):void i.push(e))}),[r,i,u]}(n,t.lineBreak),u=i[0],r=i[1],f=i[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(r=r.map(function(n){return-1!==[w,bt,ke].indexOf(n)?ai:n})),[u,r,"keep-all"===t.wordBreak?f.map(function(t,i){return t&&n[i]>=19968&&n[i]<=40959}):void 0]},sc=function(){function n(n,t,i,r){this.codePoints=n;this.required="!"===t;this.start=i;this.end=r}return n.prototype.slice=function(){return e.apply(void 0,this.codePoints.slice(this.start,this.end))},n}(),p=function(n){return n>=48&&n<=57},kt=function(n){return p(n)||n>=65&&n<=70||n>=97&&n<=102},lr=function(n){return 10===n||9===n||32===n},ar=function(n){return function(n){return function(n){return n>=97&&n<=122}(n)||function(n){return n>=65&&n<=90}(n)}(n)||function(n){return n>=128}(n)||95===n},io=function(n){return ar(n)||p(n)||45===n},hc=function(n){return n>=0&&n<=8||11===n||n>=14&&n<=31||127===n},st=function(n,t){return 92===n&&10!==t},vr=function(n,t,i){return 45===n?ar(t)||st(t,i):!!ar(n)||!(92!==n||!st(n,t))},of=function(n,t,i){return 43===n||45===n?!!p(t)||46===t&&p(i):p(46===n?t:n)},cc=function(n){var t=0,s=1,i,h,r,f,c,o,u,l;for(43!==n[t]&&45!==n[t]||(45===n[t]&&(s=-1),t++),i=[];p(n[t]);)i.push(n[t++]);for(h=i.length?parseInt(e.apply(void 0,i),10):0,46===n[t]&&t++,r=[];p(n[t]);)r.push(n[t++]);for(f=r.length,c=f?parseInt(e.apply(void 0,r),10):0,69!==n[t]&&101!==n[t]||t++,o=1,43!==n[t]&&45!==n[t]||(45===n[t]&&(o=-1),t++),u=[];p(n[t]);)u.push(n[t++]);return l=u.length?parseInt(e.apply(void 0,u),10):0,s*(h+c*Math.pow(10,-f))*Math.pow(10,o*l)},lc={type:2},ac={type:3},vc={type:4},yc={type:13},pc={type:8},wc={type:21},bc={type:9},kc={type:10},dc={type:11},gc={type:12},nl={type:14},yr={type:23},tl={type:1},il={type:25},rl={type:24},ul={type:26},fl={type:27},el={type:28},ol={type:29},sl={type:31},sf={type:32},ro=function(){function n(){this._value=[]}return n.prototype.write=function(n){this._value=this._value.concat(ir(n))},n.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==sf;)t.push(n),n=this.consumeToken();return t},n.prototype.consumeToken=function(){var n=this.consumeCodePoint(),h,t,l,u;switch(n){case 34:return this.consumeStringToken(34);case 35:var f=this.peekCodePoint(0),o=this.peekCodePoint(1),s=this.peekCodePoint(2);if(io(f)||st(o,s))return h=vr(f,o,s)?2:1,{type:5,value:this.consumeName(),flags:h};break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),yc;break;case 39:return this.consumeStringToken(39);case 40:return lc;case 41:return ac;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),nl;break;case 43:if(of(n,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(n),this.consumeNumericToken();break;case 44:return vc;case 45:var c=n,i=this.peekCodePoint(0),r=this.peekCodePoint(1);if(of(c,i,r))return this.reconsumeCodePoint(n),this.consumeNumericToken();if(vr(c,i,r))return this.reconsumeCodePoint(n),this.consumeIdentLikeToken();if(45===i&&62===r)return this.consumeCodePoint(),this.consumeCodePoint(),rl;break;case 46:if(of(n,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(n),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;)if((t=this.consumeCodePoint(),42===t&&47===(t=this.consumeCodePoint()))||-1===t)return this.consumeToken();break;case 58:return ul;case 59:return fl;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),il;break;case 64:var a=this.peekCodePoint(0),v=this.peekCodePoint(1),y=this.peekCodePoint(2);if(vr(a,v,y))return{type:7,value:this.consumeName()};break;case 91:return el;case 92:if(st(n,this.peekCodePoint(0)))return this.reconsumeCodePoint(n),this.consumeIdentLikeToken();break;case 93:return ol;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),pc;break;case 123:return dc;case 125:return gc;case 117:case 85:return l=this.peekCodePoint(0),u=this.peekCodePoint(1),43!==l||!kt(u)&&63!==u||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(n),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),bc;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),wc;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),kc;break;case-1:return sf}return lr(n)?(this.consumeWhiteSpace(),sl):p(n)?(this.reconsumeCodePoint(n),this.consumeNumericToken()):ar(n)?(this.reconsumeCodePoint(n),this.consumeIdentLikeToken()):{type:6,value:e(n)}},n.prototype.consumeCodePoint=function(){var n=this._value.shift();return void 0===n?-1:n},n.prototype.reconsumeCodePoint=function(n){this._value.unshift(n)},n.prototype.peekCodePoint=function(n){return n>=this._value.length?-1:this._value[n]},n.prototype.consumeUnicodeRangeToken=function(){for(var u,i,r,t=[],n=this.consumeCodePoint();kt(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(u=!1;63===n&&t.length<6;)t.push(n),n=this.consumeCodePoint(),u=!0;if(u)return{type:30,start:parseInt(e.apply(void 0,t.map(function(n){return 63===n?48:n})),16),end:parseInt(e.apply(void 0,t.map(function(n){return 63===n?70:n})),16)};if(i=parseInt(e.apply(void 0,t),16),45===this.peekCodePoint(0)&&kt(this.peekCodePoint(1))){for(this.consumeCodePoint(),n=this.consumeCodePoint(),r=[];kt(n)&&r.length<6;)r.push(n),n=this.consumeCodePoint();return{type:30,start:i,end:parseInt(e.apply(void 0,r),16)}}return{type:30,start:i,end:i}},n.prototype.consumeIdentLikeToken=function(){var n=this.consumeName();return"url"===n.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:n}):{type:20,value:n}},n.prototype.consumeUrlToken=function(){var t=[],i,r,n;if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};if(i=this.peekCodePoint(0),39===i||34===i)return r=this.consumeStringToken(this.consumeCodePoint()),0===r.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),yr);for(;;){if(n=this.consumeCodePoint(),-1===n||41===n)return{type:22,value:e.apply(void 0,t)};if(lr(n))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:e.apply(void 0,t)}):(this.consumeBadUrlRemnants(),yr);if(34===n||39===n||40===n||hc(n))return this.consumeBadUrlRemnants(),yr;if(92===n){if(!st(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yr;t.push(this.consumeEscapedCodePoint())}else t.push(n)}},n.prototype.consumeWhiteSpace=function(){for(;lr(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var n=this.consumeCodePoint();if(41===n||-1===n)return;st(n,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(n){for(var i,t="";n>0;)i=Math.min(5e4,n),t+=e.apply(void 0,this._value.splice(0,i)),n-=i;return this._value.shift(),t},n.prototype.consumeStringToken=function(n){for(var i,u,r="",t=0;;){if(i=this._value[t],-1===i||void 0===i||i===n)return{type:0,value:r+=this.consumeStringSlice(t)};if(10===i)return this._value.splice(0,t),tl;92===i&&(u=this._value[t+1],-1!==u&&void 0!==u&&(10===u?(r+=this.consumeStringSlice(t),t=-1,this._value.shift()):st(i,u)&&(r+=this.consumeStringSlice(t),r+=e(this.consumeEscapedCodePoint()),t=-1)));t++}},n.prototype.consumeNumber=function(){var n=[],r=4,t=this.peekCodePoint(0),i,u;for(43!==t&&45!==t||n.push(this.consumeCodePoint());p(this.peekCodePoint(0));)n.push(this.consumeCodePoint());if(t=this.peekCodePoint(0),i=this.peekCodePoint(1),46===t&&p(i))for(n.push(this.consumeCodePoint(),this.consumeCodePoint()),r=8;p(this.peekCodePoint(0));)n.push(this.consumeCodePoint());if(t=this.peekCodePoint(0),i=this.peekCodePoint(1),u=this.peekCodePoint(2),(69===t||101===t)&&((43===i||45===i)&&p(u)||p(i)))for(n.push(this.consumeCodePoint(),this.consumeCodePoint()),r=8;p(this.peekCodePoint(0));)n.push(this.consumeCodePoint());return[cc(n),r]},n.prototype.consumeNumericToken=function(){var i=this.consumeNumber(),n=i[0],t=i[1],r=this.peekCodePoint(0),u=this.peekCodePoint(1),f=this.peekCodePoint(2);return vr(r,u,f)?{type:15,number:n,flags:t,unit:this.consumeName()}:37===r?(this.consumeCodePoint(),{type:16,number:n,flags:t}):{type:17,number:n,flags:t}},n.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint(),i,n;if(kt(t)){for(i=e(t);kt(this.peekCodePoint(0))&&i.length<6;)i+=e(this.consumeCodePoint());return lr(this.peekCodePoint(0))&&this.consumeCodePoint(),n=parseInt(i,16),0===n||function(n){return n>=55296&&n<=57343}(n)||n>1114111?65533:n}return-1===t?65533:t},n.prototype.consumeName=function(){for(var n,t="";;)if(n=this.consumeCodePoint(),io(n))t+=e(n);else{if(!st(n,this.peekCodePoint(0)))return this.reconsumeCodePoint(n),t;t+=e(this.consumeEscapedCodePoint())}},n}(),uo=function(){function n(n){this._tokens=n}return n.create=function(t){var i=new ro;return i.write(t),new n(i.read())},n.parseValue=function(t){return n.create(t).parseComponentValue()},n.parseValues=function(t){return n.create(t).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var t,n=this.consumeToken();31===n.type;)n=this.consumeToken();if(32===n.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(n);t=this.consumeComponentValue();do n=this.consumeToken();while(31===n.type);if(32===n.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one");},n.prototype.parseComponentValues=function(){for(var t,n=[];;){if(t=this.consumeComponentValue(),32===t.type)return n;n.push(t);n.push()}},n.prototype.consumeComponentValue=function(){var n=this.consumeToken();switch(n.type){case 11:case 28:case 2:return this.consumeSimpleBlock(n.type);case 19:return this.consumeFunction(n)}return n},n.prototype.consumeSimpleBlock=function(n){for(var i={type:n,values:[]},t=this.consumeToken();;){if(32===t.type||cl(t,n))return i;this.reconsumeToken(t);i.values.push(this.consumeComponentValue());t=this.consumeToken()}},n.prototype.consumeFunction=function(n){for(var t,i={name:n.value,values:[],type:18};;){if(t=this.consumeToken(),32===t.type||3===t.type)return i;this.reconsumeToken(t);i.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var n=this._tokens.shift();return void 0===n?sf:n},n.prototype.reconsumeToken=function(n){this._tokens.unshift(n)},n}(),vi=function(n){return 15===n.type},dt=function(n){return 17===n.type},r=function(n){return 20===n.type},hl=function(n){return 0===n.type},hf=function(n,t){return r(n)&&n.value===t},fo=function(n){return 31!==n.type},gt=function(n){return 31!==n.type&&4!==n.type},tt=function(n){var i=[],t=[];return n.forEach(function(n){if(4===n.type){if(0===t.length)throw new Error("Error parsing function args, zero tokens for arg");return i.push(t),void(t=[])}31!==n.type&&t.push(n)}),t.length&&i.push(t),i},cl=function(n,t){return 11===t&&12===n.type||28===t&&29===n.type||2===t&&3===n.type},ht=function(n){return 17===n.type||15===n.type},s=function(n){return 16===n.type||ht(n)},eo=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},l={type:17,number:0,flags:4},cf={type:16,number:50,flags:4},ct={type:16,number:100,flags:4},yi=function(n,t,i){var r=n[0],f=n[1];return[u(r,t),u(void 0!==f?f:r,i)]},u=function(n,t){if(16===n.type)return n.number/100*t;if(vi(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},pr=function(n,t){if(15===t.type)switch(t.unit){case"deg":return Math.PI*t.number/180;case"grad":return Math.PI/200*t.number;case"rad":return t.number;case"turn":return 2*Math.PI*t.number}throw new Error("Unsupported angle type");},oo=function(n){return 15===n.type&&("deg"===n.unit||"grad"===n.unit||"rad"===n.unit||"turn"===n.unit)},so=function(n){switch(n.filter(r).map(function(n){return n.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[l,l];case"to top":case"bottom":return b(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[l,ct];case"to right":case"left":return b(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ct,ct];case"to bottom":case"top":return b(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ct,l];case"to left":case"right":return b(270)}return 0},b=function(n){return Math.PI*n/180},lt=function(n,t){var e,f,o;if(18===t.type){if(e=ll[t.name],void 0===e)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(n,t.values)}if(5===t.type){if(3===t.value.length){var i=t.value.substring(0,1),r=t.value.substring(1,2),u=t.value.substring(2,3);return vt(parseInt(i+i,16),parseInt(r+r,16),parseInt(u+u,16),1)}if(4===t.value.length)return i=t.value.substring(0,1),r=t.value.substring(1,2),u=t.value.substring(2,3),f=t.value.substring(3,4),vt(parseInt(i+i,16),parseInt(r+r,16),parseInt(u+u,16),parseInt(f+f,16)/255);if(6===t.value.length)return i=t.value.substring(0,2),r=t.value.substring(2,4),u=t.value.substring(4,6),vt(parseInt(i,16),parseInt(r,16),parseInt(u,16),1);if(8===t.value.length)return i=t.value.substring(0,2),r=t.value.substring(2,4),u=t.value.substring(4,6),f=t.value.substring(6,8),vt(parseInt(i,16),parseInt(r,16),parseInt(u,16),parseInt(f,16)/255)}return 20===t.type&&(o=ft[t.value.toUpperCase()],void 0!==o)?o:ft.TRANSPARENT},at=function(n){return 0==(255&n)},c=function(n){var t=255&n,i=255&n>>8,r=255&n>>16,u=255&n>>24;return t<255?"rgba("+u+","+r+","+i+","+t/255+")":"rgb("+u+","+r+","+i+")"},vt=function(n,t,i,r){return(n<<24|t<<16|i<<8|Math.round(255*r)<<0)>>>0},ho=function(n,t){if(17===n.type)return n.number;if(16===n.type){var i=3===t?1:255;return 3===t?n.number/100*i:Math.round(n.number/100*i)}return 0},co=function(n,t){var r=t.filter(gt),i,s;if(3===r.length){var u=r.map(ho),f=u[0],e=u[1],o=u[2];return vt(f,e,o,1)}return 4===r.length?(i=r.map(ho),s=(f=i[0],e=i[1],o=i[2],i[3]),vt(f,e,o,s)):0};var ni,lo=function(n,t){var r=t.filter(gt),o=r[0],a=r[1],v=r[2],h=r[3],c=(17===o.type?b(o.number):pr(n,o))/(2*Math.PI),f=s(a)?a.number/100:0,i=s(v)?v.number/100:0,y=void 0!==h&&s(h)?u(h,1):1;if(0===f)return vt(255*i,255*i,255*i,1);var e=i<=.5?i*(f+1):i+f-i*f,l=2*i-e,p=lf(l,e,c+1/3),w=lf(l,e,c),k=lf(l,e,c-1/3);return vt(255*p,255*w,255*k,y)},ll={hsl:lo,hsla:lo,rgb:co,rgba:co},pi=function(n,t){return lt(n,uo.create(t).parseComponentValue())},ft={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},al={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,t){return t.map(function(n){if(r(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},vl={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},wr=function(n,t){var r=lt(n,t[0]),i=t[1];return i&&s(i)?{color:r,stop:i}:{color:r,stop:null}},ao=function(n,t){var a=n[0],v=n[n.length-1],h,e,f,c;null===a.stop&&(a.stop=l);null===v.stop&&(v.stop=ct);for(var r=[],s=0,i=0;i<n.length;i++)h=n[i].stop,null!==h?(e=u(h,t),e>s?r.push(e):r.push(s),s=e):r.push(null);for(f=null,i=0;i<r.length;i++)if(c=r[i],null===c)null===f&&(f=i);else if(null!==f){for(var y=i-f,p=(c-r[f-1])/(y+1),o=1;o<=y;o++)r[f+o-1]=p*o;f=null}return n.map(function(n,i){return{color:n.color,stop:Math.max(Math.min(1,r[i]/t),0)}})},yl=function(n,t,i){var r="number"==typeof n?n:function(n,t,i){var r=t/2,f=i/2,e=u(n[0],t)-r,o=f-u(n[1],i);return(Math.atan2(o,e)+2*Math.PI)%(2*Math.PI)}(n,t,i),f=Math.abs(t*Math.sin(r))+Math.abs(i*Math.cos(r)),e=t/2,o=i/2,s=f/2,h=Math.sin(r-Math.PI/2)*s,c=Math.cos(r-Math.PI/2)*s;return[f,e-c,e+c,o-h,o+h]},nt=function(n,t){return Math.sqrt(n*n+t*t)},vo=function(n,t,i,r,u){return[[0,0],[0,t],[n,0],[n,t]].reduce(function(n,t){var e=t[0],o=t[1],f=nt(i-e,r-o);return(u?f<n.optimumDistance:f>n.optimumDistance)?{optimumCorner:t,optimumDistance:f}:n},{optimumDistance:u?1/0:-1/0,optimumCorner:null}).optimumCorner},br=function(n,t){var i=b(180),r=[];return tt(t).forEach(function(t,u){var f,e;if(0===u){if(f=t[0],20===f.type&&-1!==["top","left","right","bottom"].indexOf(f.value))return void(i=so(t));if(oo(f))return void(i=(pr(n,f)+b(270))%b(360))}e=wr(n,t);r.push(e)}),{angle:i,stops:r,type:1}},kr=function(n,t){var f=0,i=3,e=[],u=[];return tt(t).forEach(function(t,o){var h=!0,c;(0===o?h=t.reduce(function(n,t){if(r(t))switch(t.value){case"center":return u.push(cf),!1;case"top":case"left":return u.push(l),!1;case"right":case"bottom":return u.push(ct),!1}else if(s(t)||ht(t))return u.push(t),!1;return n},h):1===o&&(h=t.reduce(function(n,t){if(r(t))switch(t.value){case"circle":return f=0,!1;case"ellipse":return f=1,!1;case"contain":case"closest-side":return i=0,!1;case"farthest-side":return i=1,!1;case"closest-corner":return i=2,!1;case"cover":case"farthest-corner":return i=3,!1}else if(ht(t)||s(t))return Array.isArray(i)||(i=[]),i.push(t),!1;return n},h)),h)&&(c=wr(n,t),e.push(c))}),{size:i,shape:f,stops:e,position:u,type:2}},af=function(n,t){var r,i;if(22===t.type)return r={url:t.value,type:0},n.cache.addImage(t.value),r;if(18===t.type){if(i=yo[t.name],void 0===i)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return i(n,t.values)}throw new Error("Unsupported image type "+t.type);},yo={"linear-gradient":function(n,t){var i=b(180),r=[];return tt(t).forEach(function(t,u){var f,e;if(0===u){if(f=t[0],20===f.type&&"to"===f.value)return void(i=so(t));if(oo(f))return void(i=pr(n,f))}e=wr(n,t);r.push(e)}),{angle:i,stops:r,type:1}},"-moz-linear-gradient":br,"-ms-linear-gradient":br,"-o-linear-gradient":br,"-webkit-linear-gradient":br,"radial-gradient":function(n,t){var f=0,i=3,e=[],u=[];return tt(t).forEach(function(t,o){var h=!0,c,a;0===o&&(c=!1,h=t.reduce(function(n,t){if(c)if(r(t))switch(t.value){case"center":return u.push(cf),n;case"top":case"left":return u.push(l),n;case"right":case"bottom":return u.push(ct),n}else(s(t)||ht(t))&&u.push(t);else if(r(t))switch(t.value){case"circle":return f=0,!1;case"ellipse":return f=1,!1;case"at":return c=!0,!1;case"closest-side":return i=0,!1;case"cover":case"farthest-side":return i=1,!1;case"contain":case"closest-corner":return i=2,!1;case"farthest-corner":return i=3,!1}else if(ht(t)||s(t))return Array.isArray(i)||(i=[]),i.push(t),!1;return n},h));h&&(a=wr(n,t),e.push(a))}),{size:i,shape:f,stops:e,position:u,type:2}},"-moz-radial-gradient":kr,"-ms-radial-gradient":kr,"-o-radial-gradient":kr,"-webkit-radial-gradient":kr,"-webkit-gradient":function(n,t){var f=b(180),i=[],u=1;return tt(t).forEach(function(t,f){var e=t[0],o,s,h;if(0===f){if(r(e)&&"linear"===e.value)return void(u=1);if(r(e)&&"radial"===e.value)return void(u=2)}18===e.type&&("from"===e.name?(o=lt(n,e.values[0]),i.push({stop:l,color:o})):"to"===e.name?(o=lt(n,e.values[0]),i.push({stop:ct,color:o})):"color-stop"===e.name&&(s=e.values.filter(gt),2===s.length&&(o=lt(n,s[1]),h=s[0],dt(h)&&i.push({stop:{type:16,number:100*h.number,flags:h.flags},color:o}))))}),1===u?{angle:(f+b(180))%b(360),stops:i,type:u}:{size:3,shape:0,stops:i,position:[],type:u}}},pl={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,t){if(0===t.length)return[];var i=t[0];return 20===i.type&&"none"===i.value?[]:t.filter(function(n){return gt(n)&&function(n){return!(20===n.type&&"none"===n.value||18===n.type&&!yo[n.name])}(n)}).map(function(t){return af(n,t)})}},wl={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,t){return t.map(function(n){if(r(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},bl={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,t){return tt(t).map(function(n){return n.filter(s)}).map(eo)}},kl={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,t){return tt(t).map(function(n){return n.filter(r).map(function(n){return n.value}).join(" ")}).map(dl)}},dl=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}};!function(n){n.AUTO="auto";n.CONTAIN="contain";n.COVER="cover"}(ni||(ni={}));var dr,gl={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,t){return tt(t).map(function(n){return n.filter(na)})}},na=function(n){return r(n)||s(n)},gr=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ta=gr("top"),ia=gr("right"),ra=gr("bottom"),ua=gr("left"),nu=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(n,t){return eo(t.filter(s))}}},fa=nu("top-left"),ea=nu("top-right"),oa=nu("bottom-right"),sa=nu("bottom-left"),tu=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(n,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ha=tu("top"),ca=tu("right"),la=tu("bottom"),aa=tu("left"),iu=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(n,t){return vi(t)?t.number:0}}},va=iu("top"),ya=iu("right"),pa=iu("bottom"),wa=iu("left"),ba={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ka={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},da={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,t){return t.filter(r).reduce(function(n,t){return n|ga(t.value)},0)}},ga=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},nv={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},tv={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(n){n.NORMAL="normal";n.STRICT="strict"}(dr||(dr={}));var wi,iv={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,t){switch(t){case"strict":return dr.STRICT;case"normal":default:return dr.NORMAL}}},rv={name:"line-height",initialValue:"normal",prefix:!1,type:4},po=function(n,t){return r(n)&&"normal"===n.value?1.2*t:17===n.type?t*n.number:s(n)?u(n,t):t},uv={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,t){return 20===t.type&&"none"===t.value?null:af(n,t)}},fv={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},vf={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},ru=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},ev=ru("top"),ov=ru("right"),sv=ru("bottom"),hv=ru("left"),cv={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,t){return t.filter(r).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},lv={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},uu=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},av=uu("top"),vv=uu("right"),yv=uu("bottom"),pv=uu("left"),wv={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},bv={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},kv={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,t){return 1===t.length&&hf(t[0],"none")?[]:tt(t).map(function(t){for(var i,r={color:ft.TRANSPARENT,offsetX:l,offsetY:l,blur:l},u=0,f=0;f<t.length;f++)i=t[f],ht(i)?(0===u?r.offsetX=i:1===u?r.offsetY=i:r.blur=i,u++):r.color=lt(n,i);return r})}},dv={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},gv={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var i=ny[t.name];if(void 0===i)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return i(t.values)}return null}},ny={matrix:function(n){var t=n.filter(function(n){return 17===n.type}).map(function(n){return n.number});return 6===t.length?t:null},matrix3d:function(n){var t=n.filter(function(n){return 17===n.type}).map(function(n){return n.number}),e=t[0],o=t[1],i,r,u,f;return t[2],t[3],i=t[4],r=t[5],t[6],t[7],t[8],t[9],t[10],t[11],u=t[12],f=t[13],t[14],t[15],16===t.length?[e,o,i,r,u,f]:null}},wo={type:16,number:50,flags:4},ty=[wo,wo],iy={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,t){var i=t.filter(s);return 2!==i.length?ty:[i[0],i[1]]}},ry={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}};!function(n){n.NORMAL="normal";n.BREAK_ALL="break-all";n.KEEP_ALL="keep-all"}(wi||(wi={}));for(var uy={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,t){switch(t){case"break-all":return wi.BREAK_ALL;case"keep-all":return wi.KEEP_ALL;case"normal":default:return wi.NORMAL}}},fy={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,t){if(20===t.type)return{auto:!0,order:0};if(dt(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed");}},bo=function(n,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type");},ey={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,t){return dt(t)?t.number:1}},oy={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},sy={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,t){return t.filter(r).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return 0!==n})}},hy={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,t){var i=[],r=[];return t.forEach(function(n){switch(n.type){case 20:case 0:i.push(n.value);break;case 17:i.push(n.number.toString());break;case 4:r.push(i.join(" "));i.length=0}}),i.length&&r.push(i.join(" ")),r.map(function(n){return-1===n.indexOf(" ")?n:"'"+n+"'"})}},cy={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ly={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,t){if(dt(t))return t.number;if(r(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},ay={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,t){return t.filter(r).map(function(n){return n.value})}},vy={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},h=function(n,t){return 0!=(n&t)},yy={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,t){if(0===t.length)return[];var i=t[0];return 20===i.type&&"none"===i.value?[]:t}},py={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,t){var u,e,r,s;if(0===t.length||(u=t[0],20===u.type&&"none"===u.value))return null;for(var o=[],f=t.filter(fo),i=0;i<f.length;i++)e=f[i],r=f[i+1],20===e.type&&(s=r&&dt(r)?r.number:1,o.push({counter:e.value,increment:s}));return o}},wy={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,t){var u,f,s;if(0===t.length)return[];for(var o=[],e=t.filter(fo),i=0;i<e.length;i++)u=e[i],f=e[i+1],r(u)&&"none"!==u.value&&(s=f&&dt(f)?f.number:0,o.push({counter:u.value,reset:s}));return o}},by={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,t){return t.filter(vi).map(function(t){return bo(n,t)})}},ky={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,t){var u,f,i,r,e,o;if(0===t.length||(u=t[0],20===u.type&&"none"===u.value)||(f=[],i=t.filter(hl),i.length%2!=0))return null;for(r=0;r<i.length;r+=2)e=i[r].value,o=i[r+1].value,f.push({open:e,close:o});return f}},ko=function(n,t,i){if(!n)return"";var r=n[Math.min(t,n.length-1)];return r?i?r.open:r.close:""},dy={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,t){return 1===t.length&&hf(t[0],"none")?[]:tt(t).map(function(t){for(var i,r={color:255,offsetX:l,offsetY:l,blur:l,spread:l,inset:!1},u=0,f=0;f<t.length;f++)i=t[f],hf(i,"inset")?r.inset=!0:ht(i)?(0===u?r.offsetX=i:1===u?r.offsetY=i:2===u?r.blur=i:r.spread=i,u++):r.color=lt(n,i);return r})}},gy={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,t){var i=[];return t.filter(r).forEach(function(n){switch(n.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2)}}),[0,1,2].forEach(function(n){-1===i.indexOf(n)&&i.push(n)}),i}},np={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},tp={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,t){return vi(t)?t.number:0}},ip=function(){function n(n,i){var u,f,r;this.animationDuration=t(n,by,i.animationDuration);this.backgroundClip=t(n,al,i.backgroundClip);this.backgroundColor=t(n,vl,i.backgroundColor);this.backgroundImage=t(n,pl,i.backgroundImage);this.backgroundOrigin=t(n,wl,i.backgroundOrigin);this.backgroundPosition=t(n,bl,i.backgroundPosition);this.backgroundRepeat=t(n,kl,i.backgroundRepeat);this.backgroundSize=t(n,gl,i.backgroundSize);this.borderTopColor=t(n,ta,i.borderTopColor);this.borderRightColor=t(n,ia,i.borderRightColor);this.borderBottomColor=t(n,ra,i.borderBottomColor);this.borderLeftColor=t(n,ua,i.borderLeftColor);this.borderTopLeftRadius=t(n,fa,i.borderTopLeftRadius);this.borderTopRightRadius=t(n,ea,i.borderTopRightRadius);this.borderBottomRightRadius=t(n,oa,i.borderBottomRightRadius);this.borderBottomLeftRadius=t(n,sa,i.borderBottomLeftRadius);this.borderTopStyle=t(n,ha,i.borderTopStyle);this.borderRightStyle=t(n,ca,i.borderRightStyle);this.borderBottomStyle=t(n,la,i.borderBottomStyle);this.borderLeftStyle=t(n,aa,i.borderLeftStyle);this.borderTopWidth=t(n,va,i.borderTopWidth);this.borderRightWidth=t(n,ya,i.borderRightWidth);this.borderBottomWidth=t(n,pa,i.borderBottomWidth);this.borderLeftWidth=t(n,wa,i.borderLeftWidth);this.boxShadow=t(n,dy,i.boxShadow);this.color=t(n,ba,i.color);this.direction=t(n,ka,i.direction);this.display=t(n,da,i.display);this.float=t(n,nv,i.cssFloat);this.fontFamily=t(n,hy,i.fontFamily);this.fontSize=t(n,cy,i.fontSize);this.fontStyle=t(n,vy,i.fontStyle);this.fontVariant=t(n,ay,i.fontVariant);this.fontWeight=t(n,ly,i.fontWeight);this.letterSpacing=t(n,tv,i.letterSpacing);this.lineBreak=t(n,iv,i.lineBreak);this.lineHeight=t(n,rv,i.lineHeight);this.listStyleImage=t(n,uv,i.listStyleImage);this.listStylePosition=t(n,fv,i.listStylePosition);this.listStyleType=t(n,vf,i.listStyleType);this.marginTop=t(n,ev,i.marginTop);this.marginRight=t(n,ov,i.marginRight);this.marginBottom=t(n,sv,i.marginBottom);this.marginLeft=t(n,hv,i.marginLeft);this.opacity=t(n,ey,i.opacity);r=t(n,cv,i.overflow);this.overflowX=r[0];this.overflowY=r[r.length>1?1:0];this.overflowWrap=t(n,lv,i.overflowWrap);this.paddingTop=t(n,av,i.paddingTop);this.paddingRight=t(n,vv,i.paddingRight);this.paddingBottom=t(n,yv,i.paddingBottom);this.paddingLeft=t(n,pv,i.paddingLeft);this.paintOrder=t(n,gy,i.paintOrder);this.position=t(n,bv,i.position);this.textAlign=t(n,wv,i.textAlign);this.textDecorationColor=t(n,oy,null!==(u=i.textDecorationColor)&&void 0!==u?u:i.color);this.textDecorationLine=t(n,sy,null!==(f=i.textDecorationLine)&&void 0!==f?f:i.textDecoration);this.textShadow=t(n,kv,i.textShadow);this.textTransform=t(n,dv,i.textTransform);this.transform=t(n,gv,i.transform);this.transformOrigin=t(n,iy,i.transformOrigin);this.visibility=t(n,ry,i.visibility);this.webkitTextStrokeColor=t(n,np,i.webkitTextStrokeColor);this.webkitTextStrokeWidth=t(n,tp,i.webkitTextStrokeWidth);this.wordBreak=t(n,uy,i.wordBreak);this.zIndex=t(n,fy,i.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},n.prototype.isTransparent=function(){return at(this.backgroundColor)},n.prototype.isTransformed=function(){return null!==this.transform},n.prototype.isPositioned=function(){return 0!==this.position},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return 0!==this.float},n.prototype.isInlineLevel=function(){return h(this.display,4)||h(this.display,33554432)||h(this.display,268435456)||h(this.display,536870912)||h(this.display,67108864)||h(this.display,134217728)},n}(),rp=function(n,i){this.content=t(n,yy,i.content);this.quotes=t(n,ky,i.quotes)},go=function(n,i){this.counterIncrement=t(n,py,i.counterIncrement);this.counterReset=t(n,wy,i.counterReset)},t=function(n,t,i){var h=new ro,c=null!=i?i.toString():t.initialValue,u,f,e,o;h.write(c);u=new uo(h.read());switch(t.type){case 2:return f=u.parseComponentValue(),t.parse(n,r(f)?f.value:t.initialValue);case 0:return t.parse(n,u.parseComponentValue());case 1:return t.parse(n,u.parseComponentValues());case 4:return u.parseComponentValue();case 3:switch(t.format){case"angle":return pr(n,u.parseComponentValue());case"color":return lt(n,u.parseComponentValue());case"image":return af(n,u.parseComponentValue());case"length":return e=u.parseComponentValue(),ht(e)?e:l;case"length-percentage":return o=u.parseComponentValue(),s(o)?o:l;case"time":return bo(n,u.parseComponentValue())}}},yf=function(n,t){var i=function(n){switch(n.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(n);return 1===i||t===i},it=function(n,t){this.context=n;this.textNodes=[];this.elements=[];this.flags=0;yf(t,3);this.styles=new ip(n,window.getComputedStyle(t,null));ne(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none"));this.bounds=tr(this.context,t);yf(t,4)&&(this.flags|=16)},ns="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bi="undefined"==typeof Uint8Array?[]:new Uint8Array(256),fu=0;fu<ns.length;fu++)bi[ns.charCodeAt(fu)]=fu;for(var ts=function(n,t,i){return n.slice?n.slice(t,i):new Uint16Array(Array.prototype.slice.call(n,t,i))},up=function(){function n(n,t,i,r,u,f){this.initialValue=n;this.errorValue=t;this.highStart=i;this.highValueIndex=r;this.index=u;this.data=f}return n.prototype.get=function(n){var t;if(n>=0){if(n<55296||n>56319&&n<=65535)return t=((t=this.index[n>>5])<<2)+(31&n),this.data[t];if(n<=65535)return t=((t=this.index[2048+(n-55296>>5)])<<2)+(31&n),this.data[t];if(n<this.highStart)return t=2080+(n>>11),t=this.index[t],t+=n>>5&63,t=((t=this.index[t])<<2)+(31&n),this.data[t];if(n<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n}(),is="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fp="undefined"==typeof Uint8Array?[]:new Uint8Array(256),eu=0;eu<is.length;eu++)fp[is.charCodeAt(eu)]=eu;var pf,rs=8,wf=9,us=11,fs=12,ep=function(){for(var u,n,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);if(u=t.length,!u)return"";for(var r=[],f=-1,e="";++f<u;)n=t[f],n<=65535?r.push(n):(n-=65536,r.push(55296+(n>>10),n%1024+56320)),(f+1===u||r.length>16384)&&(e+=String.fromCharCode.apply(String,r),r.length=0);return e},op=function(n){var r,u,f,i=function(n){var t,s,f,e,h,r=.75*n.length,c=n.length,o=0,i,u;for("="===n[n.length-1]&&(r--,"="===n[n.length-2]&&r--),i="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(r):new Array(r),u=Array.isArray(i)?i:new Uint8Array(i),t=0;t<c;t+=4)s=bi[n.charCodeAt(t)],f=bi[n.charCodeAt(t+1)],e=bi[n.charCodeAt(t+2)],h=bi[n.charCodeAt(t+3)],u[o++]=s<<2|f>>4,u[o++]=(15&f)<<4|e>>2,u[o++]=(3&e)<<6|63&h;return i}(n),t=Array.isArray(i)?function(n){for(var r=n.length,i=[],t=0;t<r;t+=4)i.push(n[t+3]<<24|n[t+2]<<16|n[t+1]<<8|n[t]);return i}(i):new Uint32Array(i),e=Array.isArray(i)?function(n){for(var r=n.length,i=[],t=0;t<r;t+=2)i.push(n[t+1]<<8|n[t]);return i}(i):new Uint16Array(i),o=ts(e,12,t[4]/2),s=2===t[5]?ts(e,(24+t[4])/2):(r=t,u=Math.ceil((24+t[4])/4),r.slice?r.slice(u,f):new Uint32Array(Array.prototype.slice.call(r,u,f)));return new up(t[0],t[1],t[2],t[3],o,s)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),sp=function(n){return op.get(n)},hp=function(n,t,i){var e=i-2,f=t[e],u=t[i-1],r=t[i],o;if(2===u&&3===r)return"";if(2===u||3===u||4===u||2===r||3===r||4===r)return"";if(u===rs&&-1!==[rs,wf,us,fs].indexOf(r)||!(u!==us&&u!==wf||r!==wf&&10!==r)||(u===fs||10===u)&&10===r||13===r||5===r||7===r||1===u)return"";if(13===u&&14===r){for(;5===f;)f=t[--e];if(14===f)return""}if(15===u&&15===r){for(o=0;15===f;)o++,f=t[--e];if(o%2==0)return""}return""},cp=function(n){var i=function(n){for(var t,u,r=[],i=0,f=n.length;i<f;)t=n.charCodeAt(i++),t>=55296&&t<=56319&&i<f?(u=n.charCodeAt(i++),56320==(64512&u)?r.push(((1023&t)<<10)+(1023&u)+65536):(r.push(t),i--)):r.push(t);return r}(n),r=i.length,t=0,u=0,f=i.map(sp);return{next:function(){var n,e;if(t>=r)return{done:!0,value:null};for(n="";t<r&&""===(n=hp(0,f,++t)););return""!==n||t===r?(e=ep.apply(null,i.slice(u,t)),u=t,{value:e,done:!1}):{done:!0,value:null}}}},es=function(n){return 0===n[0]&&255===n[1]&&0===n[2]&&255===n[3]},bf=function(n,t,i,r,u){var o="http://www.w3.org/2000/svg",e=document.createElementNS(o,"svg"),f=document.createElementNS(o,"foreignObject");return e.setAttributeNS(null,"width",n.toString()),e.setAttributeNS(null,"height",t.toString()),f.setAttributeNS(null,"width","100%"),f.setAttributeNS(null,"height","100%"),f.setAttributeNS(null,"x",i.toString()),f.setAttributeNS(null,"y",r.toString()),f.setAttributeNS(null,"externalResourcesRequired","true"),e.appendChild(f),f.appendChild(u),e},os=function(n){return new Promise(function(t,i){var r=new Image;r.onload=function(){return t(r)};r.onerror=i;r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(n))})},a={get SUPPORT_RANGE_BOUNDS(){var n=function(n){var i,t,r,u;return n.createRange&&(i=n.createRange(),i.getBoundingClientRect&&(t=n.createElement("boundtest"),t.style.height="123px",t.style.display="block",n.body.appendChild(t),i.selectNode(t),r=i.getBoundingClientRect(),u=Math.round(r.height),n.body.removeChild(t),123===u))?!0:!1}(document);return Object.defineProperty(a,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=a.SUPPORT_RANGE_BOUNDS&&function(n){var t=n.createElement("boundtest"),i;t.style.width="50px";t.style.display="block";t.style.fontSize="12px";t.style.letterSpacing="0px";t.style.wordSpacing="0px";n.body.appendChild(t);i=n.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,o=ir(r.data).map(function(n){return e(n)}),u=0,f={},s=o.every(function(n,t){var e,o;return i.setStart(r,u),i.setEnd(r,u+n.length),e=i.getBoundingClientRect(),u+=n.length,o=e.x>f.x||e.y>f.y,f=e,0===t||o});return n.body.removeChild(t),s}(document);return Object.defineProperty(a,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=function(n){var t=new Image,i=n.createElement("canvas"),r=i.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'><\/svg>";try{r.drawImage(t,0,0);i.toDataURL()}catch(n){return!1}return!0}(document);return Object.defineProperty(a,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n="function"==typeof Array.from&&"function"==typeof fetch?function(n){var i=n.createElement("canvas"),t,r,u,f;return(i.width=100,i.height=100,t=i.getContext("2d"),!t)?Promise.reject(!1):(t.fillStyle="rgb(0, 255, 0)",t.fillRect(0,0,100,100),r=new Image,u=i.toDataURL(),r.src=u,f=bf(100,100,0,0,r),t.fillStyle="red",t.fillRect(0,0,100,100),os(f).then(function(i){var f,r;return t.drawImage(i,0,0),f=t.getImageData(0,0,100,100).data,t.fillStyle="red",t.fillRect(0,0,100,100),r=n.createElement("div"),r.style.backgroundImage="url("+u+")",r.style.height="100px",es(f)?os(bf(100,100,0,0,r)):Promise.reject(!1)}).then(function(n){return t.drawImage(n,0,0),es(t.getImageData(0,0,100,100).data)}).catch(function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(a,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=void 0!==(new Image).crossOrigin;return Object.defineProperty(a,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(a,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(a,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(a,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},ki=function(n,t){this.text=n;this.bounds=t},lp=function(n,t){var u=t.ownerDocument,i,r,f;return u&&(i=u.createElement("html2canvaswrapper"),i.appendChild(t.cloneNode(!0)),r=t.parentNode,r)?(r.replaceChild(i,t),f=tr(n,i),i.firstChild&&r.replaceChild(i.firstChild,i),f):rt.EMPTY},ss=function(n,t,i){var u=n.ownerDocument,r;if(!u)throw new Error("Node has no owner document");return r=u.createRange(),r.setStart(n,t),r.setEnd(n,t+i),r},kf=function(n){if(a.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(n)).map(function(n){return n.segment})}return function(n){for(var t,r=cp(n),i=[];!(t=r.next()).done;)t.value&&i.push(t.value.slice());return i}(n)},ap=function(n,t){return 0!==t.letterSpacing?kf(n):function(n,t){if(a.SUPPORT_NATIVE_TEXT_SEGMENTATION){var i=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(i.segment(n)).map(function(n){return n.segment})}return yp(n,t)}(n,t)},vp=[32,160,4961,65792,65793,4153,4241],yp=function(n,t){for(var r,u=function(n,t){var r=ir(n),u=oc(r,t),o=u[0],s=u[1],h=u[2],f=r.length,e=0,i=0;return{next:function(){var n,t;if(i>=f)return{done:!0,value:null};for(n="";i<f&&""===(n=ec(r,s,o,++i,h)););return""!==n||i===f?(t=new sc(r,n,e,i),e=i,{value:t,done:!1}):{done:!0,value:null}}}}(n,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],f=function(){if(r.value){var t=r.value.slice(),u=ir(t),n="";u.forEach(function(t){-1===vp.indexOf(t)?n+=e(t):(n.length&&i.push(n),i.push(e(t)),n="")});n.length&&i.push(n)}};!(r=u.next()).done;)f();return i},pp=function(n,t,i){this.text=wp(t.data,i.textTransform);this.textBounds=function(n,t,i,r){var e=ap(t,i),u=[],f=0;return e.forEach(function(t){var e,s,o,h;i.textDecorationLine.length||t.trim().length>0?a.SUPPORT_RANGE_BOUNDS?(e=ss(r,f,t.length).getClientRects(),e.length>1?(s=kf(t),o=0,s.forEach(function(t){u.push(new ki(t,rt.fromDOMRectList(n,ss(r,o+f,t.length).getClientRects())));o+=t.length})):u.push(new ki(t,rt.fromDOMRectList(n,e)))):(h=r.splitText(t.length),u.push(new ki(t,lp(n,r))),r=h):a.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));f+=t.length}),u}(n,this.text,i,t)},wp=function(n,t){switch(t){case 1:return n.toLowerCase();case 3:return n.replace(bp,kp);case 2:return n.toUpperCase();default:return n}},bp=/(^|\s|:|-|\(|\))([a-z])/g,kp=function(n,t,i){return n.length>0?t+i.toUpperCase():n},hs=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.src=i.currentSrc||i.src,r.intrinsicWidth=i.naturalWidth,r.intrinsicHeight=i.naturalHeight,r.context.cache.addImage(r.src),r}return g(t,n),t}(it),cs=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.canvas=i,r.intrinsicWidth=i.width,r.intrinsicHeight=i.height,r}return g(t,n),t}(it),ls=function(n){function t(t,i){var r=n.call(this,t,i)||this,f=new XMLSerializer,u=tr(t,i);return i.setAttribute("width",u.width+"px"),i.setAttribute("height",u.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(f.serializeToString(i)),r.intrinsicWidth=i.width.baseVal.value,r.intrinsicHeight=i.height.baseVal.value,r.context.cache.addImage(r.svg),r}return g(t,n),t}(it),as=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return g(t,n),t}(it),df=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.start=i.start,r.reversed="boolean"==typeof i.reversed&&!0===i.reversed,r}return g(t,n),t}(it),dp=[{type:15,flags:0,unit:"px",number:3}],gp=[{type:16,flags:0,number:50}],nw="password",gf=function(n){function t(t,i){var f,e,u,r=n.call(this,t,i)||this;switch(r.type=i.type.toLowerCase(),r.checked=i.checked,r.value=0===(e=(f=i).type===nw?new Array(f.value.length+1).join(""):f.value).length?f.placeholder||"":e,"checkbox"!==r.type&&"radio"!==r.type||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=(u=r.bounds).width>u.height?new rt(u.left+(u.width-u.height)/2,u.top,u.height,u.height):u.width<u.height?new rt(u.left,u.top+(u.height-u.width)/2,u.width,u.width):u),r.type){case"checkbox":r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=dp;break;case"radio":r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=gp}return r}return g(t,n),t}(it),vs=function(n){function t(t,i){var r=n.call(this,t,i)||this,u=i.options[i.selectedIndex||0];return r.value=u&&u.text||"",r}return g(t,n),t}(it),ys=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return g(t,n),t}(it),ps=function(n){function t(t,i){var r=n.call(this,t,i)||this,u,f;r.src=i.src;r.width=parseInt(i.width,10)||0;r.height=parseInt(i.height,10)||0;r.backgroundColor=r.styles.backgroundColor;try{i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement&&(r.tree=bs(t,i.contentWindow.document.documentElement),u=i.contentWindow.document.documentElement?pi(t,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):ft.TRANSPARENT,f=i.contentWindow.document.body?pi(t,getComputedStyle(i.contentWindow.document.body).backgroundColor):ft.TRANSPARENT,r.backgroundColor=at(u)?at(f)?r.styles.backgroundColor:f:u)}catch(n){}return r}return g(t,n),t}(it),tw=["OL","UL","MENU"],ou=function(n,t,i,r){for(var f,u=t.firstChild,e=void 0;u;u=e)(e=u.nextSibling,ks(u)&&u.data.trim().length>0)?i.textNodes.push(new pp(n,u,i.styles)):ti(u)&&(rh(u)&&u.assignedNodes?u.assignedNodes().forEach(function(t){return ou(n,t,i,r)}):(f=ws(n,u),f.styles.isVisible()&&(iw(u,f,r)?f.flags|=4:rw(f.styles)&&(f.flags|=2),-1!==tw.indexOf(u.tagName)&&(f.flags|=8),i.elements.push(f),u.slot,u.shadowRoot?ou(n,u.shadowRoot,f,r):hu(u)||ds(u)||cu(u)||ou(n,u,f,r))))},ws=function(n,t){return ie(t)?new hs(n,t):gs(t)?new cs(n,t):ds(t)?new ls(n,t):uw(t)?new as(n,t):fw(t)?new df(n,t):ew(t)?new gf(n,t):cu(t)?new vs(n,t):hu(t)?new ys(n,t):th(t)?new ps(n,t):new it(n,t)},bs=function(n,t){var i=ws(n,t);return i.flags|=4,ou(n,t,i,i),i},iw=function(n,t,i){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||te(n)&&i.styles.isTransparent()},rw=function(n){return n.isPositioned()||n.isFloating()},ks=function(n){return n.nodeType===Node.TEXT_NODE},ti=function(n){return n.nodeType===Node.ELEMENT_NODE},ne=function(n){return ti(n)&&void 0!==n.style&&!su(n)},su=function(n){return"object"==typeof n.className},uw=function(n){return"LI"===n.tagName},fw=function(n){return"OL"===n.tagName},ew=function(n){return"INPUT"===n.tagName},ds=function(n){return"svg"===n.tagName},te=function(n){return"BODY"===n.tagName},gs=function(n){return"CANVAS"===n.tagName},nh=function(n){return"VIDEO"===n.tagName},ie=function(n){return"IMG"===n.tagName},th=function(n){return"IFRAME"===n.tagName},ih=function(n){return"STYLE"===n.tagName},hu=function(n){return"TEXTAREA"===n.tagName},cu=function(n){return"SELECT"===n.tagName},rh=function(n){return"SLOT"===n.tagName},uh=function(n){return n.tagName.indexOf("-")>0},ow=function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(n){var t=this.counters[n];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(n){var t=this.counters[n];return t||[]},n.prototype.pop=function(n){var t=this;n.forEach(function(n){return t.counters[n].pop()})},n.prototype.parse=function(n){var t=this,r=n.counterIncrement,f=n.counterReset,u=!0,i;return null!==r&&r.forEach(function(n){var i=t.counters[n.counter];i&&0!==n.increment&&(u=!1,i.length||i.push(1),i[Math.max(0,i.length-1)]+=n.increment)}),i=[],u&&f.forEach(function(n){var r=t.counters[n.counter];i.push(n.counter);r||(r=t.counters[n.counter]=[]);r.push(n.reset)}),i},n}(),fh={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},eh={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sw={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},hw={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ii=function(n,t,i,r,u,f){return n<t||n>i?di(n,u,f.length>0):r.integers.reduce(function(t,i,u){for(;n>=i;)n-=i,t+=r.values[u];return t},"")+f},oh=function(n,t,i,r){var u="";do i||n--,u=r(n)+u,n/=t;while(n*t>=t);return u},o=function(n,t,i,r,u){var f=i-t+1;return(n<0?"-":"")+(oh(Math.abs(n),f,r,function(n){return e(Math.floor(n%f)+t)})+u)},yt=function(n,t,i){void 0===i&&(i=". ");var r=t.length;return oh(Math.abs(n),r,!1,function(n){return t[Math.floor(n%r)]})+i},et=function(n,t,i,r,u,f){var c,o,e,s;if(n<-9999||n>9999)return di(n,4,u.length>0);if(c=Math.abs(n),o=u,0===c)return t[0]+o;for(e=0;c>0&&e<=4;e++)s=c%10,0===s&&h(f,1)&&""!==o?o=t[s]+o:s>1||1===s&&0===e||1===s&&1===e&&h(f,2)||1===s&&1===e&&h(f,4)&&n>100||1===s&&e>1&&h(f,8)?o=t[s]+(e>0?i[e-1]:"")+o:1===s&&e>0&&(o=i[e-1]+o),c=Math.floor(c/10);return(n<0?r:"")+o},di=function(n,t,i){var r=i?". ":"",u=i?"":"",e=i?", ":"",s=i?" ":"",f;switch(t){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:return f=o(n,48,57,!0,r),f.length<4?"0"+f:f;case 4:return yt(n,"",u);case 6:return ii(n,1,3999,fh,3,r).toLowerCase();case 7:return ii(n,1,3999,fh,3,r);case 8:return o(n,945,969,!1,r);case 9:return o(n,97,122,!1,r);case 10:return o(n,65,90,!1,r);case 11:return o(n,1632,1641,!0,r);case 12:case 49:return ii(n,1,9999,eh,3,r);case 35:return ii(n,1,9999,eh,3,r).toLowerCase();case 13:return o(n,2534,2543,!0,r);case 14:case 30:return o(n,6112,6121,!0,r);case 15:return yt(n,"",u);case 16:return yt(n,"",u);case 17:case 48:return et(n,"","","",u,14);case 47:return et(n,"","","",u,15);case 42:return et(n,"","","",u,14);case 41:return et(n,"","","",u,15);case 26:return et(n,"","","",u,0);case 25:return et(n,"","","",u,7);case 31:return et(n,"","","",e,7);case 33:return et(n,"","","",e,0);case 32:return et(n,"","","",e,7);case 18:return o(n,2406,2415,!0,r);case 20:return ii(n,1,19999,hw,3,r);case 21:return o(n,2790,2799,!0,r);case 22:return o(n,2662,2671,!0,r);case 22:return ii(n,1,10999,sw,3,r);case 23:return yt(n,"");case 24:return yt(n,"");case 27:return o(n,3302,3311,!0,r);case 28:return yt(n,"",u);case 29:return yt(n,"",u);case 34:return o(n,3792,3801,!0,r);case 37:return o(n,6160,6169,!0,r);case 38:return o(n,4160,4169,!0,r);case 39:return o(n,2918,2927,!0,r);case 40:return o(n,1776,1785,!0,r);case 43:return o(n,3046,3055,!0,r);case 44:return o(n,3174,3183,!0,r);case 45:return o(n,3664,3673,!0,r);case 46:return o(n,3872,3881,!0,r);case 3:default:return o(n,48,57,!0,r)}},lu=function(n){if(!n)return"";var t="";return n.split("").forEach(function(n){"&"==n?n="&amp;":"'"==n?n="&#039;":'"'==n?n="&quot;":"<"==n?n="&lt;":">"==n&&(n="&gt;");t+=n}),t},sh=function(n){return n?"<!DOCTYPE "+lu(n.name)+lu(n.internalSubset)+(n.publicId?'"'+lu(n.publicId)+'"':"")+(n.systemId?'"'+lu(n.systemId)+'"':"")+"><html><\/html>":"<html><\/html>"};window.trustedTypes&&(pf=window.trustedTypes.createPolicy("html2canvas",{createHTML:function(n,t){return sh(t)}}));re=function(){function n(n,t,i){if(this.context=n,this.options=i,this.scrolledElements=[],this.referenceElement=t,this.counters=new ow,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(n,t){var e=this,u=cw(n,t);if(!u.contentWindow)return Promise.reject("Unable to find iframe window");var f,o=n.defaultView.pageXOffset,s=n.defaultView.pageYOffset,r=u.contentWindow,i=r.document,h=vw(u).then(function(){return y(e,void 0,void 0,function(){var n,f;return v(this,function(e){switch(e.label){case 0:return this.scrolledElements.forEach(ww),r&&(r.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||r.scrollY===t.top&&r.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(r.scrollX-t.left,r.scrollY-t.top,0,0))),n=this.options.onclone,void 0===(f=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:i.fonts&&i.fonts.ready?[4,i.fonts.ready]:[3,2];case 1:e.sent();e.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,aw(i)]:[3,4];case 3:e.sent();e.label=4;case 4:return"function"==typeof n?[2,Promise.resolve().then(function(){return n(i,f)}).then(function(){return u})]:[2,u]}})})});return i.open(),i.write((f=document.doctype,void 0!==pf?pf.createHTML("",f):sh(f))),pw(this.referenceElement.ownerDocument,o,s),i.replaceChild(i.adoptNode(this.documentElement),i.documentElement),i.close(),h},n.prototype.createElementClone=function(n){if(yf(n,2),gs(n))return this.createCanvasClone(n);if(nh(n))return this.createVideoClone(n);if(ih(n))return this.createStyleClone(n);var t=n.cloneNode(!1);return ie(t)&&(ie(n)&&n.currentSrc&&n.currentSrc!==n.src&&(t.src=n.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),uh(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(n){var t=document.createElement("html2canvascustomelement");return ue(n.style,t),t},n.prototype.createStyleClone=function(n){var t,r,i;try{if(t=n.sheet,t&&t.cssRules)return r=[].slice.call(t.cssRules,0).reduce(function(n,t){return t&&"string"==typeof t.cssText?n+t.cssText:n},""),i=n.cloneNode(!1),i.textContent=r,i}catch(n){if(this.context.logger.error("Unable to access cssRules property",n),"SecurityError"!==n.name)throw n;}return n.cloneNode(!1)},n.prototype.createCanvasClone=function(n){var r,u,t,f,i,e,o;if(this.options.inlineImages&&n.ownerDocument){u=n.ownerDocument.createElement("img");try{return u.src=n.toDataURL(),u}catch(r){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",n)}}t=n.cloneNode(!1);try{return t.width=n.width,t.height=n.height,f=n.getContext("2d"),i=t.getContext("2d"),i&&(!this.options.allowTaint&&f?i.putImageData(f.getImageData(0,0,n.width,n.height),0,0):(e=null!==(r=n.getContext("webgl2"))&&void 0!==r?r:n.getContext("webgl"),e&&(o=e.getContextAttributes(),!1===(null==o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",n)),i.drawImage(n,0,0))),t}catch(r){this.context.logger.info("Unable to clone canvas as it is tainted",n)}return t},n.prototype.createVideoClone=function(n){var t=n.ownerDocument.createElement("canvas"),i,r;t.width=n.offsetWidth;t.height=n.offsetHeight;i=t.getContext("2d");try{return i&&(i.drawImage(n,0,0,t.width,t.height),this.options.allowTaint||i.getImageData(0,0,t.width,t.height)),t}catch(t){this.context.logger.info("Unable to clone video as it is tainted",n)}return r=n.ownerDocument.createElement("canvas"),r.width=n.offsetWidth,r.height=n.offsetHeight,r},n.prototype.appendChildNode=function(n,t,i){ti(t)&&("SCRIPT"===t.tagName||t.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ti(t)&&ih(t)||n.appendChild(this.cloneNode(t,i))},n.prototype.cloneChildNodes=function(n,t,i){for(var u,f=this,r=n.shadowRoot?n.shadowRoot.firstChild:n.firstChild;r;r=r.nextSibling)ti(r)&&rh(r)&&"function"==typeof r.assignedNodes?(u=r.assignedNodes(),u.length&&u.forEach(function(n){return f.appendChildNode(t,n,i)})):this.appendChildNode(t,r,i)},n.prototype.cloneNode=function(n,t){var r,i,o,f,e;if(ks(n))return document.createTextNode(n.data);if(!n.ownerDocument)return n.cloneNode(!1);if(r=n.ownerDocument.defaultView,r&&ti(n)&&(ne(n)||su(n))){i=this.createElementClone(n);i.style.transitionProperty="none";var u=r.getComputedStyle(n),s=r.getComputedStyle(n,":before"),h=r.getComputedStyle(n,":after");return this.referenceElement===n&&ne(i)&&(this.clonedReferenceElement=i),te(i)&&bw(i),o=this.counters.parse(new go(this.context,u)),f=this.resolvePseudoContent(n,i,s,gi.BEFORE),uh(n)&&(t=!0),nh(n)||this.cloneChildNodes(n,i,t),f&&i.insertBefore(f,i.firstChild),e=this.resolvePseudoContent(n,i,h,gi.AFTER),e&&i.appendChild(e),this.counters.pop(o),(u&&(this.options.copyStyles||su(n))&&!th(n)||t)&&ue(u,i),0===n.scrollTop&&0===n.scrollLeft||this.scrolledElements.push([i,n.scrollLeft,n.scrollTop]),(hu(n)||cu(n))&&(hu(i)||cu(i))&&(i.value=n.value),i}return n.cloneNode(!1)},n.prototype.resolvePseudoContent=function(n,t,i,u){var o=this,s,e,h,f,c;if(i&&(s=i.content,e=t.ownerDocument,e&&s&&"none"!==s&&"-moz-alt-content"!==s&&"none"!==i.display))return this.counters.parse(new go(this.context,i)),h=new rp(this.context,i),f=e.createElement("html2canvaspseudoelement"),ue(i,f),h.content.forEach(function(t){var s,a,y,p,c,l;if(0===t.type)f.appendChild(e.createTextNode(t.value));else if(22===t.type)s=e.createElement("img"),s.src=t.value,s.style.opacity="1",f.appendChild(s);else if(18===t.type){if("attr"===t.name)a=t.values.filter(r),a.length&&f.appendChild(e.createTextNode(n.getAttribute(a[0].value)||""));else if("counter"===t.name){var v=t.values.filter(gt),i=v[0],u=v[1];i&&r(i)&&(y=o.counters.getCounterValue(i.value),p=u&&r(u)?vf.parse(o.context,u.value):3,f.appendChild(e.createTextNode(di(y,p,!1))))}else if("counters"===t.name&&(c=t.values.filter(gt),l=(i=c[0],c[1]),u=c[2],i&&r(i))){var w=o.counters.getCounterValues(i.value),b=u&&r(u)?vf.parse(o.context,u.value):3,k=l&&0===l.type?l.value:"",d=w.map(function(n){return di(n,b,!1)}).join(k);f.appendChild(e.createTextNode(d))}}else if(20===t.type)switch(t.value){case"open-quote":f.appendChild(e.createTextNode(ko(h.quotes,o.quoteDepth++,!0)));break;case"close-quote":f.appendChild(e.createTextNode(ko(h.quotes,--o.quoteDepth,!1)));break;default:f.appendChild(e.createTextNode(t.value))}}),f.className=fe+" "+ee,c=u===gi.BEFORE?" "+fe:" "+ee,su(t)?t.className.baseValue+=c:t.className+=c,f},n.destroy=function(n){return!!n.parentNode&&(n.parentNode.removeChild(n),!0)},n}();!function(n){n[n.BEFORE=0]="BEFORE";n[n.AFTER=1]="AFTER"}(gi||(gi={}));var i,cw=function(n,t){var i=n.createElement("iframe");return i.className="html2canvas-container",i.style.visibility="hidden",i.style.position="fixed",i.style.left="-10000px",i.style.top="0px",i.style.border="0",i.width=t.width.toString(),i.height=t.height.toString(),i.scrolling="no",i.setAttribute("data-html2canvas-ignore","true"),n.body.appendChild(i),i},lw=function(n){return new Promise(function(t){n.complete?t():n.src?(n.onload=t,n.onerror=t):t()})},aw=function(n){return Promise.all([].slice.call(n.images,0).map(lw))},vw=function(n){return new Promise(function(t,i){var r=n.contentWindow,u;if(!r)return i("No window assigned for iframe");u=r.document;r.onload=n.onload=function(){r.onload=n.onload=null;var i=setInterval(function(){u.body.childNodes.length>0&&"complete"===u.readyState&&(clearInterval(i),t(n))},50)}})},yw=["all","d","content"],ue=function(n,t){for(var r,i=n.length-1;i>=0;i--)r=n.item(i),-1===yw.indexOf(r)&&t.style.setProperty(r,n.getPropertyValue(r));return t},pw=function(n,t,i){n&&n.defaultView&&(t!==n.defaultView.pageXOffset||i!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(t,i)},ww=function(n){var t=n[0],i=n[1],r=n[2];t.scrollLeft=i;t.scrollTop=r},fe="___html2canvas___pseudoelement_before",ee="___html2canvas___pseudoelement_after",bw=function(n){kw(n,"."+fe+':before{\n    content: "" !important;\n    display: none !important;\n}\n         .'+ee+':after{\n    content: "" !important;\n    display: none !important;\n}')},kw=function(n,t){var r=n.ownerDocument,i;r&&(i=r.createElement("style"),i.textContent=t,n.appendChild(i))},hh=function(){function n(){}return n.getOrigin=function(t){var i=n._link;return i?(i.href=t,i.href=i.href,i.protocol+i.hostname+i.port):"about:blank"},n.isSameOrigin=function(t){return n.getOrigin(t)===n._origin},n.setContext=function(t){n._link=t.document.createElement("a");n._origin=n.getOrigin(t.location.href)},n._origin="about:blank",n}(),dw=function(){function n(n,t){this.context=n;this._options=t;this._cache={}}return n.prototype.addImage=function(n){var t=Promise.resolve();return this.has(n)?t:se(n)||ib(n)?((this._cache[n]=this.loadImage(n)).catch(function(){}),t):t},n.prototype.match=function(n){return this._cache[n]},n.prototype.loadImage=function(n){return y(this,void 0,void 0,function(){var i,r,u,t,f=this;return v(this,function(e){switch(e.label){case 0:return i=hh.isSameOrigin(n),r=!oe(n)&&!0===this._options.useCORS&&a.SUPPORT_CORS_IMAGES&&!i,u=!oe(n)&&!i&&!se(n)&&"string"==typeof this._options.proxy&&a.SUPPORT_CORS_XHR&&!r,i||!1!==this._options.allowTaint||oe(n)||se(n)||u||r?(t=n,u?[4,this.proxy(t)]:[3,2]):[2];case 1:t=e.sent();e.label=2;case 2:return this.context.logger.debug("Added image "+n.substring(0,256)),[4,new Promise(function(n,i){var u=new Image;u.onload=function(){return n(u)};u.onerror=i;(rb(t)||r)&&(u.crossOrigin="anonymous");u.src=t;!0===u.complete&&setTimeout(function(){return n(u)},500);f._options.imageTimeout>0&&setTimeout(function(){return i("Timed out ("+f._options.imageTimeout+"ms) loading image")},f._options.imageTimeout)})];case 3:return[2,e.sent()]}})})},n.prototype.has=function(n){return void 0!==this._cache[n]},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(n){var r=this,t=this._options.proxy,i;if(!t)throw new Error("No proxy defined");return i=n.substring(0,256),new Promise(function(u,f){var o=a.SUPPORT_RESPONSE_TYPE?"blob":"text",e=new XMLHttpRequest,h,s;e.onload=function(){if(200===e.status)if("text"===o)u(e.response);else{var n=new FileReader;n.addEventListener("load",function(){return u(n.result)},!1);n.addEventListener("error",function(n){return f(n)},!1);n.readAsDataURL(e.response)}else f("Failed to proxy resource "+i+" with status code "+e.status)};e.onerror=f;h=t.indexOf("?")>-1?"&":"?";(e.open("GET",""+t+h+"url="+encodeURIComponent(n)+"&responseType="+o),"text"!==o&&e instanceof XMLHttpRequest&&(e.responseType=o),r._options.imageTimeout)&&(s=r._options.imageTimeout,e.timeout=s,e.ontimeout=function(){return f("Timed out ("+s+"ms) proxying "+i)});e.send()})},n}(),gw=/^data:image\/svg\+xml/i,nb=/^data:image\/.*;base64,/i,tb=/^data:image\/.*/i,ib=function(n){return a.SUPPORT_SVG_DRAWING||!ub(n)},oe=function(n){return tb.test(n)},rb=function(n){return nb.test(n)},se=function(n){return"blob"===n.substr(0,4)},ub=function(n){return"svg"===n.substr(-3).toLowerCase()||gw.test(n)},n=function(){function n(n,t){this.type=0;this.x=n;this.y=t}return n.prototype.add=function(t,i){return new n(this.x+t,this.y+i)},n}(),ri=function(t,i,r){return new n(t.x+(i.x-t.x)*r,t.y+(i.y-t.y)*r)},au=function(){function n(n,t,i,r){this.type=1;this.start=n;this.startControl=t;this.endControl=i;this.end=r}return n.prototype.subdivide=function(t,i){var r=ri(this.start,this.startControl,t),u=ri(this.startControl,this.endControl,t),f=ri(this.endControl,this.end,t),e=ri(r,u,t),o=ri(u,f,t),s=ri(e,o,t);return i?new n(this.start,r,e,s):new n(s,o,f,this.end)},n.prototype.add=function(t,i){return new n(this.start.add(t,i),this.startControl.add(t,i),this.endControl.add(t,i),this.end.add(t,i))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n}(),k=function(n){return 1===n.type},fb=function(t){var w=t.styles,r=t.bounds,st=yi(w.borderTopLeftRadius,r.width,r.height),c=st[0],l=st[1],ht=yi(w.borderTopRightRadius,r.width,r.height),b=ht[0],k=ht[1],ct=yi(w.borderBottomRightRadius,r.width,r.height),a=ct[0],v=ct[1],lt=yi(w.borderBottomLeftRadius,r.width,r.height),p=lt[0],y=lt[1],ft=[],d;ft.push((c+b)/r.width);ft.push((p+a)/r.width);ft.push((l+y)/r.height);ft.push((k+v)/r.height);d=Math.max.apply(Math,ft);d>1&&(c/=d,l/=d,b/=d,k/=d,a/=d,v/=d,p/=d,y/=d);var nt=r.width-b,it=r.height-v,rt=r.width-a,ut=r.height-y,o=w.borderTopWidth,h=w.borderRightWidth,s=w.borderBottomWidth,e=w.borderLeftWidth,tt=u(w.paddingTop,t.bounds.width),ot=u(w.paddingRight,t.bounds.width),et=u(w.paddingBottom,t.bounds.width),g=u(w.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=c>0||l>0?f(r.left+e/3,r.top+o/3,c-e/3,l-o/3,i.TOP_LEFT):new n(r.left+e/3,r.top+o/3);this.topRightBorderDoubleOuterBox=c>0||l>0?f(r.left+nt,r.top+o/3,b-h/3,k-o/3,i.TOP_RIGHT):new n(r.left+r.width-h/3,r.top+o/3);this.bottomRightBorderDoubleOuterBox=a>0||v>0?f(r.left+rt,r.top+it,a-h/3,v-s/3,i.BOTTOM_RIGHT):new n(r.left+r.width-h/3,r.top+r.height-s/3);this.bottomLeftBorderDoubleOuterBox=p>0||y>0?f(r.left+e/3,r.top+ut,p-e/3,y-s/3,i.BOTTOM_LEFT):new n(r.left+e/3,r.top+r.height-s/3);this.topLeftBorderDoubleInnerBox=c>0||l>0?f(r.left+2*e/3,r.top+2*o/3,c-2*e/3,l-2*o/3,i.TOP_LEFT):new n(r.left+2*e/3,r.top+2*o/3);this.topRightBorderDoubleInnerBox=c>0||l>0?f(r.left+nt,r.top+2*o/3,b-2*h/3,k-2*o/3,i.TOP_RIGHT):new n(r.left+r.width-2*h/3,r.top+2*o/3);this.bottomRightBorderDoubleInnerBox=a>0||v>0?f(r.left+rt,r.top+it,a-2*h/3,v-2*s/3,i.BOTTOM_RIGHT):new n(r.left+r.width-2*h/3,r.top+r.height-2*s/3);this.bottomLeftBorderDoubleInnerBox=p>0||y>0?f(r.left+2*e/3,r.top+ut,p-2*e/3,y-2*s/3,i.BOTTOM_LEFT):new n(r.left+2*e/3,r.top+r.height-2*s/3);this.topLeftBorderStroke=c>0||l>0?f(r.left+e/2,r.top+o/2,c-e/2,l-o/2,i.TOP_LEFT):new n(r.left+e/2,r.top+o/2);this.topRightBorderStroke=c>0||l>0?f(r.left+nt,r.top+o/2,b-h/2,k-o/2,i.TOP_RIGHT):new n(r.left+r.width-h/2,r.top+o/2);this.bottomRightBorderStroke=a>0||v>0?f(r.left+rt,r.top+it,a-h/2,v-s/2,i.BOTTOM_RIGHT):new n(r.left+r.width-h/2,r.top+r.height-s/2);this.bottomLeftBorderStroke=p>0||y>0?f(r.left+e/2,r.top+ut,p-e/2,y-s/2,i.BOTTOM_LEFT):new n(r.left+e/2,r.top+r.height-s/2);this.topLeftBorderBox=c>0||l>0?f(r.left,r.top,c,l,i.TOP_LEFT):new n(r.left,r.top);this.topRightBorderBox=b>0||k>0?f(r.left+nt,r.top,b,k,i.TOP_RIGHT):new n(r.left+r.width,r.top);this.bottomRightBorderBox=a>0||v>0?f(r.left+rt,r.top+it,a,v,i.BOTTOM_RIGHT):new n(r.left+r.width,r.top+r.height);this.bottomLeftBorderBox=p>0||y>0?f(r.left,r.top+ut,p,y,i.BOTTOM_LEFT):new n(r.left,r.top+r.height);this.topLeftPaddingBox=c>0||l>0?f(r.left+e,r.top+o,Math.max(0,c-e),Math.max(0,l-o),i.TOP_LEFT):new n(r.left+e,r.top+o);this.topRightPaddingBox=b>0||k>0?f(r.left+Math.min(nt,r.width-h),r.top+o,nt>r.width+h?0:Math.max(0,b-h),Math.max(0,k-o),i.TOP_RIGHT):new n(r.left+r.width-h,r.top+o);this.bottomRightPaddingBox=a>0||v>0?f(r.left+Math.min(rt,r.width-e),r.top+Math.min(it,r.height-s),Math.max(0,a-h),Math.max(0,v-s),i.BOTTOM_RIGHT):new n(r.left+r.width-h,r.top+r.height-s);this.bottomLeftPaddingBox=p>0||y>0?f(r.left+e,r.top+Math.min(ut,r.height-s),Math.max(0,p-e),Math.max(0,y-s),i.BOTTOM_LEFT):new n(r.left+e,r.top+r.height-s);this.topLeftContentBox=c>0||l>0?f(r.left+e+g,r.top+o+tt,Math.max(0,c-(e+g)),Math.max(0,l-(o+tt)),i.TOP_LEFT):new n(r.left+e+g,r.top+o+tt);this.topRightContentBox=b>0||k>0?f(r.left+Math.min(nt,r.width+e+g),r.top+o+tt,nt>r.width+e+g?0:b-e+g,k-(o+tt),i.TOP_RIGHT):new n(r.left+r.width-(h+ot),r.top+o+tt);this.bottomRightContentBox=a>0||v>0?f(r.left+Math.min(rt,r.width-(e+g)),r.top+Math.min(it,r.height+o+tt),Math.max(0,a-(h+ot)),v-(s+et),i.BOTTOM_RIGHT):new n(r.left+r.width-(h+ot),r.top+r.height-(s+et));this.bottomLeftContentBox=p>0||y>0?f(r.left+e+g,r.top+ut,Math.max(0,p-(e+g)),y-(s+et),i.BOTTOM_LEFT):new n(r.left+e+g,r.top+r.height-(s+et))};!function(n){n[n.TOP_LEFT=0]="TOP_LEFT";n[n.TOP_RIGHT=1]="TOP_RIGHT";n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT";n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(i||(i={}));var f=function(t,r,u,f,e){var l=(Math.sqrt(2)-1)/3*4,h=u*l,c=f*l,o=t+u,s=r+f;switch(e){case i.TOP_LEFT:return new au(new n(t,s),new n(t,s-c),new n(o-h,r),new n(o,r));case i.TOP_RIGHT:return new au(new n(t,r),new n(t+h,r),new n(o,s-c),new n(o,s));case i.BOTTOM_RIGHT:return new au(new n(o,r),new n(o,r+c),new n(t+h,s),new n(t,s));case i.BOTTOM_LEFT:default:return new au(new n(o,s),new n(o-h,s),new n(t,r+c),new n(t,r))}},vu=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},yu=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},eb=function(n,t,i){this.offsetX=n;this.offsetY=t;this.matrix=i;this.type=0;this.target=6},pu=function(n,t){this.path=n;this.target=t;this.type=1},ob=function(n){this.opacity=n;this.type=2;this.target=6},ch=function(n){return 1===n.type},lh=function(n,t){return n.length===t.length&&n.some(function(n,i){return n===t[i]})},ah=function(n){this.element=n;this.inlineLevel=[];this.nonInlineLevel=[];this.negativeZIndex=[];this.zeroOrAutoZIndexOrTransformedOrOpacity=[];this.positiveZIndex=[];this.nonPositionedFloats=[];this.nonPositionedInlineLevel=[]},vh=function(){function n(n,t){var i,r;if(this.container=n,this.parent=t,this.effects=[],this.curves=new fb(this.container),this.container.styles.opacity<1&&this.effects.push(new ob(this.container.styles.opacity)),null!==this.container.styles.transform){var u=this.container.bounds.left+this.container.styles.transformOrigin[0].number,f=this.container.bounds.top+this.container.styles.transformOrigin[1].number,e=this.container.styles.transform;this.effects.push(new eb(u,f,e))}0!==this.container.styles.overflowX&&(i=vu(this.curves),r=yu(this.curves),lh(i,r)?this.effects.push(new pu(i,6)):(this.effects.push(new pu(i,2)),this.effects.push(new pu(r,4))))}return n.prototype.getEffects=function(n){for(var r,e,u,f=-1===[2,3].indexOf(this.container.styles.position),t=this.parent,i=this.effects.slice(0);t;)r=t.effects.filter(function(n){return!ch(n)}),f||0!==t.container.styles.position||!t.parent?(i.unshift.apply(i,r),f=-1===[2,3].indexOf(t.container.styles.position),0!==t.container.styles.overflowX)&&(e=vu(t.curves),u=yu(t.curves),lh(e,u)||i.unshift(new pu(u,6))):i.unshift.apply(i,r),t=t.parent;return i.filter(function(t){return h(t.target,n)})},n}(),he=function(n,t,i,r){n.container.elements.forEach(function(u){var v=h(u.flags,4),y=h(u.flags,2),o=new vh(u,n),c,f,e,s,l,a;h(u.styles.display,2048)&&r.push(o);c=h(u.flags,8)?[]:r;v||y?(f=v||u.styles.isPositioned()?i:t,e=new ah(o),u.styles.isPositioned()||u.styles.opacity<1||u.styles.isTransformed()?(s=u.styles.zIndex.order,s<0?(l=0,f.negativeZIndex.some(function(n,t){return s>n.element.container.styles.zIndex.order?(l=t,!1):l>0}),f.negativeZIndex.splice(l,0,e)):s>0?(a=0,f.positiveZIndex.some(function(n,t){return s>=n.element.container.styles.zIndex.order?(a=t+1,!1):a>0}),f.positiveZIndex.splice(a,0,e)):f.zeroOrAutoZIndexOrTransformedOrOpacity.push(e)):u.styles.isFloating()?f.nonPositionedFloats.push(e):f.nonPositionedInlineLevel.push(e),he(o,e,v?e:i,c)):(u.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),he(o,t,i,c));h(u.flags,8)&&yh(u,c)})},yh=function(n,t){for(var i,r=n instanceof df?n.start:1,f=n instanceof df&&n.reversed,u=0;u<t.length;u++)i=t[u],i.container instanceof as&&"number"==typeof i.container.value&&0!==i.container.value&&(r=i.container.value),i.listValue=di(r,i.container.styles.listStyleType,!0),r+=f?-1:1},ph=function(n,t){switch(t){case 0:return d(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return d(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return d(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return d(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},wu=function(n,t){var i=[];return k(n)?i.push(n.subdivide(.5,!1)):i.push(n),k(t)?i.push(t.subdivide(.5,!0)):i.push(t),i},d=function(n,t,i,r){var u=[];return k(n)?u.push(n.subdivide(.5,!1)):u.push(n),k(i)?u.push(i.subdivide(.5,!0)):u.push(i),k(r)?u.push(r.subdivide(.5,!0).reverse()):u.push(r),k(t)?u.push(t.subdivide(.5,!1).reverse()):u.push(t),u},wh=function(n){var i=n.bounds,t=n.styles;return i.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},bu=function(n){var t=n.styles,i=n.bounds,r=u(t.paddingLeft,i.width),e=u(t.paddingRight,i.width),f=u(t.paddingTop,i.width),o=u(t.paddingBottom,i.width);return i.add(r+t.borderLeftWidth,f+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+e),-(t.borderTopWidth+t.borderBottomWidth+f+o))},ce=function(n,t,i){var r=function(n,t){return 0===n?t.bounds:2===n?bu(t):wh(t)}(fi(n.styles.backgroundOrigin,t),n),s=function(n,t){return 0===n?t.bounds:2===n?bu(t):wh(t)}(fi(n.styles.backgroundClip,t),n),u=sb(fi(n.styles.backgroundSize,t),i,r),e=u[0],o=u[1],f=yi(fi(n.styles.backgroundPosition,t),r.width-e,r.height-o);return[hb(fi(n.styles.backgroundRepeat,t),f,u,r,s),Math.round(r.left+f[0]),Math.round(r.top+f[1]),e,o]},ui=function(n){return r(n)&&n.value===ni.AUTO},ku=function(n){return"number"==typeof n},sb=function(n,t,i){var h=t[0],c=t[1],o=t[2],f=n[0],e=n[1],b,p,w,l,a;if(!f)return[0,0];if(s(f)&&e&&s(e))return[u(f,i.width),u(e,i.height)];if(b=ku(o),r(f)&&(f.value===ni.CONTAIN||f.value===ni.COVER))return ku(o)?i.width/i.height<o!=(f.value===ni.COVER)?[i.width,i.width/o]:[i.height*o,i.height]:[i.width,i.height];var v=ku(h),y=ku(c),k=v||y;if(ui(f)&&(!e||ui(e)))return v&&y?[h,c]:b||k?k&&b?[v?h:c*o,y?c:h/o]:[v?h:i.width,y?c:i.height]:[i.width,i.height];if(b)return p=0,w=0,s(f)?p=u(f,i.width):s(e)&&(w=u(e,i.height)),ui(f)?p=w*o:e&&!ui(e)||(w=p/o),[p,w];if(l=null,a=null,s(f)?l=u(f,i.width):e&&s(e)&&(a=u(e,i.height)),null===l||e&&!ui(e)||(a=v&&y?l/h*c:i.height),null!==a&&ui(f)&&(l=v&&y?a/c*h:i.width),null!==l&&null!==a)return[l,a];throw new Error("Unable to calculate background-size for element");},fi=function(n,t){var i=n[t];return void 0===i?n[0]:i},hb=function(t,i,r,u,f){var e=i[0],o=i[1],s=r[0],h=r[1];switch(t){case 2:return[new n(Math.round(u.left),Math.round(u.top+o)),new n(Math.round(u.left+u.width),Math.round(u.top+o)),new n(Math.round(u.left+u.width),Math.round(h+u.top+o)),new n(Math.round(u.left),Math.round(h+u.top+o))];case 3:return[new n(Math.round(u.left+e),Math.round(u.top)),new n(Math.round(u.left+e+s),Math.round(u.top)),new n(Math.round(u.left+e+s),Math.round(u.height+u.top)),new n(Math.round(u.left+e),Math.round(u.height+u.top))];case 1:return[new n(Math.round(u.left+e),Math.round(u.top+o)),new n(Math.round(u.left+e+s),Math.round(u.top+o)),new n(Math.round(u.left+e+s),Math.round(u.top+o+h)),new n(Math.round(u.left+e),Math.round(u.top+o+h))];default:return[new n(Math.round(f.left),Math.round(f.top)),new n(Math.round(f.left+f.width),Math.round(f.top)),new n(Math.round(f.left+f.width),Math.round(f.height+f.top)),new n(Math.round(f.left),Math.round(f.height+f.top))]}},cb=function(){function n(n){this._data={};this._document=n}return n.prototype.parseMetrics=function(n,t){var i=this._document.createElement("div"),r=this._document.createElement("img"),u=this._document.createElement("span"),f=this._document.body,e,o;return i.style.visibility="hidden",i.style.fontFamily=n,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",f.appendChild(i),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",u.style.fontFamily=n,u.style.fontSize=t,u.style.margin="0",u.style.padding="0",u.appendChild(this._document.createTextNode("Hidden Text")),i.appendChild(u),i.appendChild(r),e=r.offsetTop-u.offsetTop+2,i.removeChild(u),i.appendChild(this._document.createTextNode("Hidden Text")),i.style.lineHeight="normal",r.style.verticalAlign="super",o=r.offsetTop-i.offsetTop+2,f.removeChild(i),{baseline:e,middle:o}},n.prototype.getMetrics=function(n,t){var i=n+" "+t;return void 0===this._data[i]&&(this._data[i]=this.parseMetrics(n,t)),this._data[i]},n}(),bh=function(n,t){this.context=n;this.options=t},lb=function(t){function i(n,i){var r=t.call(this,n,i)||this;return r._activeEffects=[],r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),i.canvas||(r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px"),r.fontMetrics=new cb(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),r}return g(i,t),i.prototype.applyEffects=function(n){for(var t=this;this._activeEffects.length;)this.popEffect();n.forEach(function(n){return t.applyEffect(n)})},i.prototype.applyEffect=function(n){this.ctx.save(),function(n){return 2===n.type}(n)&&(this.ctx.globalAlpha=n.opacity),function(n){return 0===n.type}(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY));ch(n)&&(this.path(n.path),this.ctx.clip());this._activeEffects.push(n)},i.prototype.popEffect=function(){this._activeEffects.pop();this.ctx.restore()},i.prototype.renderStack=function(n){return y(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return n.element.container.styles.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:t.sent();t.label=2;case 2:return[2]}})})},i.prototype.renderNode=function(n){return y(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return h(n.container.flags,16),n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(n)];case 2:t.sent();t.label=3;case 3:return[2]}})})},i.prototype.renderTextWithLetterSpacing=function(n,t,i){var r=this;0===t?this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i):kf(n.text).reduce(function(t,u){return r.ctx.fillText(u,t,n.bounds.top+i),t+r.ctx.measureText(u).width},n.bounds.left)},i.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(n){return"normal"===n||"small-caps"===n}).join(""),t=wb(n.fontFamily).join(", "),i=vi(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,i,t].join(" "),t,i]},i.prototype.renderTextNode=function(n,t){return y(this,void 0,void 0,function(){var u,e,o,s,f,r,h,l,i=this;return v(this,function(){return u=this.createFontStyle(t),e=u[0],o=u[1],s=u[2],this.ctx.font=e,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",f=this.fontMetrics.getMetrics(o,s),r=f.baseline,h=f.middle,l=t.paintOrder,n.textBounds.forEach(function(n){l.forEach(function(u){switch(u){case 0:i.ctx.fillStyle=c(t.color);i.renderTextWithLetterSpacing(n,t.letterSpacing,r);var f=t.textShadow;f.length&&n.text.trim().length&&(f.slice(0).reverse().forEach(function(u){i.ctx.shadowColor=c(u.color);i.ctx.shadowOffsetX=u.offsetX.number*i.options.scale;i.ctx.shadowOffsetY=u.offsetY.number*i.options.scale;i.ctx.shadowBlur=u.blur.number;i.renderTextWithLetterSpacing(n,t.letterSpacing,r)}),i.ctx.shadowColor="",i.ctx.shadowOffsetX=0,i.ctx.shadowOffsetY=0,i.ctx.shadowBlur=0);t.textDecorationLine.length&&(i.ctx.fillStyle=c(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:i.ctx.fillRect(n.bounds.left,Math.round(n.bounds.top+r),n.bounds.width,1);break;case 2:i.ctx.fillRect(n.bounds.left,Math.round(n.bounds.top),n.bounds.width,1);break;case 3:i.ctx.fillRect(n.bounds.left,Math.ceil(n.bounds.top+h),n.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&n.text.trim().length&&(i.ctx.strokeStyle=c(t.webkitTextStrokeColor),i.ctx.lineWidth=t.webkitTextStrokeWidth,i.ctx.lineJoin=window.chrome?"miter":"round",i.ctx.strokeText(n.text,n.bounds.left,n.bounds.top+r));i.ctx.strokeStyle="";i.ctx.lineWidth=0;i.ctx.lineJoin="miter"}})}),[2]})})},i.prototype.renderReplacedElement=function(n,t,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var r=bu(n),u=yu(t);this.path(u);this.ctx.save();this.ctx.clip();this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,r.left,r.top,r.width,r.height);this.ctx.restore()}},i.prototype.renderNodeContent=function(t){return y(this,void 0,void 0,function(){var r,a,o,y,w,d,g,e,b,nt,tt,p,it,ut,s,k,l,f;return v(this,function(v){switch(v.label){case 0:this.applyEffects(t.getEffects(4));r=t.container;a=t.curves;o=r.styles;y=0;w=r.textNodes;v.label=1;case 1:return y<w.length?(d=w[y],[4,this.renderTextNode(d,o)]):[3,4];case 2:v.sent();v.label=3;case 3:return y++,[3,1];case 4:if(!(r instanceof hs))return[3,8];v.label=5;case 5:return v.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return s=v.sent(),this.renderReplacedElement(r,a,s),[3,8];case 7:return v.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof cs&&this.renderReplacedElement(r,a,r.canvas),!(r instanceof ls))return[3,12];v.label=9;case 9:return v.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return s=v.sent(),this.renderReplacedElement(r,a,s),[3,12];case 11:return v.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof ps&&r.tree?[4,new i(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}).render(r.tree)]:[3,14];case 13:g=v.sent();r.width&&r.height&&this.ctx.drawImage(g,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height);v.label=14;case 14:if(r instanceof gf&&(e=Math.min(r.bounds.width,r.bounds.height),"checkbox"===r.type?r.checked&&(this.ctx.save(),this.path([new n(r.bounds.left+.39363*e,r.bounds.top+.79*e),new n(r.bounds.left+.16*e,r.bounds.top+.5549*e),new n(r.bounds.left+.27347*e,r.bounds.top+.44071*e),new n(r.bounds.left+.39694*e,r.bounds.top+.5649*e),new n(r.bounds.left+.72983*e,r.bounds.top+.23*e),new n(r.bounds.left+.84*e,r.bounds.top+.34085*e),new n(r.bounds.left+.39363*e,r.bounds.top+.79*e)]),this.ctx.fillStyle=c(707406591),this.ctx.fill(),this.ctx.restore()):"radio"===r.type&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+e/2,r.bounds.top+e/2,e/4,0,2*Math.PI,!0),this.ctx.fillStyle=c(707406591),this.ctx.fill(),this.ctx.restore())),ab(r)&&r.value.length){switch(b=this.createFontStyle(o),l=b[0],nt=b[1],tt=this.fontMetrics.getMetrics(l,nt).baseline,this.ctx.font=l,this.ctx.fillStyle=c(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=yb(r.styles.textAlign),f=bu(r),p=0,r.styles.textAlign){case 1:p+=f.width/2;break;case 2:p+=f.width}it=f.add(p,0,0,-f.height/2+1);this.ctx.save();this.path([new n(f.left,f.top),new n(f.left+f.width,f.top),new n(f.left+f.width,f.top+f.height),new n(f.left,f.top+f.height)]);this.ctx.clip();this.renderTextWithLetterSpacing(new ki(r.value,it),o.letterSpacing,tt);this.ctx.restore();this.ctx.textBaseline="alphabetic";this.ctx.textAlign="left"}if(!h(r.styles.display,2048))return[3,20];if(null===r.styles.listStyleImage)return[3,19];if(0!==(ut=r.styles.listStyleImage).type)return[3,18];s=void 0;k=ut.url;v.label=15;case 15:return v.trys.push([15,17,,18]),[4,this.context.cache.match(k)];case 16:return s=v.sent(),this.ctx.drawImage(s,r.bounds.left-(s.width+10),r.bounds.top),[3,18];case 17:return v.sent(),this.context.logger.error("Error loading list-style-image "+k),[3,18];case 18:return[3,20];case 19:t.listValue&&-1!==r.styles.listStyleType&&(l=this.createFontStyle(o)[0],this.ctx.font=l,this.ctx.fillStyle=c(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",f=new rt(r.bounds.left,r.bounds.top+u(r.styles.paddingTop,r.bounds.width),r.bounds.width,po(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ki(t.listValue,f),o.letterSpacing,po(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left");v.label=20;case 20:return[2]}})})},i.prototype.renderStackContent=function(n){return y(this,void 0,void 0,function(){var i,c,r,l,u,a,f,y,e,p,o,w,s,b,t;return v(this,function(v){switch(v.label){case 0:return h(n.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:v.sent();i=0;c=n.negativeZIndex;v.label=2;case 2:return i<c.length?(t=c[i],[4,this.renderStack(t)]):[3,5];case 3:v.sent();v.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:v.sent();r=0;l=n.nonInlineLevel;v.label=7;case 7:return r<l.length?(t=l[r],[4,this.renderNode(t)]):[3,10];case 8:v.sent();v.label=9;case 9:return r++,[3,7];case 10:u=0;a=n.nonPositionedFloats;v.label=11;case 11:return u<a.length?(t=a[u],[4,this.renderStack(t)]):[3,14];case 12:v.sent();v.label=13;case 13:return u++,[3,11];case 14:f=0;y=n.nonPositionedInlineLevel;v.label=15;case 15:return f<y.length?(t=y[f],[4,this.renderStack(t)]):[3,18];case 16:v.sent();v.label=17;case 17:return f++,[3,15];case 18:e=0;p=n.inlineLevel;v.label=19;case 19:return e<p.length?(t=p[e],[4,this.renderNode(t)]):[3,22];case 20:v.sent();v.label=21;case 21:return e++,[3,19];case 22:o=0;w=n.zeroOrAutoZIndexOrTransformedOrOpacity;v.label=23;case 23:return o<w.length?(t=w[o],[4,this.renderStack(t)]):[3,26];case 24:v.sent();v.label=25;case 25:return o++,[3,23];case 26:s=0;b=n.positiveZIndex;v.label=27;case 27:return s<b.length?(t=b[s],[4,this.renderStack(t)]):[3,30];case 28:v.sent();v.label=29;case 29:return s++,[3,27];case 30:return[2]}})})},i.prototype.mask=function(n){this.ctx.beginPath();this.ctx.moveTo(0,0);this.ctx.lineTo(this.canvas.width,0);this.ctx.lineTo(this.canvas.width,this.canvas.height);this.ctx.lineTo(0,this.canvas.height);this.ctx.lineTo(0,0);this.formatPath(n.slice(0).reverse());this.ctx.closePath()},i.prototype.path=function(n){this.ctx.beginPath();this.formatPath(n);this.ctx.closePath()},i.prototype.formatPath=function(n){var t=this;n.forEach(function(n,i){var r=k(n)?n.start:n;0===i?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y);k(n)&&t.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},i.prototype.renderRepeat=function(n,t,i,r){this.path(n);this.ctx.fillStyle=t;this.ctx.translate(i,r);this.ctx.fill();this.ctx.translate(-i,-r)},i.prototype.resizeImage=function(n,t,i){var u,r;return n.width===t&&n.height===i?n:(r=(null!==(u=this.canvas.ownerDocument)&&void 0!==u?u:document).createElement("canvas"),r.width=Math.max(1,t),r.height=Math.max(1,i),r.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,t,i),r)},i.prototype.renderBackgroundImage=function(n){return y(this,void 0,void 0,function(){var i,e,t,r,f,o;return v(this,function(s){switch(s.label){case 0:i=n.styles.backgroundImage.length-1;e=function(r){var o,et,l,a,y,at,vt,yt,pt,wt,d,g,ot,tt,p,w,it,rt,f,e,ut,s,h,st,b,ft,ht,ct,k,bt,lt;return v(this,function(v){switch(v.label){case 0:if(0!==r.type)return[3,5];o=void 0;et=r.url;v.label=1;case 1:return v.trys.push([1,3,,4]),[4,t.context.cache.match(et)];case 2:return o=v.sent(),[3,4];case 3:return v.sent(),t.context.logger.error("Error loading background-image "+et),[3,4];case 4:return o&&(l=ce(n,i,[o.width,o.height,o.width/o.height]),w=l[0],s=l[1],h=l[2],f=l[3],e=l[4],tt=t.ctx.createPattern(t.resizeImage(o,f,e),"repeat"),t.renderRepeat(w,tt,s,h)),[3,6];case 5:1===r.type?(a=ce(n,i,[null,null,null]),w=a[0],s=a[1],h=a[2],f=a[3],e=a[4],y=yl(r.angle,f,e),at=y[0],vt=y[1],yt=y[2],pt=y[3],wt=y[4],(d=document.createElement("canvas")).width=f,d.height=e,g=d.getContext("2d"),ot=g.createLinearGradient(vt,pt,yt,wt),ao(r.stops,at).forEach(function(n){return ot.addColorStop(n.stop,c(n.color))}),g.fillStyle=ot,g.fillRect(0,0,f,e),f>0&&e>0&&(tt=t.ctx.createPattern(d,"repeat"),t.renderRepeat(w,tt,s,h))):function(n){return 2===n.type}(r)&&(p=ce(n,i,[null,null,null]),w=p[0],it=p[1],rt=p[2],f=p[3],e=p[4],ut=0===r.position.length?[cf]:r.position,s=u(ut[0],f),h=u(ut[ut.length-1],e),st=function(n,t,i,r,f){var e=0,o=0,l;switch(n.size){case 0:0===n.shape?e=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(i),Math.abs(i-f)):1===n.shape&&(e=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(i),Math.abs(i-f)));break;case 2:if(0===n.shape)e=o=Math.min(nt(t,i),nt(t,i-f),nt(t-r,i),nt(t-r,i-f));else if(1===n.shape){var s=Math.min(Math.abs(i),Math.abs(i-f))/Math.min(Math.abs(t),Math.abs(t-r)),a=vo(r,f,t,i,!0),h=a[0],c=a[1];o=s*(e=nt(h-t,(c-i)/s))}break;case 1:0===n.shape?e=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(i),Math.abs(i-f)):1===n.shape&&(e=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(i),Math.abs(i-f)));break;case 3:0===n.shape?e=o=Math.max(nt(t,i),nt(t,i-f),nt(t-r,i),nt(t-r,i-f)):1===n.shape&&(s=Math.max(Math.abs(i),Math.abs(i-f))/Math.max(Math.abs(t),Math.abs(t-r)),l=vo(r,f,t,i,!1),h=l[0],c=l[1],o=s*(e=nt(h-t,(c-i)/s)))}return Array.isArray(n.size)&&(e=u(n.size[0],r),o=2===n.size.length?u(n.size[1],f):e),[e,o]}(r,s,h,f,e),b=st[0],ft=st[1],b>0&&ft>0&&(ht=t.ctx.createRadialGradient(it+s,rt+h,0,it+s,rt+h,b),ao(r.stops,2*b).forEach(function(n){return ht.addColorStop(n.stop,c(n.color))}),t.path(w),t.ctx.fillStyle=ht,b!==ft?(ct=n.bounds.left+.5*n.bounds.width,k=n.bounds.top+.5*n.bounds.height,lt=1/(bt=ft/b),t.ctx.save(),t.ctx.translate(ct,k),t.ctx.transform(1,0,0,bt,0,0),t.ctx.translate(-ct,-k),t.ctx.fillRect(it,lt*(rt-k)+k,f,e*lt),t.ctx.restore()):t.ctx.fill()));v.label=6;case 6:return i--,[2]}})};t=this;r=0;f=n.styles.backgroundImage.slice(0).reverse();s.label=1;case 1:return r<f.length?(o=f[r],[5,e(o)]):[3,4];case 2:s.sent();s.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},i.prototype.renderSolidBorder=function(n,t,i){return y(this,void 0,void 0,function(){return v(this,function(){return this.path(ph(i,t)),this.ctx.fillStyle=c(n),this.ctx.fill(),[2]})})},i.prototype.renderDoubleBorder=function(n,t,i,r){return y(this,void 0,void 0,function(){var u,f;return v(this,function(e){switch(e.label){case 0:return t<3?[4,this.renderSolidBorder(n,i,r)]:[3,2];case 1:return e.sent(),[2];case 2:return u=function(n,t){switch(t){case 0:return d(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return d(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return d(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return d(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}}(r,i),this.path(u),this.ctx.fillStyle=c(n),this.ctx.fill(),f=function(n,t){switch(t){case 0:return d(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return d(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return d(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return d(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}}(r,i),this.path(f),this.ctx.fill(),[2]}})})},i.prototype.renderNodeBackgroundAndBorders=function(n){return y(this,void 0,void 0,function(){var t,o,s,h,u,f,e,r,i=this;return v(this,function(l){switch(l.label){case 0:return this.applyEffects(n.getEffects(2)),t=n.container.styles,o=!at(t.backgroundColor)||t.backgroundImage.length,s=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],h=vb(fi(t.backgroundClip,0),n.curves),o||t.boxShadow.length?(this.ctx.save(),this.path(h),this.ctx.clip(),at(t.backgroundColor)||(this.ctx.fillStyle=c(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:l.sent();this.ctx.restore();t.boxShadow.slice(0).reverse().forEach(function(t){i.ctx.save();var s,r,u,f,e,o=vu(n.curves),h=t.inset?0:1e4,l=(s=o,r=-h+(t.inset?1:-1)*t.spread.number,u=(t.inset?1:-1)*t.spread.number,f=t.spread.number*(t.inset?-2:2),e=t.spread.number*(t.inset?-2:2),s.map(function(n,t){switch(t){case 0:return n.add(r,u);case 1:return n.add(r+f,u);case 2:return n.add(r+f,u+e);case 3:return n.add(r,u+e)}return n}));t.inset?(i.path(o),i.ctx.clip(),i.mask(l)):(i.mask(o),i.ctx.clip(),i.path(l));i.ctx.shadowOffsetX=t.offsetX.number+h;i.ctx.shadowOffsetY=t.offsetY.number;i.ctx.shadowColor=c(t.color);i.ctx.shadowBlur=t.blur.number;i.ctx.fillStyle=t.inset?c(t.color):"rgba(0,0,0,1)";i.ctx.fill();i.ctx.restore()});l.label=2;case 2:u=0;f=0;e=s;l.label=3;case 3:return f<e.length?0!==(r=e[f]).style&&!at(r.color)&&r.width>0?2!==r.style?[3,5]:[4,this.renderDashedDottedBorder(r.color,r.width,u,n.curves,2)]:[3,11]:[3,13];case 4:return l.sent(),[3,11];case 5:return 3!==r.style?[3,7]:[4,this.renderDashedDottedBorder(r.color,r.width,u,n.curves,3)];case 6:return l.sent(),[3,11];case 7:return 4!==r.style?[3,9]:[4,this.renderDoubleBorder(r.color,r.width,u,n.curves)];case 8:return l.sent(),[3,11];case 9:return[4,this.renderSolidBorder(r.color,u,n.curves)];case 10:l.sent();l.label=11;case 11:u++;l.label=12;case 12:return f++,[3,3];case 13:return[2]}})})},i.prototype.renderDashedDottedBorder=function(t,i,r,u,f){return y(this,void 0,void 0,function(){var it,e,p,w,b,d,h,s,o,g,rt,y,nt,tt,l,a;return v(this,function(){return this.ctx.save(),it=function(n,t){switch(t){case 0:return wu(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return wu(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return wu(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return wu(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}}(u,r),e=ph(u,r),2===f&&(this.path(e),this.ctx.clip()),k(e[0])?(p=e[0].start.x,w=e[0].start.y):(p=e[0].x,w=e[0].y),k(e[1])?(b=e[1].end.x,d=e[1].end.y):(b=e[1].x,d=e[1].y),h=0===r||2===r?Math.abs(p-b):Math.abs(w-d),this.ctx.beginPath(),3===f?this.formatPath(it):this.formatPath(e.slice(0,2)),s=i<3?3*i:2*i,o=i<3?2*i:i,3===f&&(s=i,o=i),g=!0,h<=2*s?g=!1:h<=2*s+o?(s*=rt=h/(2*s+o),o*=rt):(y=Math.floor((h+o)/(s+o)),nt=(h-y*s)/(y-1),o=(tt=(h-(y+1)*s)/y)<=0||Math.abs(o-nt)<Math.abs(o-tt)?nt:tt),g&&(3===f?this.ctx.setLineDash([0,s+o]):this.ctx.setLineDash([s,o])),3===f?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=2*i+1.1,this.ctx.strokeStyle=c(t),this.ctx.stroke(),this.ctx.setLineDash([]),2===f&&(k(e[0])&&(l=e[3],a=e[0],this.ctx.beginPath(),this.formatPath([new n(l.end.x,l.end.y),new n(a.start.x,a.start.y)]),this.ctx.stroke()),k(e[1])&&(l=e[1],a=e[2],this.ctx.beginPath(),this.formatPath([new n(l.end.x,l.end.y),new n(a.start.x,a.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},i.prototype.render=function(n){return y(this,void 0,void 0,function(){var t;return v(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=c(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=new vh(n,null),u=new ah(r),he(r,u,u,f=[]),yh(r.container,f),t=u,[4,this.renderStack(t)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}var r,u,f})})},i}(bh),ab=function(n){return n instanceof ys||n instanceof vs||n instanceof gf&&"radio"!==n.type&&"checkbox"!==n.type},vb=function(n,t){switch(n){case 0:return vu(t);case 2:return function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]}(t);case 1:default:return yu(t)}},yb=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},pb=["-apple-system","system-ui"],wb=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(n){return-1===pb.indexOf(n)}):n},bb=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=i,r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),r}return g(t,n),t.prototype.render=function(n){return y(this,void 0,void 0,function(){var t,i;return v(this,function(r){switch(r.label){case 0:return t=bf(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,kb(t)];case 1:return i=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=c(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(bh),kb=function(n){return new Promise(function(t,i){var r=new Image;r.onload=function(){t(r)};r.onerror=i;r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(n))})},db=function(){function n(n){var t=n.id,i=n.enabled;this.id=t;this.enabled=i;this.start=Date.now()}return n.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,nr([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,nr([this.id,this.getTime()+"ms"],t))},n.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,nr([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},n.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,nr([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},n.instances={},n}(),gb=function(){function n(t,i){var r;this.windowBounds=i;this.instanceName="#"+n.instanceCount++;this.logger=new db({id:this.instanceName,enabled:t.logging});this.cache=null!==(r=t.cache)&&void 0!==r?r:new dw(this,t)}return n.instanceCount=1,n}();return"undefined"!=typeof window&&hh.setContext(window),kh=function(n,t){return y(void 0,void 0,void 0,function(){var l,e,kt,dt,o,u,i,h,gt,a,r,ni,s,y,p,w,b,k,f,d,c,g,nt,tt,it,ut,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt;return v(this,function(v){switch(v.label){case 0:if(!n||"object"!=typeof n)return[2,Promise.reject("Invalid element provided as first argument")];if(!(l=n.ownerDocument))throw new Error("Element is not attached to a Document");if(!(e=l.defaultView))throw new Error("Document is not attached to a Window");return kt={allowTaint:null!==(g=t.allowTaint)&&void 0!==g&&g,imageTimeout:null!==(nt=t.imageTimeout)&&void 0!==nt?nt:15e3,proxy:t.proxy,useCORS:null!==(tt=t.useCORS)&&void 0!==tt&&tt},dt=ae({logging:null===(it=t.logging)||void 0===it||it,cache:t.cache},kt),o={windowWidth:null!==(ut=t.windowWidth)&&void 0!==ut?ut:e.innerWidth,windowHeight:null!==(et=t.windowHeight)&&void 0!==et?et:e.innerHeight,scrollX:null!==(ot=t.scrollX)&&void 0!==ot?ot:e.pageXOffset,scrollY:null!==(st=t.scrollY)&&void 0!==st?st:e.pageYOffset},u=new rt(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),i=new gb(dt,u),h=null!==(ht=t.foreignObjectRendering)&&void 0!==ht&&ht,gt={allowTaint:null!==(ct=t.allowTaint)&&void 0!==ct&&ct,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:h,copyStyles:h},i.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),a=new re(i,n,gt),(r=a.clonedReferenceElement)?[4,a.toIFrame(l,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return ni=v.sent(),s=te(r)||"HTML"===r.tagName?function(n){var t=n.body,i=n.documentElement,r,u;if(!t||!i)throw new Error("Unable to get document size");return r=Math.max(Math.max(t.scrollWidth,i.scrollWidth),Math.max(t.offsetWidth,i.offsetWidth),Math.max(t.clientWidth,i.clientWidth)),u=Math.max(Math.max(t.scrollHeight,i.scrollHeight),Math.max(t.offsetHeight,i.offsetHeight),Math.max(t.clientHeight,i.clientHeight)),new rt(0,0,r,u)}(r.ownerDocument):tr(i,r),y=s.width,p=s.height,w=s.left,b=s.top,k=dh(i,r,t.backgroundColor),f={canvas:t.canvas,backgroundColor:k,scale:null!==(at=null!==(lt=t.scale)&&void 0!==lt?lt:e.devicePixelRatio)&&void 0!==at?at:1,x:(null!==(vt=t.x)&&void 0!==vt?vt:0)+w,y:(null!==(yt=t.y)&&void 0!==yt?yt:0)+b,width:null!==(pt=t.width)&&void 0!==pt?pt:Math.ceil(y),height:null!==(wt=t.height)&&void 0!==wt?wt:Math.ceil(p)},h?(i.logger.debug("Document cloned, using foreign object rendering"),[4,new bb(i,f).render(r)]):[3,3];case 2:return d=v.sent(),[3,5];case 3:return i.logger.debug("Document cloned, element located at "+w+","+b+" with size "+y+"x"+p+" using computed rendering"),i.logger.debug("Starting DOM parsing"),c=bs(i,r),k===c.styles.backgroundColor&&(c.styles.backgroundColor=ft.TRANSPARENT),i.logger.debug("Starting renderer for element at "+f.x+","+f.y+" with size "+f.width+"x"+f.height),[4,new lb(i,f).render(c)];case 4:d=v.sent();v.label=5;case 5:return(null===(bt=t.removeContainer)||void 0===bt||bt)&&(re.destroy(ni)||i.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),i.logger.debug("Finished rendering"),[2,d]}})})},dh=function(n,t,i){var r=t.ownerDocument,u=r.documentElement?pi(n,getComputedStyle(r.documentElement).backgroundColor):ft.TRANSPARENT,f=r.body?pi(n,getComputedStyle(r.body).backgroundColor):ft.TRANSPARENT,e="string"==typeof i?pi(n,i):null===i?ft.TRANSPARENT:4294967295;return t===r.documentElement?at(u)?at(f)?e:f:u:e},function(n,t){return void 0===t&&(t={}),kh(n,t)}}()},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RATINGS_LIST_LENGTH=t.CVSurveyPositionDefaults=t.CV_LOG_EVENT=t.CV_CANCEL_EVENT=t.CV_LOADED_EVENT=t.CV_SUBMIT_EVENT=t.EVENT_HANDLER_ERROR=t.GATECRASH_ON_SURVEY_LOAD=t.GATECRASH_ON_SURVEY_CANCEL=t.EVENT_RESPONSE_DATA_ERROR=t.GATECRASH_ON_SURVEY_DATA_SUBMIT=t.GATECRASH_RENDER_ERROR=t.SURVEY_DIV_ID=t.RESPONSE_PAGE_IFRAME_ID=t.OVERLAY_DIV_ID=t.IFRAME_ID=t.ICON_DIV_ID=t.FORMSPRO_BASE_URL=t.DEFAULT_BASE_URL=t.DEFAULT_TEXT_CONTENT=t.DEFAULT_FRAME_CONTAINER_WIDTH=t.DEFAULT_FRAME_CONTAINER_HEIGHT=t.DEFAULT_FRAME_CONTAINER_ID=t.DEFAULT_ERR_MSG=t.DEFAULT_EXPAND_HEIGHT=t.DEFAULT_COLLAPSE_HEIGHT=t.CDN_URL=t.CONTAINTER_SPAN_TEXT_ID=t.CONTAINER_BUTTON_ID=t.CLOSE_ICON_SOURCE=t.CLOSE_ICON_ID=t.CLOSE_BUTTON_ID=t.BUTTON_IFRAME_ID=t.BUTTON_CONTAINER_COLLAPSE=t.BUTTON_CONTAINER=t.ARROW_ICON_ID=void 0;t.ARROW_ICON_ID="MfpEmbed_Icon_Arrow";t.BUTTON_CONTAINER="MfpEmbed_Button_Container";t.BUTTON_CONTAINER_COLLAPSE="MfpEmbed_Button_Container_Collapse";t.BUTTON_IFRAME_ID="MfpEmbed_Button_Iframe";t.CLOSE_BUTTON_ID="closeButton";t.CLOSE_ICON_ID="MfpEmbed_CrossButton";t.CLOSE_ICON_SOURCE="cross.svg";t.CONTAINER_BUTTON_ID="MfpEmbed_Button";t.CONTAINTER_SPAN_TEXT_ID="MfpEmbed_Span";t.CDN_URL="https://mfpembedcdnwus2.azureedge.net/mfpembedcontwus2/";t.DEFAULT_COLLAPSE_HEIGHT="48px";t.DEFAULT_EXPAND_HEIGHT="480px";t.DEFAULT_ERR_MSG="gatecrash: Error thrown and could not be cast as type Error.";t.DEFAULT_FRAME_CONTAINER_ID="MfpEmbed_Popup";t.DEFAULT_FRAME_CONTAINER_HEIGHT="600px";t.DEFAULT_FRAME_CONTAINER_WIDTH="320px";t.DEFAULT_TEXT_CONTENT="Provide Feedback";t.DEFAULT_BASE_URL="https://customervoice.microsoft.com/";t.FORMSPRO_BASE_URL="https://forms.office.com/formspro/";t.ICON_DIV_ID="mfpembed_iconDiv";t.IFRAME_ID="MfpEmbed_Iframe";t.OVERLAY_DIV_ID="mfpembed_overlayDiv";t.RESPONSE_PAGE_IFRAME_ID="MfpEmbed_Popup_Iframe";t.SURVEY_DIV_ID="gatecrashSurvey";t.GATECRASH_RENDER_ERROR={name:"Gatecrash_Render_Error"};t.GATECRASH_ON_SURVEY_DATA_SUBMIT={name:"Gatecrash_On_Survey_Data_Submit"};t.EVENT_RESPONSE_DATA_ERROR={name:"Gatecrash_Event_Response_Data_Error"};t.GATECRASH_ON_SURVEY_CANCEL={name:"Gatecrash_On_Survey_Cancel"};t.GATECRASH_ON_SURVEY_LOAD={name:"Gatecrash_On_Survey_Load"};t.EVENT_HANDLER_ERROR={name:"Event_Handler_Error"};t.CV_SUBMIT_EVENT="CV_OnSubmit";t.CV_LOADED_EVENT="CV_OnLoaded";t.CV_CANCEL_EVENT="CV_OnCancel";t.CV_LOG_EVENT="CV_OnLog";var i=function(){function n(){}return n.cssPosition="fixed",n.cssZIndex="999",n.cssBottom="56px",n.cssRight="19px",n}();t.CVSurveyPositionDefaults=i;t.RATINGS_LIST_LENGTH=5},function(n,t,i){"use strict";function f(n){var t=n.toLocaleUpperCase(),i,e,f;if(t in u)return u[t];for(i=0,e=r;i<e.length;i++)if((f=e[i]).toUpperCase()===t)return f;for(var h=t.split("-")[0],o=0,s=r;o<s.length;o++)if((f=s[o]).toUpperCase()===h)return f;return"en"}i.d(t,"a",function(){return f});var r=["af","am","ar","as","az","be","bg","bn-BD","bn-IN","bs","ca","ca-Es-VALENCIA","chr-Cher","cs","cy","da","de","el","en-GB","es","es-MX","et","eu","fa","fi","fil","fr","fr-CA","ga","gd","gl","gu","ha-Latn-NG","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km-KH","kn","ko","kok","ky","lb","lo","lt","lv","mi","mk","ml","mn","mr","ms","mt","nb-NO","ne","nl","nn-NO","or","pa","pl","prs","pt-BR","pt-PT","quz","ro","ru","sd","si","sk","sl","sq","sr-Cyrl-BA","sr-Cyrl-RS","sr-Latn-RS","sv","sw","ta","te","th","tk","tr","tt","ug","uk","ur","uz-Latn-UZ","vi","zh-Hans","zh-Hant"],u={"ZH-CN":"zh-Hans","ZH-HK":"zh-Hant","ZH-MO":"zh-Hant","ZH-SG":"zh-Hans","ZH-TW":"zh-Hant"}},function(n,t,i){"use strict";var u=this&&this.__createBinding||(Object.create?function(n,t,i,r){void 0===r&&(r=i);Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[i]}})}:function(n,t,i,r){void 0===r&&(r=i);n[r]=t[i]}),r=this&&this.__exportStar||function(n,t){for(var i in n)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||u(t,n,i)};Object.defineProperty(t,"__esModule",{value:!0});r(i(80),t);r(i(81),t);r(i(82),t);r(i(83),t);r(i(84),t);r(i(85),t);r(i(86),t);r(i(87),t);r(i(26),t);r(i(88),t);r(i(89),t)},function(n,t,i){i(93);n.exports=i(94)},function(n,t,i){"use strict";n.exports=i(56).polyfill()},function(n){n.exports=function(){"use strict";function l(n){return"function"==typeof n}function v(){var n=setTimeout;return function(){return n(f,1)}}function f(){for(var n=0;n<o;n+=2)u[n](u[n+1]),u[n]=void 0,u[n+1]=void 0;o=0}function w(n,t){var f=this,i=new this.constructor(e),u,o;return void 0===i[h]&&ht(i),u=f._state,u?(o=arguments[u-1],r(function(){return st(u,i,o,f._result)})):k(f,i,n,t),i}function b(n){if(n&&"object"==typeof n&&n.constructor===this)return n;var t=new this(e);return c(t,n),t}function e(){}function ot(t,u,f){u.constructor===t.constructor&&f===w&&u.constructor.resolve===b?function(t,r){1===r._state?i(t,r._result):2===r._state?n(t,r._result):k(r,void 0,function(n){return c(t,n)},function(i){return n(t,i)})}(t,u):void 0===f?i(t,u):l(f)?function(t,u,f){r(function(t){var r=!1,e=function(n,t,i,r){try{n.call(t,i,r)}catch(n){return n}}(f,u,function(n){r||(r=!0,u!==n?c(t,n):i(t,n))},function(i){r||(r=!0,n(t,i))},t._label);!r&&e&&(r=!0,n(t,e))},t)}(t,u,f):i(t,u)}function c(t,r){var u,e,f;if(t===r)n(t,new TypeError("You cannot resolve a promise with itself"));else if(f=typeof(e=r),null===e||"object"!==f&&"function"!==f)i(t,r);else{u=void 0;try{u=r.then}catch(r){return void n(t,r)}ot(t,r,u)}}function vt(n){n._onerror&&n._onerror(n._result);d(n)}function i(n,t){void 0===n._state&&(n._result=t,n._state=1,0!==n._subscribers.length&&r(d,n))}function n(n,t){void 0===n._state&&(n._state=2,n._result=t,r(vt,n))}function k(n,t,i,u){var f=n._subscribers,e=f.length;n._onerror=null;f[e]=t;f[e+1]=i;f[e+2]=u;0===e&&n._state&&r(d,n)}function d(n){var t=n._subscribers,f=n._state;if(0!==t.length){for(var r=void 0,u=void 0,e=n._result,i=0;i<t.length;i+=3)r=t[i],u=t[i+f],r?st(f,r,u,e):u(e);n._subscribers.length=0}}function st(t,r,u,f){var s=l(u),e=void 0,h=void 0,o=!0;if(s){try{e=u(f)}catch(l){o=!1;h=l}if(r===e)return void n(r,new TypeError("A promises callback cannot return that same promise."))}else e=f;void 0!==r._state||(s&&o?c(r,e):!1===o?n(r,h):1===t?i(r,e):2===t&&n(r,e))}function ht(n){n[h]=g++;n._state=void 0;n._result=void 0;n._subscribers=[]}var nt=Array.isArray?Array.isArray:function(n){return"[object Array]"===Object.prototype.toString.call(n)},o=0,tt=void 0,a=void 0,r=function(n,t){u[o]=n;u[o+1]=t;2===(o+=2)&&(a?a(f):s())},it="undefined"!=typeof window?window:void 0,rt=it||{},ut=rt.MutationObserver||rt.WebKitMutationObserver,lt="undefined"==typeof self&&"[object process]"==={}.toString.call(Object({})),at="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,u=new Array(1e3),ft,y,et,p,s=void 0,h,g,ct,t;return lt?s=function(){return Object({}).nextTick(f)}:ut?(y=0,et=new ut(f),p=document.createTextNode(""),et.observe(p,{characterData:!0}),s=function(){p.data=y=++y%2}):at?((ft=new MessageChannel).port1.onmessage=f,s=function(){return ft.port2.postMessage(0)}):s=void 0===it?function(){try{var n=Function("return this")().require("vertx");return void 0!==(tt=n.runOnLoop||n.runOnContext)?function(){tt(f)}:v()}catch(n){return v()}}():v(),h=Math.random().toString(36).substring(2),g=0,ct=function(){function r(t,r){this._instanceConstructor=t;this.promise=new t(e);this.promise[h]||ht(this.promise);nt(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),0===this.length?i(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),0===this._remaining&&i(this.promise,this._result))):n(this.promise,new Error("Array Methods must be provided an Array"))}return r.prototype._enumerate=function(n){for(var t=0;void 0===this._state&&t<n.length;t++)this._eachEntry(n[t],t)},r.prototype._eachEntry=function(i,r){var u=this._instanceConstructor,s=u.resolve,o;if(s===b){var f=void 0,h=void 0,c=!1;try{f=i.then}catch(i){c=!0;h=i}f===w&&void 0!==i._state?this._settledAt(i._state,r,i._result):"function"!=typeof f?(this._remaining--,this._result[r]=i):u===t?(o=new u(e),c?n(o,h):ot(o,i,f),this._willSettleAt(o,r)):this._willSettleAt(new u(function(n){return n(i)}),r)}else this._willSettleAt(s(i),r)},r.prototype._settledAt=function(t,r,u){var f=this.promise;void 0===f._state&&(this._remaining--,2===t?n(f,u):this._result[r]=u);0===this._remaining&&i(f,this._result)},r.prototype._willSettleAt=function(n,t){var i=this;k(n,void 0,function(n){return i._settledAt(1,t,n)},function(n){return i._settledAt(2,t,n)})},r}(),t=function(){function t(i){this[h]=g++;this._result=this._state=void 0;this._subscribers=[];e!==i&&("function"!=typeof i&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");}(),this instanceof t?function(t,i){try{i(function(n){c(t,n)},function(i){n(t,i)})}catch(i){n(t,i)}}(this,i):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}())}return t.prototype.catch=function(n){return this.then(null,n)},t.prototype.finally=function(n){var t=this.constructor;return l(n)?this.then(function(i){return t.resolve(n()).then(function(){return i})},function(i){return t.resolve(n()).then(function(){throw i;})}):this.then(n,n)},t}(),t.prototype.then=w,t.all=function(n){return new ct(this,n).promise},t.race=function(n){var t=this;return nt(n)?new t(function(i,r){for(var f=n.length,u=0;u<f;u++)t.resolve(n[u]).then(i,r)}):new t(function(n,t){return t(new TypeError("You must pass an array to race."))})},t.resolve=b,t.reject=function(t){var i=new this(e);return n(i,t),i},t._setScheduler=function(n){a=n},t._setAsap=function(n){r=n},t._asap=r,t.polyfill=function(){var n=void 0,i,r;if("undefined"!=typeof window)n=window;else if("undefined"!=typeof self)n=self;else try{n=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment");}if(i=n.Promise,i){r=null;try{r=Object.prototype.toString.call(i.resolve())}catch(n){}if("[object Promise]"===r&&!i.cast)return}n.Promise=t},t.Promise=t,t}()},function(n){"use strict";var t;!function(n){var t=function(){function n(){}return n.AppLaunch="AppLaunch",n.AppUsageTime="AppUsageTime",n.AppResume="AppResume",n}();n.ActivityName=t}(t||(t={}));n.exports=t},function(n){"use strict";var t;!function(n){n.RoamingSettingIdMap={CampaignStates:1258,GovernedChannelStates:1257,SurveyActivationStats:1259}}(t||(t={}));n.exports=t},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CampaignManager=void 0;var f=i(20),a=i(17),r=i(9),e=i(21),v=i(43),y=i(60),c=i(15),s=i(37),l=r.getDistantFuture,o=r.getDistantPast,h=r.isArray,u=r.isNOU,p=function(){function n(n,t,i,r,f,e,o,s){if(!n)throw new Error("stateProvider must not be null");if(!h(t))throw new Error("definitionProviders is either null or not an array type");if(!i)throw new Error("stringProvider must not be null");if(u(f))throw new Error("currentBuildNumber must not be null");this.campaignStates={};this.campaignDefinitions={};this.userFacts=[];this.stateProvider=n;this.definitionProviders=t;this.stringProvider=i;this.userFactsProvider=s;this.environmentProvider=r;this.currentBuildNumber=f;e=e||new Date;this.isPriorityEnabled=o}return n.isStateUpForNomination=function(t,i,r,u){if(!t||!i)return!1;if(r=r||new Date,t.ForceCandidacy)return!0;var f=i.nominationScheme.getCampaignCooldown(t.IsCandidate&&t.DidCandidateTriggerSurvey);return!!f&&(!!n.hasBuildChangeDurationElapsed(f,t.LastNominationBuildNumber,u)||n.hasTimeIntervalDurationElapsed(f,t.getCooldownStartDate(),r))},n.isDateInRange=function(n,t,i){return n=n||new Date,t=t||o(),i=i||l(),t.getTime()<=n.getTime()&&i.getTime()>=n.getTime()},n.hasTimeIntervalDurationElapsed=function(n,t,i){if(u(n)||!(n instanceof e.CampaignDurationTimeInterval)||!t||!i)return!1;var f=r.addSecondsWithoutOverflow(t,n.intervalSeconds);return i.getTime()>=f.getTime()},n.hasBuildChangeDurationElapsed=function(n,t,i){return!u(n)&&n instanceof e.CampaignDurationSingleBuildChange&&(u(t)||u(i)?null===t!=(null===i):!(t===i))},n.isCampaignInScope=function(t,i,r,u){return!!t&&(i=i||new Date,!!n.isDateInRangeWithDefinition(i,t)&&!(t.scope&&((t.scope instanceof e.CampaignScopeUserFactAny||t.scope instanceof e.CampaignScopeUserFactAll)&&t.scope.setUserFactsProvider(u),t.scope instanceof e.CampaignScopeEnvironmentCrossProduct&&t.scope.setEnvironmentProvider(r),!t.scope.isInScope())))},n.isDateInRangeWithDefinition=function(t,i){return!!i&&(t=t||new Date,n.isDateInRange(t,i.startTime?i.startTime:l(),i.endTime))},n.prototype.getActiveSurveys=function(){var u={},f=this.getPrioritizedCampaigns(),i,n,r,t;for(i in this.campaignStates)if(this.campaignStates.hasOwnProperty(i)){if(n=this.campaignStates[i],!n.IsCandidate)continue;if(r=f[n.CampaignId],!r)continue;if(t=y.CampaignSurveyFactory.makeSurvey(n,r,this.stringProvider),!t)continue;u[t.getSurveyInfo().getId()]=t}return u},n.prototype.onCampaignSurveyActivated=function(n,t,i){var r=this.campaignStates[n],u;r&&(t=t||new Date,u=this.campaignDefinitions[n].nominationScheme.cooldownPeriod.asTimeIntervalSeconds(),r.markCurrentSurveyTakenOnDate(t,u,i),this.saveCurrentState())},n.prototype.getCampaignStates=function(){return this.campaignStates},n.prototype.getCampaignDefinitions=function(){return this.campaignDefinitions},n.prototype.getUserFacts=function(){return this.userFacts},n.prototype.onSurveyActivated=function(n,t){n&&this.onCampaignSurveyActivated(n.getBackEndId(),new Date,t)},n.prototype.refreshSurveyDefinitions=function(n,t){this.refreshSurveyDefinitionsPrivate(n,t||new Date)},n.prototype.refreshSurveyDefinitionsAsync=function(n,t){var i=this;return new Promise(function(r,u){i.refreshSurveyDefinitionsPrivateAsync(n,t||new Date).then(function(){r()}).catch(function(n){u(n)})})},n.prototype.getAppSurveys=function(){return this.getActiveSurveys()},n.prototype.saveCurrentState=function(){var n=r.makeArrayFromObjectValuesSortedByKeyString(this.campaignStates);this.stateProvider.save(n)},n.prototype.refreshSurveyDefinitionsPrivate=function(n,t){this.needRefreshSurveyDefinitions()?(this.lastCampaignRefreshTime=new Date,this.campaignDefinitions={},this.userFacts=[],this.loadFilterCampaigns(t,n)):this.FilterCampaignsOnRestart(t,n);this.campaignStates={};this.LoadFilterCampaignStates(t);this.evaluateCampaigns(t)},n.prototype.refreshSurveyDefinitionsPrivateAsync=function(n,t){var i,r;return this.campaignStates={},this.campaignDefinitions={},this.userFacts=[],this.lastCampaignRefreshTime=null!==(i=this.lastCampaignRefreshTime)&&void 0!==i?i:new Date,r=this,new Promise(function(i,u){r.loadAndFilterCampaignDataAsync(t,n).then(function(){r.evaluateCampaigns(t);i()}).catch(function(n){u(n)})})},n.prototype.loadAndFilterCampaignDataAsync=function(n,t){var o;n=n||new Date;for(var r=[],s=[],l=this.userFactsProvider&&this.userFactsProvider.loadAsync(),e=0,a=Object.keys(this.definitionProviders);e<a.length;e++){var y=a[e],v=this.definitionProviders[y],i=v&&v.loadAsync();u(i)||(i=i.catch(function(){f.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed("Failed to load from campaign definition provider");Promise.resolve()}),s.push(i))}return o=this,new Promise(function(i){Promise.all(s).then(function(e){for(var y,a,s=0,v=Object.keys(e);s<v.length;s++)y=e[v[s]],h(y)&&(r=r.concat(y));a=function(u){o.userFacts=u||[];o.FilterCampaignData(n,t,r);i()};u(l)?a():l.then(function(n){a(n)}).catch(function(){f.FloodgateEngine.getTelemetryLogger().log_Error(c.TelemetryEvent.Floodgate.UserFactsLoad.Failed,"Failed to load from user facts provider");a()})}).catch(function(){f.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed("Failed to load from campaign definition provider")})})},n.prototype.loadFilterCampaigns=function(t,i){var o,l,a,r;t=t||new Date;for(var u=[],e=0,v=Object.keys(this.definitionProviders);e<v.length;e++){o=v[e];try{l=this.definitionProviders[o]&&this.definitionProviders[o].load();h(l)&&(u=u.concat(l))}catch(n){f.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed("Failed to load from campaign definition provider. "+n.toString())}}try{this.userFacts=this.userFactsProvider&&this.userFactsProvider.load()||[]}catch(n){f.FloodgateEngine.getTelemetryLogger().log_Error(c.TelemetryEvent.Floodgate.UserFactsLoad.Failed,"Failed to load from user facts provider. "+n)}for(a in u)if(u.hasOwnProperty(a)){if(r=u[a],i&&i.indexOf(r.governedChannelType)<0&&r.businessLevel!==s.BusinessLevel.Critical)continue;if(!n.isCampaignInScope(r,t,this.environmentProvider,this.userFactsProvider))continue;this.campaignDefinitions[r.campaignId]=r}},n.prototype.FilterCampaignData=function(t,i,u){var a={},c,h,f,e,o,l;for(e in u)if(u.hasOwnProperty(e)){if(a[(o=u[e]).campaignId]=o,i&&i.indexOf(o.governedChannelType)<0&&o.businessLevel!==s.BusinessLevel.Critical)continue;if(!n.isCampaignInScope(o,t,this.environmentProvider,this.userFactsProvider))continue;this.campaignDefinitions[o.campaignId]=o}c=this.stateProvider.load();h=[];for(e in c)c.hasOwnProperty(e)&&(f=c[e],this.campaignDefinitions.hasOwnProperty(f.CampaignId)||h.push(f),this.campaignStates[f.CampaignId]=f);for(e in h)if(h.hasOwnProperty(e)){if(!(f=h[e]))continue;l=!1;(o=a[f.CampaignId])?n.isStateUpForNomination(f,o,t,this.currentBuildNumber)&&(l=!0):f.LastNominationTimeUtc.getTime()<=r.subtractSecondsWithoutOverflow(t,f.DeleteAfterSecondsWhenStale).getTime()&&(l=!0);l&&delete this.campaignStates[f.CampaignId]}},n.prototype.getPrioritizedCampaigns=function(){var t=this,i={},n={};return Object.keys(this.campaignDefinitions||[]).forEach(function(r){var u=t.campaignDefinitions[r];t.campaignStates.hasOwnProperty(r)&&t.campaignStates[r].IsCandidate&&(i[r]=u,(u.tags&&u.tags.length>0?u.tags:[""]).forEach(function(t){var i=t+"_"+u.governedChannelType;n[i]=n[i]||[];n[i].push(u)}))}),Object.keys(n).forEach(function(f){var o,e;if((t.isPriorityEnabled||!f.endsWith("_"+a.GovernedChannelType.Standard))&&(e=n[f],!(e.length<=1))){var s=r.findHighestPriorityDefinition(e),h=s[0],c=s[1],l=null!==(o=h.primaryPriority)&&void 0!==o?o:0;c&&e.forEach(function(n){var t=n.primaryPriority;!u(n.primaryPriority)&&t>l&&delete i[n.campaignId]})}}),i},n.prototype.evaluateCampaigns=function(t){var f,u,i,s;for(f in t=t||new Date,this.campaignDefinitions)if(this.campaignDefinitions.hasOwnProperty(f)&&(u=this.campaignDefinitions[f],i=this.campaignStates[u.campaignId],!i||n.isStateUpForNomination(i,u,t,this.currentBuildNumber))){var h=i?i.LastSurveyId:"",e=i?i.LastSurveyStartTimeUtc:o(),c=i?i.LastSurveyExpirationTimeUtc:o(),a=i?i.LastSurveyActivatedTimeUtc:o(),y=i?i.LastCooldownEndTimeUtc:o(),l=i&&i.ForceCandidacy||u.nominationScheme.evaluateNominationRules();l&&(h=r.guid(),e=u.nominationScheme.calculateSurveyStartTimeFromDate(t),c=u.nominationScheme.calculateSurveyExpirationTimeFromSurveyStartTime(e));s=new v.CampaignState(u.campaignId,t,this.currentBuildNumber,u.nominationScheme.getActiveSurveyTimeIntervalSeconds(),!1,l,!1,a,h,e,c,y);this.campaignStates[s.CampaignId]=s}},n.prototype.needRefreshSurveyDefinitions=function(){return!this.lastCampaignRefreshTime},n.prototype.FilterCampaignsOnRestart=function(t,i){var u,r;for(u in this.campaignDefinitions)if(this.campaignDefinitions.hasOwnProperty(u)){if(r=this.campaignDefinitions[u],i&&i.indexOf(r.governedChannelType)<0&&r.businessLevel!==s.BusinessLevel.Critical){delete this.campaignDefinitions[r.campaignId];continue}if(!n.isCampaignInScope(r,t,this.environmentProvider,this.userFactsProvider)){delete this.campaignDefinitions[r.campaignId];continue}}},n.prototype.LoadFilterCampaignStates=function(t){var o=this.stateProvider.load(),f=[],i,u,s,e;for(u in o)o.hasOwnProperty(u)&&(i=o[u],this.campaignDefinitions.hasOwnProperty(i.CampaignId)||f.push(i),this.campaignStates[i.CampaignId]=i);for(u in f)if(f.hasOwnProperty(u)){if(!(i=f[u]))continue;s=this.campaignDefinitions[i.CampaignId];e=!1;s?n.isStateUpForNomination(i,s,t,this.currentBuildNumber)&&(e=!0):i.LastNominationTimeUtc.getTime()<=r.subtractSecondsWithoutOverflow(t,i.DeleteAfterSecondsWhenStale).getTime()&&(e=!0);e&&delete this.campaignStates[i.CampaignId]}},n}();t.CampaignManager=p},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CampaignSurveyFactory=void 0;var c=i(18),u=i(61),o=i(64),l=i(65),a=i(67),v=i(68),y=i(70),e=i(71),p=i(25),s=i(9),r=i(21),h=s.dateToShortUtcString,f=s.isNOU,w=function(){function n(){}return n.makeSurvey=function(t,i,u){if(!(t&&i&&i.surveyTemplate&&u))return null;var o=n.makeSurveyDataSourceData(t,i),f=i.surveyTemplate;return f instanceof r.CampaignSurveyTemplateNps5PointStatic?e.make5Point(o,u):f instanceof r.CampaignSurveyTemplateNps11PointStatic?e.make11Point(o,u):f instanceof r.CampaignSurveyTemplateFps?l.makeFps(o,u,f):f instanceof r.CampaignSurveyTemplateNlqs?y.makeNlqs(o,u,f):f instanceof r.CampaignSurveyTemplateNps?e.makeCustom(o,u,f):f instanceof r.CampaignSurveyTemplateGenericMessagingSurface?a.makeCustom(o):f instanceof r.CampaignSurveyTemplateIntercept?v.makeIntercept(o,u,f):null},n.makeSurveyDataSourceData=function(t,i){if(!t||!i||!i.surveyTemplate)return null;var u=i.surveyTemplate,r=new p.SurveyDataSourceData;return r.activationEvent=n.makeEvent(t,u.activationEvent),r.metadata=n.makeMetadata(u.metadata),r.id=t.LastSurveyId,r.backEndIdentifier=t.CampaignId,r.expirationTimeUtc=h(t.LastSurveyExpirationTimeUtc),r.governedChannelType=i.governedChannelType,r.startTimeUtc=h(t.LastSurveyStartTimeUtc),r.additionalDataRequested=i.additionalDataRequested||[],r.launcherType=i.launcherType||c.LAUNCHER_TYPE_DEFAULT,r.preferredLaunchType=i.surveyTemplate.preferredLaunchType||"Default",r.businessLevel=i.businessLevel,f(u.maxLaunches)||(r.maxLaunches=u.maxLaunches),f(u.maxLaunchesPerSession)||(r.maxLaunchesPerSession=u.maxLaunchesPerSession),r},n.makeCountedActivityEventData=function(n){if(!n)return null;var t=new u.CountedActivityEventData;return t.activity=n.activity,t.count=n.count,t.isAggregate=n.isAggregate,t},n.makeCountedActivityEvent=function(t,i){if(!t||!i)return null;var r=n.makeCountedActivityEventData(i);return r?new u.CountedActivityEvent(r):null},n.makeCountedActivitySequenceEvent=function(t,i){var r,f,e,s,o;if(!t||!i)return null;for(r=new u.CountedActivitySequenceEventData,r.sequence=[],f=0,e=i.sequence;f<e.length;f++){if(s=e[f],o=n.makeCountedActivityEventData(s),!o)return null;r.sequence.push(o)}return new u.CountedActivitySequenceEvent(r)},n.makeEvent=function(t,i){return i instanceof r.CampaignSurveyEventCountedActivity?n.makeCountedActivityEvent(t,i):i instanceof r.CampaignSurveyEventCountedActivitySequence?n.makeCountedActivitySequenceEvent(t,i):null},n.makeMetadata=function(n){if(f(n)||f(n.contentMetadata))return null;var t=new o.Metadata;return t.contentMetadata=n.contentMetadata,new o.SurveyMetadata(t)},n}();t.CampaignSurveyFactory=w},function(n,t,i){"use strict";var e,o,s;Object.defineProperty(t,"__esModule",{value:!0});t.CountedActivitySequenceEventData=t.CountedActivitySequenceEvent=t.CountedActivityEventData=t.CountedActivityEvent=void 0;var r=i(62),u=i(63),f=function(){function n(n){if(!n)throw new Error("data must not be null");if(n.count<=0)throw new Error("count must be greater than 0");if(!n.activity||0===n.activity.length)throw new Error("activity must not be null or an empty string");this.data=n}return n.make=function(t){try{return new n(t)}catch(n){return null}},n.prototype.getActivity=function(){return this.data.activity},n.prototype.getCount=function(){return this.data.count},n.prototype.isAggregate=function(){return this.data.isAggregate},n.prototype.getType=function(){return"CountedActivity"},n.prototype.getTrackingSet=function(){var n=[];return n.push(new r.ActivityTrackingData(this.data.activity,this.data.count,this.data.isAggregate)),new u.ActivityTrackingSet(!1,n)},n}();t.CountedActivityEvent=f;e=function(){};t.CountedActivityEventData=e;o=function(){function n(n){var t,i,r;if(!n)throw new Error("data must not be null");if(!n.sequence)throw new Error("data.sequence must not be null");if(0===n.sequence.length)throw new Error("data.sequence size must be greater than 0");for(this.data=[],t=0,i=n.sequence;t<i.length;t++)r=i[t],this.data.push(new f(r))}return n.make=function(t){try{return new n(t)}catch(n){return null}},n.prototype.getSequence=function(){return this.data},n.prototype.getType=function(){return"CountedActivitySequence"},n.prototype.getTrackingSet=function(){for(var n,i=[],t=0,f=this.data;t<f.length;t++)n=f[t],i.push(new r.ActivityTrackingData(n.getActivity(),n.getCount(),n.isAggregate()));return new u.ActivityTrackingSet(!0,i)},n}();t.CountedActivitySequenceEvent=o;s=function(){function n(){}return n.prototype.CountedActivitySequenceEventData=function(){},n}();t.CountedActivitySequenceEventData=s},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ActivityTrackingData=void 0;var i=function(){function n(n,t,i){this.activity=n;this.count=t;this.isAggregate=i}return n.prototype.getActivity=function(){return this.activity},n.prototype.getCount=function(){return this.count},n.prototype.setCount=function(n){this.count=n},n.prototype.getIsAggregate=function(){return this.isAggregate},n}();t.ActivityTrackingData=i},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ActivityTrackingSet=void 0;var r=i(9),u=function(){function n(n,t){this.isOrdered=n;this.list=t}return n.prototype.getIsOrdered=function(){return this.isOrdered},n.prototype.getList=function(){return this.list},n.prototype.getActivityTrackingInfo=function(n,t){var i,u,e;if(0===this.list.length)return i={Activities:[],IsListOrdered:this.isOrdered},JSON.stringify(i);for(u=0,e=this.list;u<e.length;u++){var f=e[u],o=n.getCount(f.getActivity(),t),s={Activity:f.getActivity(),ActualCount:o,Count:f.getCount(),IsAggregate:f.getIsAggregate(),IsDiscrete:o%1==0};r.isNOU(i)?i={Activities:[s],IsListOrdered:this.isOrdered}:i.Activities.push(s)}return JSON.stringify(i)},n}();t.ActivityTrackingSet=u},function(n,t,i){"use strict";var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.Metadata=t.SurveyMetadata=void 0;r=i(9);u=function(){function n(n){if(!n)throw new Error("data must not be null");if(!n.contentMetadata)throw new Error("content metadata must not be null");if(!r.isObject(n.contentMetadata))throw new Error("content metadata must be of object type");this.data=n}return n.make=function(t){try{return new n(t)}catch(n){return null}},n.prototype.getContentMetadata=function(){return this.data.contentMetadata},n}();t.SurveyMetadata=u;f=function(){};t.Metadata=f},function(n,t,i){"use strict";var f,y=this&&this.__extends||(f=function(n,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])})(n,t)},function(n,t){function i(){this.constructor=n}f(n,t);n.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=i(18),u=i(19),s=i(39),h=i(46),c=i(66),l=i(40),a=i(41),v=i(9),p=i(30),w=i(25),r=v.isNOU,e=function(n){function t(t){var i=n.call(this)||this;if(r(t))throw new Error("data must not be null");return i.surveyInfo=new w(t.baseData),i.prompt=new l(t.promptData),i.question=t.commentData?new s(t.commentData):null,i.rating=t.ratingData?new a(t.ratingData):null,i.multipleChoice=t.multipleChoiceData?new c(t.multipleChoiceData):null,i.cvSurvey=t.cvSurveyData?new h(t.cvSurveyData):null,i}return y(t,n),t.make=function(n){try{return new t(n)}catch(n){return null}},t.makeFps=function(n,i,u){var f,v,w,y,o,p,b;if(r(n)||r(i)||r(u))return null;var k=[],d=[],e=u.content;if(r(e)||r(e.prompt)||r(e.rating)&&r(e.multipleChoice)&&r(e.comment)||(f=new t.FpsSurveyData,f.baseData=n,f.promptData=new l.PromptComponentData,f.promptData.title=i.getCustomString(e.prompt.title),f.promptData.question=i.getCustomString(e.prompt.question),f.promptData.yesButtonLabel=i.getCustomString(e.prompt.yesLabel),f.promptData.noButtonLabel=i.getCustomString(e.prompt.noLabel),r(f.promptData.title)||r(f.promptData.question)||r(f.promptData.yesButtonLabel)||r(f.promptData.noButtonLabel)))return null;if(e.rating){for(f.ratingData=new a.RatingComponentData,f.ratingData.question=i.getCustomString(e.rating.question),f.ratingData.isZeroBased=e.rating.isZeroBased,v=0,w=e.rating.ratingValuesAscending;v<w.length;v++){if(y=w[v],o=i.getCustomString(y),r(o))return null;k.push(o)}if(f.ratingData.ratingValuesAscending=k,r(f.ratingData.question)||r(f.ratingData.ratingValuesAscending))return null}if(e.multipleChoice){for(f.multipleChoiceData=new c.MultipleChoiceComponentData,f.multipleChoiceData.question=i.getCustomString(e.multipleChoice.question),f.multipleChoiceData.minNumberOfSelectedOptions=e.multipleChoice.minNumberOfSelectedOptions,f.multipleChoiceData.maxNumberOfSelectedOptions=e.multipleChoice.maxNumberOfSelectedOptions,p=0,b=e.multipleChoice.availableOptions;p<b.length;p++){if(y=b[p],o=i.getCustomString(y),r(o))return null;d.push(o)}if(f.multipleChoiceData.availableOptions=d,r(f.multipleChoiceData.question)||r(f.multipleChoiceData.availableOptions))return null}return e.comment&&(f.commentData=new s.CommentComponentData,f.commentData.question=i.getCustomString(e.comment.question),r(f.commentData.question))||e.cvSurvey&&(f.cvSurveyData=new h.CVSurveyComponentData,f.cvSurveyData.customerVoiceFormId=e.cvSurvey.customerVoiceFormId,r(f.cvSurveyData.customerVoiceFormId))?null:this.make(f)},t.prototype.getType=function(){return o.Type.Fps},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getCommentComponent=function(){return this.question},t.prototype.getPromptComponent=function(){return this.prompt},t.prototype.getRatingComponent=function(){return this.rating},t.prototype.getMultipleChoiceComponent=function(){return this.multipleChoice},t.prototype.getCVSurveyComponent=function(){return this.cvSurvey},t.prototype.getComponent=function(n){switch(n){case"Comment":return this.getCommentComponent();case"Prompt":return this.getPromptComponent();case"Rating":return this.getRatingComponent();case"MultipleChoice":return this.getMultipleChoiceComponent();case"CVSurvey":return this.getCVSurveyComponent();default:return null}},t.prototype.getDomElements=function(n){if(r(n))throw new Error("Document must not be null");var t=n.createElement(o.DOM_FPS_TAGNAME);return this.getSurveyInfo().getDomElements(n).forEach(function(n){r(n)||t.appendChild(n)}),this.getCommentComponent().getDomElements(n).forEach(function(n){r(n)||t.appendChild(n)}),this.getRatingComponent()&&this.getRatingComponent().getDomElements(n).forEach(function(n){r(n)||t.appendChild(n)}),this.getMultipleChoiceComponent()&&this.getMultipleChoiceComponent().getDomElements(n).forEach(function(n){r(n)||t.appendChild(n)}),[t]},t.prototype.getJsonElements=function(){var t,n={};return(n=v.overrideValues(this.getSurveyInfo().getJsonElements(),n))[u.JSON_APPLICATION_KEYNAME]={},n[u.JSON_APPLICATION_KEYNAME][u.JSON_EXTENDEDMANIFESTDATA_KEYNAME]=JSON.stringify(((t={})[u.JSON_SURVEYSTRINGS_KEYNAME]=this.makeSurveyStrings(),t[u.JSON_SURVEYSPECIFICDATA_KEYNAME]=this.makeResponseString(),t)),n},t.prototype.makeResponseString=function(){var n={};return this.question&&(n[u.JSON_COMMENT_KEYNAME]=[this.getCommentComponent().getSubmittedText()]),this.multipleChoice&&(n[u.JSON_MULTIPLECHOICE_KEYNAME]=[this.getMultipleChoiceComponent().getOptionSelectedStates()]),this.rating&&(n[u.JSON_RATING_KEYNAME]=[{numberOfOptions:this.getRatingComponent().getRatingValuesAscending().length,selectedRating:this.getRatingComponent().getSelectedRatingIndex()}]),JSON.stringify(n)},t.prototype.makeSurveyStrings=function(){var n={};return this.prompt&&(n[u.JSON_PROMPT_KEYNAME]=this.prompt.getComponentJson()),this.rating&&(n[u.JSON_RATING_KEYNAME]=[this.rating.getComponentJson()]),this.question&&(n[u.JSON_COMMENT_KEYNAME]=[this.question.getComponentJson()]),this.multipleChoice&&(n[u.JSON_MULTIPLECHOICE_KEYNAME]=[this.multipleChoice.getComponentJson()]),JSON.stringify(n)},t}(p.Survey);!function(n){var t=function(){};n.FpsSurveyData=t}(e||(e={}));n.exports=e},function(n,t,i){"use strict";var r=i(19),u=function(){function n(n){if(!n)throw new Error("data must not be null");if(!n.question)throw new Error("data.question must not be null or empty");if(!n.availableOptions||n.availableOptions.length<2)throw new Error("data.availableOptions must not be null or have less than two choices");n.availableOptions.forEach(function(n){if(!n)throw new Error("Option values must not contain null or empty");});this.data=n;this.optionStates=new Array(n.availableOptions.length);for(var t=0;t<this.optionStates.length;t++)this.optionStates[t]=!1}return n.make=function(t){try{return new n(t)}catch(n){return null}},n.prototype.getType=function(){return"MultipleChoice"},n.prototype.getQuestion=function(){return this.data.question},n.prototype.getAvailableOptions=function(){return this.data.availableOptions},n.prototype.getOptionSelectedStates=function(){return this.optionStates},n.prototype.getMinNumberofSelectedOptions=function(){return this.data.minNumberOfSelectedOptions},n.prototype.getMaxNumberofSelectedOptions=function(){return this.data.maxNumberOfSelectedOptions},n.prototype.setOptionSelectedStates=function(n){for(var t=0;t<n.length;t++)this.optionStates[t]=n[t]},n.prototype.ValidateMinNumberofSelectedOptions=function(){var n=0;return this.optionStates.forEach(function(t){t&&n++}),n>=this.getMinNumberofSelectedOptions()},n.prototype.ValidateMaxNumberofSelectedOptions=function(){var n=0;return this.optionStates.forEach(function(t){t&&n++}),n<=this.getMaxNumberofSelectedOptions()},n.prototype.getDomElements=function(n){if(!n)throw new Error("Document must not be null");var t=n.createElement(r.DOM_MULTIPLECHOICE_TAGNAME);return t.appendChild(n.createTextNode(this.getOptionSelectedStates().toString())),[t]},n.prototype.getJsonElements=function(){var n={};return n[r.JSON_MULTIPLECHOICE_KEYNAME]=this.getOptionSelectedStates().toString(),n},n.prototype.getComponentJson=function(){var n;return(n={})[r.JSON_QUESTION_KEYNAME]=this.getQuestion(),n[r.JSON_RATINGOPTIONS_KEYNAME]=this.getAvailableOptions(),n},n}();!function(n){var t=function(){};n.MultipleChoiceComponentData=t}(u||(u={}));n.exports=u},function(n,t,i){"use strict";var r,e=this&&this.__extends||(r=function(n,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])})(n,t)},function(n,t){function i(){this.constructor=n}r(n,t);n.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=i(18),s=i(9),h=i(30),c=i(25),f=s.isNOU,u=function(n){function t(t){var i=n.call(this)||this;if(!t)throw new Error("data must not be null");if(i.surveyInfo=new c(t.baseData),f(i.surveyInfo.getMetadata()))throw new Error("metadata must not be null");return i}return e(t,n),t.make=function(n){try{return new t(n)}catch(n){return null}},t.makeCustom=function(n){if(f(n))return null;var i=new t.GenericMessagingSurfaceSurveyData;return i.baseData=n,this.make(i)},t.prototype.getType=function(){return o.Type.GenericMessagingSurface},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getComponent=function(){return null},t.prototype.getDomElements=function(){return[]},t.prototype.getJsonElements=function(){return{}},t}(h.Survey);!function(n){var t=function(){};n.GenericMessagingSurfaceSurveyData=t}(u||(u={}));n.exports=u},function(n,t,i){"use strict";var u,o=this&&this.__extends||(u=function(n,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])})(n,t)},function(n,t){function i(){this.constructor=n}u(n,t);n.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=i(18),e=i(69),h=i(9),c=i(30),l=i(25),r=h.isNOU,f=function(n){function t(t){var i=n.call(this)||this;if(r(t))throw new Error("data must not be null");return i.surveyInfo=new l(t.baseData),i.intercept=new e(t.interceptData),i}return o(t,n),t.make=function(n){try{return new t(n)}catch(n){return null}},t.makeIntercept=function(n,i,u){var o,f;return r(n)||r(i)||r(u)?null:(o=u.content,r(o)||r(o.intercept))?null:(f=new t.InterceptSurveyData,f.baseData=n,f.interceptData=new e.InterceptComponentData,f.interceptData.title=i.getCustomString(o.intercept.title),f.interceptData.question=i.getCustomString(o.intercept.question),f.interceptData.url=i.getCustomString(o.intercept.url),r(f.interceptData.title)||r(f.interceptData.question)||r(f.interceptData.url)?null:this.make(f))},t.prototype.getType=function(){return s.Type.Intercept},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getInterceptComponent=function(){return this.intercept},t.prototype.getComponent=function(n){return"Intercept"===n?this.getInterceptComponent():null},t.prototype.getDomElements=function(){return[]},t.prototype.getJsonElements=function(){return{}},t}(c.Survey);!function(n){var t=function(){};n.InterceptSurveyData=t}(f||(f={}));n.exports=f},function(n,t,i){"use strict";var r=i(19),u=function(){function n(n){if(!n)throw new Error("data must not be null");if(!n.question)throw new Error("data.question must not be null or empty");if(!n.title)throw new Error("data.title must not be null or empty");if(!n.url)throw new Error("data.url must not be null or empty");this.data=n}return n.make=function(t){try{return new n(t)}catch(n){return null}},n.prototype.getType=function(){return"Intercept"},n.prototype.getTitle=function(){return this.data.title},n.prototype.getQuestion=function(){return this.data.question},n.prototype.getUrl=function(){return this.data.url},n.prototype.getDomElements=function(n){if(!n)throw new Error("Document must not be null");return[n.createElement(r.DOM_INTERCEPT_TAGNAME)]},n.prototype.getJsonElements=function(){var n;return(n={})[r.JSON_INTERCEPT_KEYNAME]="",n},n.prototype.getComponentJson=function(){var n;return(n={})[r.JSON_TITLE_KEYNAME]=this.getTitle(),n[r.JSON_QUESTION_KEYNAME]=this.getQuestion(),n[r.JSON_INTERCEPTURL_KEYNAME]=this.getUrl(),n},n}();!function(n){var t=function(){};n.InterceptComponentData=t}(u||(u={}));n.exports=u},function(n,t,i){"use strict";var u,a=this&&this.__extends||(u=function(n,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])})(n,t)},function(n,t){function i(){this.constructor=n}u(n,t);n.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=i(18),s=i(39),h=i(40),c=i(41),l=i(9),v=i(30),y=i(25),r=l.isNOU,f=l.overrideValues,e=function(n){function t(t){var i=n.call(this)||this;if(r(t))throw new Error("data must not be null");return i.surveyInfo=new y(t.baseData),i.prompt=new h(t.promptData),i.question=new s(t.commentData),i.rating=new c(t.ratingData),i}return a(t,n),t.make=function(n){try{return new t(n)}catch(n){return null}},t.makeNlqs=function(n,i,u){var l,e,f,o,a,y,v;if(r(n)||r(i)||r(u)||(l=[],e=u.content,r(e)||r(e.comment)||r(e.prompt)||r(e.rating)))return null;for(f=new t.NlqsSurveyData,f.baseData=n,f.promptData=new h.PromptComponentData,f.ratingData=new c.RatingComponentData,f.commentData=new s.CommentComponentData,f.promptData.title=i.getCustomString(e.prompt.title),f.promptData.question=i.getCustomString(e.prompt.question),f.promptData.yesButtonLabel=i.getCustomString(e.prompt.yesLabel),f.promptData.noButtonLabel=i.getCustomString(e.prompt.noLabel),f.ratingData.question=i.getCustomString(e.rating.question),f.ratingData.isZeroBased=e.rating.isZeroBased,f.commentData.question=i.getCustomString(e.comment.question),o=0,a=e.rating.ratingValuesAscending;o<a.length;o++){if(y=a[o],v=i.getCustomString(y),r(v))return null;l.push(v)}return f.ratingData.ratingValuesAscending=l,r(f.ratingData.question)||r(f.commentData.question)||r(f.promptData.title)||r(f.promptData.question)||r(f.promptData.yesButtonLabel)||r(f.promptData.noButtonLabel)||r(f.ratingData.ratingValuesAscending)?null:this.make(f)},t.prototype.getType=function(){return o.Type.Nlqs},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getCommentComponent=function(){return this.question},t.prototype.getPromptComponent=function(){return this.prompt},t.prototype.getRatingComponent=function(){return this.rating},t.prototype.getComponent=function(n){switch(n){case"Comment":return this.getCommentComponent();case"Prompt":return this.getPromptComponent();case"Rating":return this.getRatingComponent();default:return null}},t.prototype.getDomElements=function(n){if(r(n))throw new Error("Document must not be null");var t=n.createElement(o.DOM_NLQS_TAGNAME);return this.getSurveyInfo().getDomElements(n).forEach(function(n){r(n)||t.appendChild(n)}),this.getCommentComponent().getDomElements(n).forEach(function(n){r(n)||t.appendChild(n)}),this.getRatingComponent().getDomElements(n).forEach(function(n){r(n)||t.appendChild(n)}),[t]},t.prototype.getJsonElements=function(){var n={};return n=f(this.getSurveyInfo().getJsonElements(),n),n=f(this.getCommentComponent().getJsonElements(),n),n=f(this.getRatingComponent().getJsonElements(),n)},t}(v.Survey);!function(n){var t=function(){};n.NlqsSurveyData=t}(e||(e={}));n.exports=e},function(n,t,i){"use strict";var s,y=this&&this.__extends||(s=function(n,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])})(n,t)},function(n,t){function i(){this.constructor=n}s(n,t);n.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),l=i(18),u=i(19),f=i(39),a=i(46),e=i(40),o=i(41),v=i(9),p=i(30),w=i(25),r=v.isNOU,h=v.overrideValues,c=function(n){function t(t){var i=n.call(this)||this;if(!t)throw new Error("data must not be null");return i.surveyInfo=new w(t.baseData),i.prompt=new e(t.promptData),i.question=new f(t.commentData),i.rating=new o(t.ratingData),i.cvSurvey=t.cvSurveyData?new a(t.cvSurveyData):null,i}return y(t,n),t.make=function(n){try{return new t(n)}catch(n){return null}},t.makeCustom=function(n,i,u){var l,h,s,c,v,p,y;if(r(n)||r(i)||r(u)||(l=[],h=u.content,r(h)||r(h.comment)||r(h.prompt)||r(h.rating)))return null;for(s=new t.NpsSurveyData,s.baseData=n,s.promptData=new e.PromptComponentData,s.ratingData=new o.RatingComponentData,s.commentData=new f.CommentComponentData,s.promptData.title=i.getCustomString(h.prompt.title),s.promptData.question=i.getCustomString(h.prompt.question),s.promptData.yesButtonLabel=i.getCustomString(h.prompt.yesLabel),s.promptData.noButtonLabel=i.getCustomString(h.prompt.noLabel),s.ratingData.question=i.getCustomString(h.rating.question),s.ratingData.isZeroBased=h.rating.isZeroBased,s.commentData.question=i.getCustomString(h.comment.question),c=0,v=h.rating.ratingValuesAscending;c<v.length;c++){if(p=v[c],y=i.getCustomString(p),r(y))return null;l.push(y)}return s.ratingData.ratingValuesAscending=l,r(s.ratingData.question)||r(s.commentData.question)||r(s.promptData.title)||r(s.promptData.question)||r(s.promptData.yesButtonLabel)||r(s.promptData.noButtonLabel)||r(s.ratingData.ratingValuesAscending)||h.cvSurvey&&(s.cvSurveyData=new a.CVSurveyComponentData,s.cvSurveyData.customerVoiceFormId=h.cvSurvey.customerVoiceFormId,r(s.cvSurveyData.customerVoiceFormId))?null:this.make(s)},t.make5Point=function(n,i){var r,u;return!n||!i?null:(r=new t.NpsSurveyData,r.baseData=n,r.ratingData=new o.RatingComponentData,r.ratingData.isZeroBased=!1,r.commentData=new f.CommentComponentData,r.promptData=new e.PromptComponentData,r.ratingData.question=i.loadStringResource(4),r.commentData.question=i.loadStringResource(21),r.promptData.title=i.loadStringResource(0),r.promptData.question=i.loadStringResource(1),r.promptData.yesButtonLabel=i.loadStringResource(2),r.promptData.noButtonLabel=i.loadStringResource(3),u=new Array(5),u[0]=i.loadStringResource(16),u[1]=i.loadStringResource(17),u[2]=i.loadStringResource(18),u[3]=i.loadStringResource(19),u[4]=i.loadStringResource(20),r.ratingData.question&&r.commentData.question&&r.promptData.title&&r.promptData.question&&r.promptData.yesButtonLabel&&r.promptData.noButtonLabel&&u[0]&&u[1]&&u[2]&&u[3]&&u[4]?(r.ratingData.ratingValuesAscending=u,this.make(r)):null)},t.make11Point=function(n,i){var u,r;return!n||!i?null:(u=new t.NpsSurveyData,u.baseData=n,u.ratingData=new o.RatingComponentData,u.ratingData.isZeroBased=!0,u.commentData=new f.CommentComponentData,u.promptData=new e.PromptComponentData,u.ratingData.question=i.loadStringResource(4),u.commentData.question=i.loadStringResource(21),u.promptData.title=i.loadStringResource(0),u.promptData.question=i.loadStringResource(1),u.promptData.yesButtonLabel=i.loadStringResource(2),u.promptData.noButtonLabel=i.loadStringResource(3),r=new Array(11),r[0]=i.loadStringResource(5),r[1]=i.loadStringResource(6),r[2]=i.loadStringResource(7),r[3]=i.loadStringResource(8),r[4]=i.loadStringResource(9),r[5]=i.loadStringResource(10),r[6]=i.loadStringResource(11),r[7]=i.loadStringResource(12),r[8]=i.loadStringResource(13),r[9]=i.loadStringResource(14),r[10]=i.loadStringResource(15),u.ratingData.question&&u.commentData.question&&u.promptData.title&&u.promptData.question&&u.promptData.yesButtonLabel&&u.promptData.noButtonLabel&&r[0]&&r[1]&&r[2]&&r[3]&&r[4]&&r[5]&&r[6]&&r[7]&&r[8]&&r[9]&&r[10]?(u.ratingData.ratingValuesAscending=r,this.make(u)):null)},t.prototype.getType=function(){return l.Type.Nps},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getCommentComponent=function(){return this.question},t.prototype.getPromptComponent=function(){return this.prompt},t.prototype.getRatingComponent=function(){return this.rating},t.prototype.getCVSurveyComponent=function(){return this.cvSurvey},t.prototype.getComponent=function(n){switch(n){case"Comment":return this.getCommentComponent();case"Prompt":return this.getPromptComponent();case"Rating":return this.getRatingComponent();case"CVSurvey":return this.getCVSurveyComponent();default:return null}},t.prototype.getDomElements=function(n){if(!n)throw new Error("Document must not be null");var t=n.createElement(l.DOM_NPS_TAGNAME);return this.getSurveyInfo().getDomElements(n).forEach(function(n){n&&t.appendChild(n)}),this.getCommentComponent().getDomElements(n).forEach(function(n){n&&t.appendChild(n)}),this.getRatingComponent().getDomElements(n).forEach(function(n){n&&t.appendChild(n)}),[t]},t.prototype.getJsonElements=function(){var t,n={};return n=h(this.getSurveyInfo().getJsonElements(),n),n=h(this.getCommentComponent().getJsonElements(),n),(n=h(this.getRatingComponent().getJsonElements(),n))[u.JSON_APPLICATION_KEYNAME]={},n[u.JSON_APPLICATION_KEYNAME][u.JSON_EXTENDEDMANIFESTDATA_KEYNAME]=JSON.stringify(((t={})[u.JSON_SURVEYSTRINGS_KEYNAME]=this.makeSurveyStrings(),t)),n},t.prototype.makeSurveyStrings=function(){var n={};return this.prompt&&(n[u.JSON_PROMPT_KEYNAME]=this.prompt.getComponentJson()),this.rating&&(n[u.JSON_RATING_KEYNAME]=[this.rating.getComponentJson()]),this.question&&(n[u.JSON_COMMENT_KEYNAME]=[this.question.getComponentJson()]),JSON.stringify(n)},t}(p.Survey);!function(n){var t=function(){};n.NpsSurveyData=t}(c||(c={}));n.exports=c},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FloodgateSettings=void 0;var i=function(){function n(){}return n.toJson=function(n){return JSON.stringify(n)},n.fromJson=function(n){return JSON.parse(n)},n}();t.FloodgateSettings=i},function(n){"use strict";var t=function(){function n(n){if(!n)throw new Error("trackingSet must not be null");if(n.getList().length>32)throw new Error("trackingSet list size must be less than 32");this.isOrdered=n.getIsOrdered();this.trackedActivities=n.getList();this.currentIndex=0;this.activationMask=0;this.currentActivationFlags=0;this.isActivationByInitPending=!1;this.currentCounts=new Array(this.trackedActivities.length);this.currentStartTimes=new Array(this.trackedActivities.length);this.currentSessionCounts=new Array(this.trackedActivities.length);for(var t=0;t<this.trackedActivities.length;t++)this.currentCounts[t]=0,this.currentSessionCounts[t]=0;for(t=0;t<this.trackedActivities.length;t++)this.activationMask|=1<<t,this.trackedActivities[t].getCount()<1&&this.trackedActivities[t].setCount(1)}return n.prototype.getCount=function(n){return this.isValidIndex(n)?this.currentCounts[n]:0},n.prototype.getSessionCount=function(n){return this.isValidIndex(n)?this.currentSessionCounts[n]:0},n.prototype.getStartTime=function(n){return this.isValidIndex(n)?this.currentStartTimes[n]:null},n.prototype.moveSessionCountIntoBaseCount=function(n){if(!this.isValidIndex(n))return 0;var t=this.currentSessionCounts[n];return this.currentSessionCounts[n]=0,t},n.prototype.initCounts=function(n,t,i){void 0===i&&(i=!1);for(var r=0;r<this.trackedActivities.length&&!(this.isOrdered&&r>this.currentIndex);r++)r<t.length&&t[r]&&(this.currentSessionCounts[r]=this.currentCounts[r]=t[r].tracker.getSessionCount(t[r].index),this.currentStartTimes[r]=t[r].tracker.getStartTime(t[r].index)),this.trackedActivities[r].getIsAggregate()&&r<n.length&&(this.currentCounts[r]+=n[r]),this.hasCountCrossedThreshold(r)&&this.finishActivityAtIndex(r);this.isActivated()&&!i&&(this.isActivationByInitPending=!0)},n.prototype.generateActivityIndexList=function(){for(var i,r=[],t=0;t<this.trackedActivities.length;t++)i=new n.ActivityIndex,i.activity=this.trackedActivities[t].getActivity(),i.index=t,r.push(i);return r},n.prototype.incrementActivity=function(n,t){if(!this.isValidIndex(n))return 0;if(t<0)throw new Error("increment must be non-negative");if(this.isOrdered&&n>this.currentIndex)return 0;var i=!this.hasCountCrossedThreshold(n);return this.currentCounts[n]+=t,this.currentSessionCounts[n]+=t,this.isActivationByInitPending?this.isPermittedIndexForActivationByInit(n)?this.commitActivation():0:i&&this.hasCountCrossedThreshold(n)?(this.finishActivityAtIndex(n),this.isActivated()?this.commitActivation():1):0},n.prototype.startTime=function(n,t){this.isValidIndex(n)&&(this.currentStartTimes[n]=t||new Date)},n.prototype.stopTime=function(n,t){var i,r;return this.isValidIndex(n)?(i=this.currentStartTimes[n],this.currentStartTimes[n]=null,!i)?0:i>(t=t||new Date)?0:(r=(t.getTime()-i.getTime())/1e3,r%1==0&&(r+=.001),r):0},n.prototype.isValidIndex=function(n){return n<this.trackedActivities.length},n.prototype.isActivated=function(){return(this.currentActivationFlags&this.activationMask)===this.activationMask},n.prototype.finishActivityAtIndex=function(n){if(!this.isValidIndex(n))throw new Error("Index is not valid");this.currentActivationFlags|=1<<n;n+1<this.trackedActivities.length&&(this.currentIndex=n+1)},n.prototype.hasCountCrossedThreshold=function(n){if(!this.isValidIndex(n))throw new Error("Index is not valid");return this.currentCounts[n]>=this.trackedActivities[n].getCount()},n.prototype.isPermittedIndexForActivationByInit=function(n){return!this.isOrdered||n+1===this.currentCounts.length},n.prototype.commitActivation=function(){return this.isActivationByInitPending=!1,2},n}();!function(n){var t=function(){};n.ActivityIndex=t}(t||(t={}));n.exports=t},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.IndexedTracker=void 0;var i=function(){};t.IndexedTracker=i},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ActivityTrackingContract=void 0;var i=function(n,t){this.surveyId=n;this.trackingSet=t};t.ActivityTrackingContract=i},function(n,t,i){"use strict";function r(n){var t=null==n?void 0:n.getMaxLaunches();return u.isNumber(t)&&t>1}function f(n){var t=null==n?void 0:n.getBusinessLevel();return!u.isNOU(t)&&t===e.ISurveyInfo.BusinessLevel.Critical}Object.defineProperty(t,"__esModule",{value:!0});t.hasSurveyReachedMaxLaunches=t.hasSurveyReachedMaxLaunchesPerSession=t.isCriticalSurvey=t.isBusinessCriticalSurvey=t.isMultiLaunchSurvey=void 0;var e=i(11),u=i(9);t.isMultiLaunchSurvey=r;t.isBusinessCriticalSurvey=f;t.isCriticalSurvey=function(n){return r(n)||f(n)};t.hasSurveyReachedMaxLaunchesPerSession=function(n,t){var i;return!r(n)||!u.isNumber(n.getMaxLaunchesPerSession())||(null!==(i=t[n.getId()])&&void 0!==i?i:0)>=n.getMaxLaunchesPerSession()};t.hasSurveyReachedMaxLaunches=function(n,t){return!r(n)||((null==t?void 0:t.SurveyLaunchCount)||0)>=n.getMaxLaunches()}},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.validateUserFacts=t.deserializeUserFacts=void 0;var r=i(78);t.deserializeUserFacts=function(n){var t=[],i,u;for(i in n.UserFacts)n.UserFacts.hasOwnProperty(i)&&(u=n.UserFacts[i],u&&t.push(r.UserFact.deserialize(u)));return 0===t.length&&(t=null),t};t.validateUserFacts=function(n){if(n)for(var t in n)if(n.hasOwnProperty(t)&&!n[t])return!1;return!0}},function(n,t,i){"use strict";function e(n,t,i){switch(i){case 0:return t===n;case 1:return t!==n;case 2:return t>n;case 3:return t>=n;case 4:return t<n;case 5:return t<=n;case 6:return o(n,t);case 7:return!o(n,t);case 8:return o(t,n);case 9:return!o(t,n)}}function o(n,t){if("string"==typeof t){var i=t.toLowerCase();if("string"==typeof n)return-1!==n.toLowerCase().indexOf(i);if(l(n))return n.some(function(n){return n&&n.toString().toLowerCase()===i})}return!!l(n)&&-1!==n.indexOf(t)}function s(n,t,i,f){if(!c(n)){var e="User fact "+i+" has invalid value "+t;return f&&(e="Invalid value "+t+" was provided for user fact of type "+f),u.FloodgateEngine.getTelemetryLogger().log_Error(r.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed,e),!1}return!0}Object.defineProperty(t,"__esModule",{value:!0});t.UserFact=void 0;var r=i(15),u=i(20),h=i(9),f=h.isNOU,c=h.isNumber,l=h.isArray,a=[0,1,2,3,4,5],v=function(){function n(n){this.input=n}return n.deserialize=function(t){return this.validate(t)?new n(t):null},n.validate=function(n){if(!n)return u.FloodgateEngine.getTelemetryLogger().log_Error(r.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Input is null or undefined for user fact"),!1;if(!n.Value&&n.Values&&(n.Value=n.Values),f(n.Name)||f(n.Type)||f(n.Value))return u.FloodgateEngine.getTelemetryLogger().log_Error(r.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Either of the required parameters Name: "+n.Name+", Type: "+n.Type+" or Value: "+n.Value+" are not provided for the user fact"),!1;if(!this.validateUserFactType(n.Type))return u.FloodgateEngine.getTelemetryLogger().log_Error(r.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Invalid UserFactType value "+n.Type+" is provided for user fact"),!1;if(6===n.Type)return u.FloodgateEngine.getTelemetryLogger().log_Error(r.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Unsupported UserFactType value "+n.Type+" is provided for user fact"),!1;if(n.LatencyType&&!this.validateLatencyType(n.LatencyType))return u.FloodgateEngine.getTelemetryLogger().log_Error(r.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Invalid LatencyType value "+n.LatencyType+" is provided for user fact of type "+n.Type),!1;if(n.LatencyType&&0!==n.LatencyType&&f(n.LatencyDurationInSeconds))return u.FloodgateEngine.getTelemetryLogger().log_Error(r.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"LatencyDurationInSeconds value "+n.LatencyDurationInSeconds+" is not provided for user fact of type "+n.Type),!1;if(n.LatencyDurationInSeconds&&!c(n.LatencyDurationInSeconds))return u.FloodgateEngine.getTelemetryLogger().log_Error(r.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Invalid LatencyDurationInSeconds value "+n.LatencyDurationInSeconds+" is provided for user fact of type "+n.Type),!1;if(1===n.Type&&f(n.IntervalType))return u.FloodgateEngine.getTelemetryLogger().log_Error(r.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Required parameter intervalType is not provided for user fact of type "+n.Type),!1;var t=this.getComparatorTypes(n.Type);return!(n.Comparator&&!function(n,t){return-1!==t.indexOf(n)}(n.Comparator,t))||(u.FloodgateEngine.getTelemetryLogger().log_Error(r.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed,"Unsupported comparator type for user fact of type "+n.Type),!1)},n.getComparatorTypes=function(n){switch(n){case 0:return[0,1];case 4:return[0,1,6,7,8,9];case 5:return[6,7,8,9];case 1:case 2:case 3:case 6:return a}return a},n.validateLatencyType=function(n){return 0===n||3===n||1===n||2===n},n.validateUserFactType=function(n){return 0===n||2===n||3===n||4===n||1===n||5===n||6===n},n.prototype.isAMatch=function(n){if(!n||!n.userFactValue||!this.isLatencyAcceptable(n))return!1;try{var t=this.getType();return 0===t?function(n,t,i){var r=JSON.parse(t.userFactValue.toLowerCase());return e(!!n,!!r,i)}(this.getValue(),n,this.getComparator()):2===t?function(n,t,i){var u=Date.parse(t.userFactValue),r;return s(u,t.userFactValue,t.userFactName)?(r=Date.parse(n),!s(r,n,null,2))?!1:e(r,u,i):!1}(this.getValue(),n,this.getComparator()):3===t?function(n,t,i){var r=parseInt(t.userFactValue,10);return s(r,t.userFactValue,t.userFactName)?e(n,r,i):!1}(this.getValue(),n,this.getComparator()):4===t?function(n,t,i){return e(n.toLowerCase(),t.userFactValue.toLowerCase(),i)}(this.getValue(),n,this.getComparator()):1===t?function(n,t,i,f){var h=Date.parse(t.userFactValue),c,o;return s(h,t.userFactValue,t.userFactName)?(c=Date.now(),o=0===f?c-h:h-c,o<0)?(u.FloodgateEngine.getTelemetryLogger().log_Event(r.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Mismatch,{ErrorMessage:"Interval type not acceptable - { Spec: "+n+', Name: "'+t.userFactName+'" }',TimeMilliseconds:o,Type:""+f}),!1):e(864e5*n,o,i):!1}(this.getValue(),n,this.getComparator(),this.getIntervalType()):5===t?function(n,t,i){return e(n,t.userFactValue,i)}(this.getValue(),n,this.getComparator()):(u.FloodgateEngine.getTelemetryLogger().log_Error(r.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed,"Unsupported type of user fact was provided "+t),!1)}catch(n){return u.FloodgateEngine.getTelemetryLogger().log_Error(r.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed,n),!1}},n.prototype.getType=function(){return this.input.Type},n.prototype.getName=function(){return this.input.Name},n.prototype.getValue=function(){return this.input.Value},n.prototype.getComparator=function(){return this.input.Comparator||0},n.prototype.getLatencyType=function(){return this.input.LatencyType||0},n.prototype.getLatencyDurationInSeconds=function(){return this.input.LatencyDurationInSeconds},n.prototype.getIntervalType=function(){return this.input.IntervalType},n.prototype.isLatencyAcceptable=function(n){var t=this.getType();return!(!f(this.getLatencyDurationInSeconds())&&!function(n,t,i){var r,u;switch(n){case 1:r=i.sourceDateTime;break;case 2:r=i.storageDateTime;break;case 3:r=i.clientIngestionDateTime}return f(r)?!0:(u=Date.parse(r),Date.now()-u<=1e3*t)}(this.getLatencyType(),this.getLatencyDurationInSeconds(),n))||(u.FloodgateEngine.getTelemetryLogger().log_Event(r.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Mismatch,{ErrorMessage:'Latency duration not acceptable - { Name: "'+n.userFactName+'" }',TimeMilliseconds:this.getLatencyDurationInSeconds(),Type:""+t}),!1)},n}();t.UserFact=v},function(n){var t;t=function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.i=function(n){return n},t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=15)}([function(n,t){"use strict";var i,r,u;Object.defineProperty(t,"__esModule",{value:!0});i=function(){function n(n){this.low=0;this.high=0;this.low=parseInt(n,10);this.low<0&&(this.high=-1)}return n.prototype.Equals=function(t){var i=new n(t);return this.low===i.low&&this.high===i.high},n}();t.Int64=i;r=function(){function n(n){this.low=0;this.high=0;this.low=parseInt(n,10)}return n.prototype.Equals=function(t){var i=new n(t);return this.low===i.low&&this.high===i.high},n}();t.UInt64=r;u=function(){function n(){}return n.ToByte=function(n){return this.ToUInt8(n)},n.ToInt16=function(n){return 32767&n|(32768&n)<<16>>16},n.ToInt32=function(n){return 2147483647&n|2147483648&n},n.ToUInt8=function(n){return 255&n},n.ToUInt32=function(n){return 4294967295&n},n}();t.Number=u},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.NotSet=0]="NotSet";n[n.DistinguishedName=1]="DistinguishedName";n[n.GenericData=2]="GenericData";n[n.IPV4Address=3]="IPV4Address";n[n.IPv6Address=4]="IPv6Address";n[n.MailSubject=5]="MailSubject";n[n.PhoneNumber=6]="PhoneNumber";n[n.QueryString=7]="QueryString";n[n.SipAddress=8]="SipAddress";n[n.SmtpAddress=9]="SmtpAddress";n[n.Identity=10]="Identity";n[n.Uri=11]="Uri";n[n.Fqdn=12]="Fqdn";n[n.IPV4AddressLegacy=13]="IPV4AddressLegacy"}(t.AWTPiiKind||(t.AWTPiiKind={}))},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),f=i(1),u=i(3),e=function(){function n(){}return n.getPayloadBlob=function(n,t){var f=new r.IO.MemoryStream,i=new r.CompactBinaryProtocolWriter(f);return i.WriteFieldBegin(r.BondDataType.BT_MAP,3),i.WriteMapContainerBegin(t,r.BondDataType.BT_STRING,r.BondDataType.BT_LIST),Object.keys(n).forEach(function(t){var f,e;for(i.WriteString(t),f=n[t],i.WriteContainerBegin(1,r.BondDataType.BT_STRUCT),i.WriteFieldBegin(r.BondDataType.BT_STRING,2),i.WriteString("act_default_source"),i.WriteFieldBegin(r.BondDataType.BT_STRING,5),i.WriteString(u.newGuid()),i.WriteFieldBegin(r.BondDataType.BT_INT64,6),i.WriteInt64(u.numberToBondInt64(Date.now())),i.WriteFieldBegin(r.BondDataType.BT_LIST,8),i.WriteContainerBegin(f.length,r.BondDataType.BT_STRUCT),e=0;e<f.length;++e)i.WriteBlob(f[e]);i.WriteStructEnd(!1)}),i.WriteStructEnd(!1),f.GetBuffer()},n.getEventBlob=function(n){var o=new r.IO.MemoryStream,t=new r.CompactBinaryProtocolWriter(o),i,e;return t.WriteFieldBegin(r.BondDataType.BT_STRING,1),t.WriteString(n.id),t.WriteFieldBegin(r.BondDataType.BT_INT64,3),t.WriteInt64(u.numberToBondInt64(n.timestamp)),t.WriteFieldBegin(r.BondDataType.BT_STRING,5),t.WriteString(n.type),t.WriteFieldBegin(r.BondDataType.BT_STRING,6),t.WriteString(n.name),i=[],e=[],Object.keys(n.properties).forEach(function(t){n.properties[t].pii===f.AWTPiiKind.NotSet?i.push(t):e.push(t)}),i.length&&(t.WriteFieldBegin(r.BondDataType.BT_MAP,13),t.WriteMapContainerBegin(i.length,r.BondDataType.BT_STRING,r.BondDataType.BT_STRING),i.forEach(function(i){t.WriteString(i);t.WriteString(n.properties[i].value)})),e.length&&(t.WriteFieldBegin(r.BondDataType.BT_MAP,30),t.WriteMapContainerBegin(e.length,r.BondDataType.BT_STRING,r.BondDataType.BT_STRUCT),e.forEach(function(i){t.WriteString(i);t.WriteFieldBegin(r.BondDataType.BT_INT32,1);t.WriteInt32(1);t.WriteFieldBegin(r.BondDataType.BT_INT32,2);t.WriteInt32(n.properties[i].pii);t.WriteFieldBegin(r.BondDataType.BT_STRING,3);t.WriteString(n.properties[i].value);t.WriteStructEnd(!1)})),t.WriteStructEnd(!1),o.GetBuffer()},n.base64Encode=function(n){return r.Encoding.Base64.GetString(n)},n}();t.default=e},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(0),u=/[xy]/g;t.numberToBondInt64=function(n){var t=new r.Int64("0");return t.low=4294967295&n,t.high=Math.floor(n/4294967296),t};t.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(u,function(n){var t=16*Math.random()|0;return("x"===n?t:3&t|8).toString(16)})};t.isPii=function(n){return!isNaN(n)&&null!==n&&n>=0&&n<=13}},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Version="1.2.2";t.FullVersionString="AWT-Web-CJS-"+t.Version},function(n,t,i){"use strict";var r,u;Object.defineProperty(t,"__esModule",{value:!0});r=i(1);t.AWTPiiKind=r.AWTPiiKind;u=i(13);t.AWT=u.default;t.AWT_COLLECTOR_URL_UNITED_STATES="https://us.pipe.aria.microsoft.com/Collector/3.0/";t.AWT_COLLECTOR_URL_GERMANY="https://de.pipe.aria.microsoft.com/Collector/3.0/";t.AWT_COLLECTOR_URL_JAPAN="https://jp.pipe.aria.microsoft.com/Collector/3.0/";t.AWT_COLLECTOR_URL_AUSTRALIA="https://au.pipe.aria.microsoft.com/Collector/3.0/";t.AWT_COLLECTOR_URL_EUROPE="https://eu.pipe.aria.microsoft.com/Collector/3.0/"},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.BT_STOP=0]="BT_STOP";n[n.BT_STOP_BASE=1]="BT_STOP_BASE";n[n.BT_UINT8=3]="BT_UINT8";n[n.BT_UINT32=5]="BT_UINT32";n[n.BT_UINT64=6]="BT_UINT64";n[n.BT_STRING=9]="BT_STRING";n[n.BT_STRUCT=10]="BT_STRUCT";n[n.BT_LIST=11]="BT_LIST";n[n.BT_MAP=13]="BT_MAP";n[n.BT_INT32=16]="BT_INT32";n[n.BT_INT64=17]="BT_INT64";n[n.BT_UNAVAILABLE=127]="BT_UNAVAILABLE"}(t.BondDataType||(t.BondDataType={}))},function(n,t,i){"use strict";var r,u,f,e,o,s;Object.defineProperty(t,"__esModule",{value:!0});r=i(0);u=function(){function n(){}return n.GetBytes=function(n){for(var t,i=[],r=0;r<n.length;++r)t=n.charCodeAt(r),t<128?i.push(t):t<2048?i.push(192|t>>6,128|63&t):t<55296||t>=57344?i.push(224|t>>12,128|t>>6&63,128|63&t):(t=65536+((1023&t)<<10|1023&n.charCodeAt(++r)),i.push(240|t>>18,128|t>>12&63,128|t>>6&63,128|63&t));return i},n}();t.Utf8=u;f=function(){function n(){}return n.GetString=function(n){for(var u,e,f,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=[],o=n.length%3,r=0,s=n.length-o;r<s;r+=3)u=(n[r]<<16)+(n[r+1]<<8)+n[r+2],i.push([t.charAt((f=u)>>18&63),t.charAt(f>>12&63),t.charAt(f>>6&63),t.charAt(63&f)].join(""));switch(o){case 1:u=n[n.length-1];i.push(t.charAt(u>>2));i.push(t.charAt(u<<4&63));i.push("==");break;case 2:e=(n[n.length-2]<<8)+n[n.length-1];i.push(t.charAt(e>>10));i.push(t.charAt(e>>4&63));i.push(t.charAt(e<<2&63));i.push("=")}return i.join("")},n}();t.Base64=f;e=function(){function n(){}return n.GetBytes=function(n){for(var t=[];4294967168&n;)t.push(127&n|128),n>>>=7;return t.push(127&n),t},n}();t.Varint=e;o=function(){function n(){}return n.GetBytes=function(n){for(var t=n.low,i=n.high,r=[];i||4294967168&t;)r.push(127&t|128),t=(127&i)<<25|t>>>7,i>>>=7;return r.push(127&t),r},n}();t.Varint64=o;s=function(){function n(){}return n.EncodeZigzag32=function(n){return(n=r.Number.ToInt32(n))<<1^n>>31},n.EncodeZigzag64=function(n){var f=n.low,e=n.high,i=e<<1|f>>>31,u=f<<1,t;return 2147483648&e&&(i=~i,u=~u),t=new r.UInt64("0"),t.low=u,t.high=i,t},n}();t.Zigzag=s},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(0),u=function(){function n(){this._buffer=[]}return n.prototype.WriteByte=function(n){this._buffer.push(r.Number.ToByte(n))},n.prototype.Write=function(n,t,i){for(;i--;)this.WriteByte(n[t++])},n.prototype.GetBuffer=function(){return this._buffer},n}();t.MemoryStream=u},function(n,t,i){"use strict";var f,r,e,u,o;Object.defineProperty(t,"__esModule",{value:!0});f=i(6);t.BondDataType=f.BondDataType;r=i(7);t.Encoding=r;e=i(8);t.IO=e;u=i(0);t.Int64=u.Int64;t.UInt64=u.UInt64;t.Number=u.Number;o=function(){function n(n){this._stream=n}return n.prototype.WriteBlob=function(n){this._stream.Write(n,0,n.length)},n.prototype.WriteContainerBegin=function(n,t){this.WriteUInt8(t);this.WriteUInt32(n)},n.prototype.WriteMapContainerBegin=function(n,t,i){this.WriteUInt8(t);this.WriteUInt8(i);this.WriteUInt32(n)},n.prototype.WriteFieldBegin=function(n,t){t<=5?this._stream.WriteByte(n|t<<5):t<=255?(this._stream.WriteByte(192|n),this._stream.WriteByte(t)):(this._stream.WriteByte(224|n),this._stream.WriteByte(t),this._stream.WriteByte(t>>8))},n.prototype.WriteInt32=function(n){n=r.Zigzag.EncodeZigzag32(n);this.WriteUInt32(n)},n.prototype.WriteInt64=function(n){this.WriteUInt64(r.Zigzag.EncodeZigzag64(n))},n.prototype.WriteString=function(n){if(""===n)this.WriteUInt32(0);else{var t=r.Utf8.GetBytes(n);this.WriteUInt32(t.length);this._stream.Write(t,0,t.length)}},n.prototype.WriteStructEnd=function(n){this.WriteUInt8(n?f.BondDataType.BT_STOP_BASE:f.BondDataType.BT_STOP)},n.prototype.WriteUInt32=function(n){var t=r.Varint.GetBytes(u.Number.ToUInt32(n));this._stream.Write(t,0,t.length)},n.prototype.WriteUInt64=function(n){var t=r.Varint64.GetBytes(n);this._stream.Write(t,0,t.length)},n.prototype.WriteUInt8=function(n){this._stream.WriteByte(u.Number.ToUInt8(n))},n}();t.CompactBinaryProtocolWriter=o},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){this._killedTokenDictionary={}}return n.prototype.setKillSwitchTenants=function(n,t){var u=this,i,r;if(n&&t)try{if(i=n.split(","),"this-request-only"===t)return i;r=1e3*parseInt(t,10);i.forEach(function(n){u._killedTokenDictionary[n]=Date.now()+r})}catch(n){return[]}return[]},n.prototype.isTenantKilled=function(n){return void 0!==this._killedTokenDictionary[n]&&this._killedTokenDictionary[n]>Date.now()||(delete this._killedTokenDictionary[n],!1)},n}();t.default=i},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(2),u=function(){function n(n,t){this._maxRequestSize=n;this._outboundQueue=t;this._currentBatch={};this._currentBatchSize=0}return n.prototype.addEventToBatch=function(n){var t=r.default.getEventBlob(n);t.length>this._maxRequestSize||(this._currentBatchSize+t.length>this._maxRequestSize?this.flushBatch():(void 0===this._currentBatch[n.tenantToken]&&(this._currentBatch[n.tenantToken]=[]),this._currentBatch[n.tenantToken].push(t),this._currentBatchSize+=t.length))},n.prototype.flushBatch=function(){this._currentBatchSize>0&&(this._outboundQueue.push(this._currentBatch),this._currentBatch={},this._currentBatchSize=0)},n}();t.default=u},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){}return n.shouldRetryForStatus=function(n){return!(n>=300&&n<500&&408!==n||501===n||505===n)},n.getMillisToBackoffForRetry=function(n){var t,i=Math.floor(1200*Math.random())+2400;return t=Math.pow(4,n)*i,Math.min(t,12e4)},n}();t.default=i},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=i(1),r=i(14),u=i(3),o=i(4),e=/^[a-zA-Z0-9]([a-zA-Z0-9]|_){2,98}[a-zA-Z0-9]$/,s=/\./g,h=/^[a-zA-Z0-9](([a-zA-Z0-9|_|\.]){0,98}[a-zA-Z0-9])?$/,c=function(){function n(){}return n.initialize=function(n,t){if(void 0===t&&(t={}),this._isInitialized)throw"Already Initialized";this._defaultTenantToken=n;this._overrideValuesFromConfig(t);r.default.initialize(this._config);this._isInitialized=!0},n.flush=function(n){this._isInitialized&&!this._isDestroyed&&r.default.flush(n)},n.flushAndTeardown=function(){this._isInitialized&&!this._isDestroyed&&(this._isDestroyed=!0,r.default.flushAndTeardown())},n.setContext=function(n,t,i){void 0===i&&(i="allTkns");null!==(t=this._sanitizeProperty(n,t))&&(this._contextProperties[i]||(this._contextProperties[i]={}),this._contextProperties[i][n]=t)},n.logEvent=function(n){var i=this,t;if(this._isInitialized){if(!n.name||!n.properties)return;if(n.name=n.name.toLowerCase(),n.name.replace(s,"_"),t="",n.type?(n.type.toLowerCase(),t="custom."):n.type="custom",!e.test(n.name)||!e.test(n.type))return;if(n.type=t+n.type,isNaN(n.timestamp)&&(n.timestamp=(new Date).getTime()),n.tenantToken||(n.tenantToken=this._defaultTenantToken),n.id=u.newGuid(),Object.keys(n.properties).forEach(function(t){n.properties[t]=i._sanitizeProperty(t,n.properties[t]);null===n.properties[t]&&delete n.properties[t]}),this._addContextIfAbsent(n,n.tenantToken),this._addContextIfAbsent(n,"allTkns"),0===Object.keys(n.properties).length)return;this._setDefaultProperty(n,"EventInfo.InitId",this._getInitId(n.tenantToken));this._setDefaultProperty(n,"EventInfo.Sequence",this._getSequenceId(n.tenantToken));this._setDefaultProperty(n,"EventInfo.SdkVersion",o.FullVersionString);this._setDefaultProperty(n,"EventInfo.Name",n.name);this._setDefaultProperty(n,"EventInfo.Time",new Date(n.timestamp).toISOString());r.default.sendEvent(n)}},n._overrideValuesFromConfig=function(n){n.collectorUrl&&(this._config.collectorUrl=n.collectorUrl);n.sendingTimer>1e3&&(this._config.sendingTimer=n.sendingTimer)},n._getInitId=function(n){return void 0===this._initIdMap[n]&&(this._initIdMap[n]=u.newGuid()),this._initIdMap[n]},n._getSequenceId=function(n){return void 0===this._sequenceIdMap[n]&&(this._sequenceIdMap[n]=0),(++this._sequenceIdMap[n]).toString()},n._setDefaultProperty=function(n,t,i){n.properties[t]={value:i,pii:f.AWTPiiKind.NotSet}},n._addContextIfAbsent=function(n,t){if(this._contextProperties[t]){var i=this._contextProperties[t];Object.keys(i).forEach(function(t){n.properties[t]||(n.properties[t]=i[t])})}},n._sanitizeProperty=function(n,t){return"string"!=typeof t&&"number"!=typeof t&&"boolean"!=typeof t||(t={value:t}),h.test(n)&&null!=t&&null!==t.value&&void 0!==t.value&&""!==t.value?(void 0===t.pii&&(t.pii=f.AWTPiiKind.NotSet),t.value=t.value.toString(),u.isPii(t.pii)?t:null):null},n._isInitialized=!1,n._isDestroyed=!1,n._contextProperties={},n._sequenceIdMap={},n._initIdMap={},n._config={collectorUrl:"https://browser.pipe.aria.microsoft.com/Collector/3.0/",sendingTimer:1e3},n}();t.default=c},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=i(11),r=i(2),u=i(12),e=i(10),o=i(4),s=function(){function n(){}return n.initialize=function(n){this._inboundQueues.push([]);this._recordBatcher=new f.default(2936012,this._outboundQueue);this._newEventsAllowed=!0;"undefined"==typeof Uint8Array&&(this._urlString+="&content-encoding=base64");this._sendingTimer=n.sendingTimer;this._urlString=n.collectorUrl+this._urlString+"&x-apikey="},n.sendEvent=function(n){var t=this;this._newEventsAllowed&&(this._inboundQueues[this._inboundQueues.length-1].push(n),!this._running&&this._timeout<0&&!this._isCurrentlyFlushing&&(this._timeout=setTimeout(function(){return t._batchAndSendEvents(!1)},this._sendingTimer)))},n.flushAndTeardown=function(){this._newEventsAllowed=!1;this._batchAndSendEvents(!0)},n.flush=function(n){this._inboundQueues.push([]);this._isCurrentlyFlushing?this._flushQueue.push(n):(this._isCurrentlyFlushing=!0,this._flush(n))},n._batchAndSendEvents=function(n){for(this._running=!0;this._inboundQueues[0].length>0&&this._outboundQueue.length<1;)this._recordBatcher.addEventToBatch(this._inboundQueues[0].pop());0===this._outboundQueue.length&&this._recordBatcher.flushBatch();this._sendRequest(this._outboundQueue.pop(),0,n)},n._retryRequestIfNeeded=function(n,t,i,r,f){var o=this,e=!0;n&&void 0!==n.status&&(this._killSwitch.setKillSwitchTenants(n.getResponseHeader("kill-tokens"),n.getResponseHeader("kill-duration-seconds")).forEach(function(n){delete t[n];i--}),(!u.default.shouldRetryForStatus(n.status)||i<=0)&&(e=!1));e&&f<4?setTimeout(function(){return o._sendRequest(t,f+1,!1)},u.default.getMillisToBackoffForRetry(f)):this._handleRequestFinished(null)},n._sendRequest=function(n,t,i){var o=this,s;try{var u=new XMLHttpRequest,e=0,f="";(Object.keys(n).forEach(function(t){o._killSwitch.isTenantKilled(t)?delete n[t]:(f.length>0&&(f+=","),f+=t,e++)}),u.open("POST",this._urlString+f,!i),i||(u.ontimeout=function(){o._retryRequestIfNeeded(u,n,e,f,t)},u.onerror=function(){o._retryRequestIfNeeded(u,n,e,f,t)},u.onload=function(){o._handleRequestFinished(u)}),e>0)?(s=r.default.getPayloadBlob(n,e),"undefined"==typeof Uint8Array?u.send(r.default.base64Encode(s)):u.send(new Uint8Array(s))):i&&this._handleRequestFinished(null)}catch(n){this._handleRequestFinished(null)}},n._handleRequestFinished=function(n){var t=this;n&&this._killSwitch.setKillSwitchTenants(n.getResponseHeader("kill-tokens"),n.getResponseHeader("kill-duration-seconds"));this._inboundQueues[0].length>0?this._timeout=setTimeout(function(){return t._batchAndSendEvents(!1)},this._sendingTimer):(this._timeout=-1,this._running=!1)},n._flush=function(n){var t=this;this._running||(this._timeout>-1&&(clearTimeout(this._timeout),this._timeout=-1),this._inboundQueues[0].length>0&&this._batchAndSendEvents(!1));this._checkPrimaryInboundQueueEmpty(function(){t._inboundQueues.shift();null!=n&&n();t._flushQueue.length>0?setTimeout(function(){return t._flush(t._flushQueue.shift())},t._sendingTimer):(t._isCurrentlyFlushing=!1,t._inboundQueues[0].length>0&&(t._timeout=setTimeout(function(){return t._batchAndSendEvents(!1)},t._sendingTimer)))})},n._checkPrimaryInboundQueueEmpty=function(n){var t=this;0===this._inboundQueues[0].length?this._checkOutboundQueueEmptyAndSent(n):setTimeout(function(){return t._checkPrimaryInboundQueueEmpty(n)},250)},n._checkOutboundQueueEmptyAndSent=function(n){var t=this;this._running?setTimeout(function(){return t._checkOutboundQueueEmptyAndSent(n)},250):n()},n._outboundQueue=[],n._inboundQueues=[],n._newEventsAllowed=!1,n._killSwitch=new e.default,n._isCurrentlyFlushing=!1,n._flushQueue=[],n._running=!1,n._timeout=-1,n._urlString="?qsp=true&content-type=application%2Fbond-compact-binary&client-id=NO_AUTH&sdk-version="+o.FullVersionString,n}();t.default=s},function(n,t,i){n.exports=i(5)}])};n.exports=t()},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AnnotationState=void 0,function(n){n[n.Undefined=0]="Undefined";n[n.Created=10]="Created";n[n.Sent=20]="Sent";n[n.Duplicated=30]="Duplicated";n[n.Seen=40]="Seen";n[n.Tried=50]="Tried";n[n.Kept=60]="Kept";n[n.Rejected=70]="Rejected"}(t.AnnotationState||(t.AnnotationState={}))},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GridConstants=void 0;var i=function(){function n(){}return n.lowerIndexBound=1,n.maxNumberOfRows=1048576,n.maxNumberOfColumns=16384,n.firstColumnName="A",n.lastColumnName="XFD",n}();t.GridConstants=i},function(n,t,i){"use strict";var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.BinaryClassificationAnnotation=t.Annotation=void 0;r=i(26);u=function(){function n(t){r.SchemaObject.assign(n,this,t)}return Object.defineProperty(n.prototype,"metadata",{get:function(){return this.M_},set:function(n){this.M_=n},enumerable:!1,configurable:!0}),n.getTypeName=function(){return"AugLoop_Core_Annotation"},n.getBaseTypes=function(){return[]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.Annotation=u;f=function(){function n(t){r.SchemaObject.assign(n,this,t)}return Object.defineProperty(n.prototype,"metadata",{get:function(){return this.M_},set:function(n){this.M_=n},enumerable:!1,configurable:!0}),n.getTypeName=function(){return"AugLoop_Core_BinaryClassificationAnnotation"},n.getBaseTypes=function(){return["AugLoop_Core_Annotation"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.BinaryClassificationAnnotation=f},function(n,t,i){"use strict";var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.UserCommand=t.Event=void 0;r=i(26);u=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_Event"},n.getBaseTypes=function(){return[]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.Event=u;f=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_UserCommand"},n.getBaseTypes=function(){return["AugLoop_Core_Event"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.UserCommand=f},function(n,t,i){"use strict";var r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k;Object.defineProperty(t,"__esModule",{value:!0});t.SignalOperation=t.MicroSyncOperation=t.DeltaUpdateOperation=t.VisibilityOperation=t.FocusOperation=t.PurgeOperation=t.DeleteOperation=t.UpdateOperation=t.UpdateAnnotationMetaDataOperation=t.MoveOperation=t.AddOperation=t.OperationWithSiblingContext=t.Operation=t.ItemChangesDelta=t.ItemDelta=void 0;r=i(26);u=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_ItemDelta"},n.getBaseTypes=function(){return[]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.ItemDelta=u;f=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_ItemChangesDelta"},n.getBaseTypes=function(){return["AugLoop_Core_ItemDelta"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.ItemChangesDelta=f;e=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_Operation"},n.getBaseTypes=function(){return[]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.Operation=e;o=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_OperationWithSiblingContext"},n.getBaseTypes=function(){return["AugLoop_Core_Operation"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.OperationWithSiblingContext=o;s=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_AddOperation"},n.getBaseTypes=function(){return["AugLoop_Core_OperationWithSiblingContext","AugLoop_Core_Operation"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.AddOperation=s;h=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_MoveOperation"},n.getBaseTypes=function(){return["AugLoop_Core_OperationWithSiblingContext","AugLoop_Core_Operation"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.MoveOperation=h;c=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_UpdateAnnotationMetaDataOperation"},n.getBaseTypes=function(){return["AugLoop_Core_Operation"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.UpdateAnnotationMetaDataOperation=c;l=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_UpdateOperation"},n.getBaseTypes=function(){return["AugLoop_Core_Operation"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.UpdateOperation=l;a=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_DeleteOperation"},n.getBaseTypes=function(){return["AugLoop_Core_Operation"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.DeleteOperation=a;v=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_PurgeOperation"},n.getBaseTypes=function(){return["AugLoop_Core_Operation"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.PurgeOperation=v;y=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_FocusOperation"},n.getBaseTypes=function(){return["AugLoop_Core_Operation"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.FocusOperation=y;p=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_VisibilityOperation"},n.getBaseTypes=function(){return["AugLoop_Core_Operation"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.VisibilityOperation=p;w=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_DeltaUpdateOperation"},n.getBaseTypes=function(){return["AugLoop_Core_Operation"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.DeltaUpdateOperation=w;b=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_MicroSyncOperation"},n.getBaseTypes=function(){return["AugLoop_Core_Operation"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.MicroSyncOperation=b;k=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Signals_SignalOperation"},n.getBaseTypes=function(){return["AugLoop_Core_Operation"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.SignalOperation=k},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Signal=void 0;var r=i(26),u=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Signals_Signal"},n.getBaseTypes=function(){return[]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.Signal=u},function(n,t,i){"use strict";var r,u,f,e,o,s,h,c,l,a,v,y,p,w,b;Object.defineProperty(t,"__esModule",{value:!0});t.UserCommandsHolder=t.EventsHolder=t.TenantContextHolder=t.UserContextHolder=t.ContextHolder=t.DynamicContext=t.GridNeighborhoodContext=t.GridCell=t.SubDocument=t.Document=t.Session=t.TileGroup=t.Binary=t.Blob=void 0;r=i(26);u=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_Blob"},n.getBaseTypes=function(){return[]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.Blob=u;f=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_Binary"},n.getBaseTypes=function(){return[]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.Binary=f;e=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_TileGroup"},n.getBaseTypes=function(){return[]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.TileGroup=e;o=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_Session"},n.getBaseTypes=function(){return["AugLoop_Core_TileGroup"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.Session=o;s=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_Document"},n.getBaseTypes=function(){return["AugLoop_Core_TileGroup"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.Document=s;h=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_SubDocument"},n.getBaseTypes=function(){return[]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.SubDocument=h;c=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_GridCell"},n.getBaseTypes=function(){return[]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.GridCell=c;l=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_GridNeighborhoodContext"},n.getBaseTypes=function(){return[]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.GridNeighborhoodContext=l;a=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_DynamicContext"},n.getBaseTypes=function(){return[]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.DynamicContext=a;v=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_ContextHolder"},n.getBaseTypes=function(){return[]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.ContextHolder=v;y=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_UserContextHolder"},n.getBaseTypes=function(){return["AugLoop_Core_ContextHolder"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.UserContextHolder=y;p=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_TenantContextHolder"},n.getBaseTypes=function(){return["AugLoop_Core_ContextHolder"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.TenantContextHolder=p;w=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_EventsHolder"},n.getBaseTypes=function(){return[]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.EventsHolder=w;b=function(){function n(t){r.SchemaObject.assign(n,this,t)}return n.getTypeName=function(){return"AugLoop_Core_UserCommandsHolder"},n.getBaseTypes=function(){return["AugLoop_Core_EventsHolder"]},n.typeGuard=function(t){return r.SchemaObject.matchesTypesFor(t,[n.getTypeName()])},n.H_={T_:n.getTypeName(),B_:n.getBaseTypes()},n}();t.UserCommandsHolder=b},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(n,t,i){"use strict";function d(n){return function(t,i){var u,f,e,o;try{n(t,i)}catch(t){e=null!==(u=t.message)&&void 0!==u?u:r.DEFAULT_ERR_MSG;try{n(r.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:r.EVENT_HANDLER_ERROR,customProperties:{ErrorMessage:e}})}catch(n){o=null!==(f=n.message)&&void 0!==f?f:r.DEFAULT_ERR_MSG;console.error("ERROR: Cannot call survey logging callback. Unable to log the following error: "+e+" Logging callback failed with error: "+o)}}}}function f(n){return null==n}function g(n,t,i,f){var e,s;if(!n)return t(r.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:r.GATECRASH_RENDER_ERROR,customProperties:{Message:"Parent div name not provided."},isMainContext:u}),null;e=document.createElement("div");e.id=n;"Dark"!==i.uiHostCVSurveyDispatcher&&"HighContrast"!==i.uiHostCVSurveyDispatcher||(e.style.backgroundColor="Black");var o=function(n){return[n&&n.cssPosition?n.cssPosition:r.CVSurveyPositionDefaults.cssPosition,n&&n.cssZIndex?n.cssZIndex:r.CVSurveyPositionDefaults.cssZIndex,n&&n.cssBottom?n.cssBottom:r.CVSurveyPositionDefaults.cssBottom,n&&n.cssRight?n.cssRight:r.CVSurveyPositionDefaults.cssRight]}(f),h=o[0],c=o[1],l=o[2],a=o[3];return e.style.position=h,e.style.zIndex=c,e.style.bottom=l,e.style.right=a,document.body.appendChild(e),s=document.getElementById(n),s?(s.style.display="none",s):(t(r.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:r.GATECRASH_RENDER_ERROR,customProperties:{Message:"Parent element with id "+n+" not found."},isMainContext:u}),null)}function ht(n,t,i,s,h){function nt(n){n?l.length&&c.unshift(""+l.pop()):c.length&&l.push(""+c.shift());t&&(t.style.minWidth=l.length?""+l.slice(-1):"590px")}var d,g,w=null==h?void 0:h.data,rt,k,b;if(!f(w)){if("string"==typeof w&&w.includes("ResponsePageHeight")&&(rt=w.split(":"),k=t.ownerDocument.getElementById(r.IFRAME_ID),k&&k.style))return void(k.style.height=rt[2]+"px");if(b=null===(d=w.FormTitle)||void 0===d?void 0:d.includes("IsDispatcherSurvey=true"),"ResponsePageLoaded"===w.Type)return b&&(o-=1),!(null==w?void 0:w.Message)&&function(n){var t,i,r;f(n)||(t=n.split(",").slice(1),i=t.map(function(n){return(""+n).split("=")[1]}),c.push.apply(c,i),r=t.map(function(n){return(""+n).split("=")[0].trim()}),p.push.apply(p,r))}(w.FormTitle),nt(),t.style.display=b?"none":"inherit",n(r.CV_LOADED_EVENT,{dateTime:new Date,eventType:w.Type,hasSurveyPromptShown:w.FormTitle.includes("prompt"),hasSurveyDispatcher:b,isMainContext:u}),null==t||t.blur(),void(!1!==i&&-1!=o&&tt(v,t,n,s));if("FormResponseBack"===w.Type&&nt(!0),"FormResponseCanceled"===w.Type)return n(r.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:r.GATECRASH_ON_SURVEY_CANCEL,customProperties:{Message:"gatecrash: survey cancel triggered: FormResponseCanceled"},isMainContext:u}),void a(t,n,"FormResponseCanceled");if("FormResponseSubmitted"===w.Type||"FormPartialResponseSubmitted"===w.Type){o+=1;nt();b||n(r.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:r.GATECRASH_ON_SURVEY_DATA_SUBMIT,customProperties:{Message:"gatecrash: onSubmitCallback has been triggered for type:  + "+w.Type},isMainContext:u});try{b||(n(r.CV_SUBMIT_EVENT,{dateTime:new Date,eventType:w.Type,formTitle:w.FormTitle,pageNumber:o.toString(),pageInfo:it(w.Message),isMainContext:u}),y&&a(t,n))}catch(t){n(r.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:r.GATECRASH_ON_SURVEY_DATA_SUBMIT,customProperties:{Message:"gatecrash: Error: "+t},isMainContext:u});e("WindowMessage")}finally{"FormResponseSubmitted"===w.Type&&o>0&&((null===(g=null==w?void 0:w.FormTitle)||void 0===g?void 0:g.includes("thankyou"))?(v=!1,!1!==i&&tt(v,t,n,s,!0,b)):a(t,n,void 0))}}}}function a(n,t,i){var h,s;(h=function(){f(t)||e("WindowMessage")},e("CloseButtonMouseEnter"),e("CloseButtonMouseLeave"),e("CloseButtonClick"),e("SurveyContainerMouseOver"),e("SurveyContainerFocusIn"),h(),null==n||n.remove(),v=!1,t&&0==y&&0==b&&0==k)&&(s={dateTime:new Date,eventType:null!=i?i:"Unknown",isMainContext:u},!function(n){var t=p[o];if("Unknown"==n.eventType)switch(t){case"prompt":n.eventType="PromptClosed";break;case"rating":n.eventType="FormClosed";break;case"additional":n.eventType="AdditionalPromptClosed";break;case"thankyou":k=!0;n.eventType="ThankYouPageClosed";break;default:n.eventType="FormClosed";n.pageNumber=t}else"FormResponseCanceled"==n.eventType&&"rating"!==t&&(n.eventType="FormClosed",n.pageNumber=(o+1).toString())}(s),t(r.CV_CANCEL_EVENT,s))}function nt(n,t,i,f){var o=!1,e;try{new st.SurveyEmbed(null==t?void 0:t.customerVoiceFormId,r.DEFAULT_BASE_URL).renderInline(n,t,f);o=!0}catch(n){e=n.message;throw i(r.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:r.GATECRASH_RENDER_ERROR,customProperties:{ErrorMessage:null!=e?e:r.DEFAULT_ERR_MSG},isMainContext:u}),n;}return o}function tt(n,t,i,u,f,e){var c,o,l,h;(void 0===e&&(e=!1),n)||(c=1==f?"ThankYouPageAutoDismissed":"FormAutoDismissed",o=void 0,u.autoDismiss?o=u.autoDismiss:(o=!0===f?5e3:28e3,!0===f&&!0===e&&!1===w&&(o=2e4,w=!0)),l=setTimeout(function(){a(t,i,c)},o),t.ownerDocument.getElementById(r.IFRAME_ID)&&(h=function(){clearTimeout(l);n=!0},s("SurveyContainerMouseOver",t,"mouseover",h,!0),s("SurveyContainerFocusIn",t,"focusin",h,!0)))}function it(n){var i,t,r,u;if(f(n))throw new Error("Error: Submit messages are null/undefined or length of 0");for(i=[],t=0;t<n.length;t++)n[t].questionAnswers.length>0&&(y=rt(n[t].questionAnswers[0].subtitle,n[t].questionAnswers[0].answer[0]),"additional"!=n[t].questionAnswers[0].subtitle||f(n[t].questionAnswers[0].answer[0])||(n[t].questionAnswers[0].answer[0]==n[t].questionAnswers[0].optionList[0]?n[t].questionAnswers[0].answer[0]="2":(n[t].questionAnswers[0].answer[0]="1",b=!0)),r=ft(n[t].questionAnswers),u={pageType:n[t].PageType,questionAnswers:r},i.push(u));return i}function rt(n,t){return"prompt"==n&&!f(t)&&0==y&&"1"==t}function ut(n){return"label"!=n.subtitle}function ft(n){var i,t,r;if(f(n))throw new Error("Error: current message is null/undefined or length of 0");for(i=[],t=0;t<n.length;t++)r=n[t],ut(r)&&i.push(et(r));return i}function et(n){var t=n,i={questionType:t.subtitle,questionId:t.questionId,questionValue:t.title,answerValue:t.answer};return f(t.optionList)||(i.insightfulQuestionAnswers=ot(t.answer,t.optionList),i.insightfulQuestionOptions=t.optionList),"rating"===t.subtitle&&(i.ratingsListLength=f(t.optionList)?r.RATINGS_LIST_LENGTH:t.optionList.length),i}function ot(n,t){if(null!=t)return t.map(function(t){var i;return null!==(i=null==n?void 0:n.includes(t))&&void 0!==i&&i})}var h;Object.defineProperty(t,"__esModule",{value:!0});t.unitTestExports=t.getQuestionAnswers=t.getSurveyQuestionAnswer=t.shouldIncludeSurveyQuesitonAnswer=t.validatePromptValue=t.renderCVSurvey=void 0;var st=i(92),r=i(51),v=!1,w=!1,c=[],p=[],l=[],y=!1,b=!1,k=!1,o=0,u=!0,s=function(n,t,i,r,u){void 0===u&&(u=!1);h.unsubscribeEventHandler(n);t.addEventListener(i,r,{once:u});h.registeredEventHandlers[n]={element:t,event:i,handler:r}},e=function(n){var t=h.registeredEventHandlers[n];t&&(t.element.removeEventListener(t.event,t.handler),delete h.registeredEventHandlers[n])};t.renderCVSurvey=function(n,t,i,e,o){var h,c,l;if(void 0===o&&(o=!0),u=o,h=d(t),c="string"==typeof n?g(n,h,i,e):n,c){!function(n,t,i,r){var u,f=ht.bind(null,t,n,null==r||r,i);s("WindowMessage",null!==(u=n.ownerDocument.defaultView)&&void 0!==u?u:window,"message",f)}(c,h,i,null==e?void 0:e.timeOutEnabled);try{nt(c,i,h,null==e?void 0:e.cancelButtonEnabled),function(n){n.style.padding="0px";n.style.paddingRight="10px";n.style.paddingLeft="10px"}(c);!1!==(null==e?void 0:e.closeButtonEnabled)&&function(n,t,i){var e,u,o;f(n)||(e=n.ownerDocument.createElement("div"),u=n.ownerDocument.createElement("button"),u.id=r.CLOSE_BUTTON_ID,e.id=r.SURVEY_DIV_ID,u.textContent="X",e.appendChild(u),n.insertBefore(e,n.childNodes[0]),o="float: right; background: none; border: 0px;\n  padding: 3px; margin-top: 5px; font-size: large; font-weigth: bolder","Dark"!==i.uiHostCVSurveyDispatcher&&"HighContrast"!==i.uiHostCVSurveyDispatcher||(o+="; color: white"),u.setAttribute("style",o),function(n,t,i,r){var u=function(){n.style.backgroundColor="lightgray"},f;"HighContrast"===r.uiHostCVSurveyDispatcher&&(u=function(){n.style.backgroundColor="yellow"});s("CloseButtonMouseEnter",n,"mouseenter",u);s("CloseButtonMouseLeave",n,"mouseleave",function(){n.style.background="none"});f=a.bind(null,i,t,null);s("CloseButtonClick",n,"click",f)}(u,t,n,i))}(c,h,i)}catch(n){l=n.message;h(r.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:r.GATECRASH_RENDER_ERROR,customProperties:{ErrorMessage:null!=l?l:r.DEFAULT_ERR_MSG},isMainContext:u})}}};t.validatePromptValue=rt;t.shouldIncludeSurveyQuesitonAnswer=ut;t.getSurveyQuestionAnswer=et;t.getQuestionAnswers=ot;h={registeredEventHandlers:{},subscribeEventHandler:s,unsubscribeEventHandler:e,safeWrapHandleSurveyEvent:d,createSurveyContainer:g,renderSurvey:nt,getPageInfo:it,getQuestionList:ft};t.unitTestExports={internal:h}.internal},function(n,t,i){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(n){for(var r,i,t=1,u=arguments.length;t<u;t++)for(i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n}).apply(this,arguments)},u,f;Object.defineProperty(t,"__esModule",{value:!0});t.SurveyEmbed=void 0;u=i(51);f=function(){function n(n,t){if(this._formId=n,!this._formId)throw new Error("form_id should be provided.");this._baseUrl=t||u.DEFAULT_BASE_URL;this._compact="false"}return n.prototype.renderInline=function(n,t,i){if(!n)throw new Error("Parent element not provided to renderInline");var r=this.createSurveyIFrame(t,i);n.textContent="";n.appendChild(r)},n.prototype.createSurveyIFrame=function(n,t){var i=document.createElement("iframe");return i.src=this.generateUrl(n,t),i.id=u.IFRAME_ID,i.width="100%",i.height="100%",i.style.border="none",i},n.prototype.generateUrl=function(n,t){var i,e,u,f;if(null==n)throw new Error("user_context is requred");i=this._baseUrl+"Pages/ResponsePage.aspx?";e=!1!==t?"true":"false";i+=this._getQueryStringParameter("id",this._formId);i+="&"+this._getQueryStringParameter("embed","true");this._compact&&(i+="&"+this._getQueryStringParameter("compact",this._compact));f=n.urlParams;try{u=JSON.stringify(r(r({},n),{urlParams:void 0}))}catch(n){u="{}"}if(u&&(i+="&"+this._getQueryStringParameter("ctx",u)),!n||!Object.prototype.hasOwnProperty.call(n,"locale"))throw new Error("locale should be provided");return i+="&lang="+n.locale,i+("&datawithevent=true&showcancel="+e+"&embed=true&oembedocv="+e+"&themecolor="+(f&&f.appPrimaryColor?f.appPrimaryColor:"")+"&autosubmit=true&autonavigate=true&disableresponsive=true&hostappdomain="+window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/")},n.prototype._getQueryStringParameter=function(n,t){return encodeURIComponent(n)+"="+encodeURIComponent(t)},n}();t.SurveyEmbed=f},function(n,t,i){"use strict";function at(n){if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(n)||""===n)throw new TypeError('Invalid character in header field name: "'+n+'"');return n.toLowerCase()}function li(n){return"string"!=typeof n&&(n=String(n)),n}function ai(n){var t={next:function(){var t=n.shift();return{done:void 0===t,value:t}}};return fr&&(t[Symbol.iterator]=function(){return t}),t}function h(n){this.map={};n instanceof h?n.forEach(function(n,t){this.append(t,n)},this):Array.isArray(n)?n.forEach(function(n){this.append(n[0],n[1])},this):n&&Object.getOwnPropertyNames(n).forEach(function(t){this.append(t,n[t])},this)}function vi(n){if(n.bodyUsed)return Promise.reject(new TypeError("Already read"));n.bodyUsed=!0}function hr(n){return new Promise(function(t,i){n.onload=function(){t(n.result)};n.onerror=function(){i(n.error)}})}function pf(n){var t=new FileReader,i=hr(t);return t.readAsArrayBuffer(n),i}function cr(n){if(n.slice)return n.slice(0);var t=new Uint8Array(n.byteLength);return t.set(new Uint8Array(n)),t.buffer}function lr(){return this.bodyUsed=!1,this._initBody=function(n){var t;this.bodyUsed=this.bodyUsed;this._bodyInit=n;n?"string"==typeof n?this._bodyText=n:ti&&Blob.prototype.isPrototypeOf(n)?this._bodyBlob=n:er&&FormData.prototype.isPrototypeOf(n)?this._bodyFormData=n:ur&&URLSearchParams.prototype.isPrototypeOf(n)?this._bodyText=n.toString():ii&&ti&&(t=n)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=cr(n.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ii&&(ArrayBuffer.prototype.isPrototypeOf(n)||sr(n))?this._bodyArrayBuffer=cr(n):this._bodyText=n=Object.prototype.toString.call(n):this._bodyText="";this.headers.get("content-type")||("string"==typeof n?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ur&&URLSearchParams.prototype.isPrototypeOf(n)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ti&&(this.blob=function(){var n=vi(this);if(n)return n;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var n=vi(this);return n||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(pf)}),this.text=function(){var t,n,i,r=vi(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=new FileReader,i=hr(n),n.readAsText(t),i;if(this._bodyArrayBuffer)return Promise.resolve(function(n){for(var i=new Uint8Array(n),r=new Array(i.length),t=0;t<i.length;t++)r[t]=String.fromCharCode(i[t]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},er&&(this.formData=function(){return this.text().then(wf)}),this.json=function(){return this.text().then(JSON.parse)},this}function rt(n,t){var r,u,i,f;if(!(this instanceof rt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(i=(t=t||{}).body,n instanceof rt){if(n.bodyUsed)throw new TypeError("Already read");this.url=n.url;this.credentials=n.credentials;t.headers||(this.headers=new h(n.headers));this.method=n.method;this.mode=n.mode;this.signal=n.signal;i||null==n._bodyInit||(i=n._bodyInit,n.bodyUsed=!0)}else this.url=String(n);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=t.method||this.method||"GET",u=r.toUpperCase(),ar.indexOf(u)>-1?u:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");(this._initBody(i),"GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)||(f=/([?&])_=[^&]*/,f.test(this.url)?this.url=this.url.replace(f,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime())}function wf(n){var t=new FormData;return n.trim().split("&").forEach(function(n){if(n){var i=n.split("="),r=i.shift().replace(/\+/g," "),u=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(u))}}),t}function g(n,t){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={});this.type="default";this.status=void 0===t.status?200:t.status;this.ok=this.status>=200&&this.status<300;this.statusText=void 0===t.statusText?"":""+t.statusText;this.headers=new h(t.headers);this.url=t.url||"";this._initBody(n)}function yr(n,t){return new Promise(function(i,r){function e(){u.abort()}var f=new rt(n,t),u;if(f.signal&&f.signal.aborted)return r(new ut("Aborted","AbortError"));u=new XMLHttpRequest;u.onload=function(){var r,n,t={status:u.status,statusText:u.statusText,headers:(r=u.getAllResponseHeaders()||"",n=new h,r.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(n){return 0===n.indexOf("\n")?n.substr(1,n.length):n}).forEach(function(t){var i=t.split(":"),r=i.shift().trim(),u;r&&(u=i.join(":").trim(),n.append(r,u))}),n)},f;t.url="responseURL"in u?u.responseURL:t.headers.get("X-Request-URL");f="response"in u?u.response:u.responseText;setTimeout(function(){i(new g(f,t))},0)};u.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)};u.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)};u.onabort=function(){setTimeout(function(){r(new ut("Aborted","AbortError"))},0)};u.open(f.method,function(n){try{return""===n&&v.location.href?v.location.href:n}catch(t){return n}}(f.url),!0);"include"===f.credentials?u.withCredentials=!0:"omit"===f.credentials&&(u.withCredentials=!1);"responseType"in u&&(ti?u.responseType="blob":ii&&f.headers.get("Content-Type")&&-1!==f.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer"));!t||"object"!=typeof t.headers||t.headers instanceof h?f.headers.forEach(function(n,t){u.setRequestHeader(t,n)}):Object.getOwnPropertyNames(t.headers).forEach(function(n){u.setRequestHeader(n,li(t.headers[n]))});f.signal&&(f.signal.addEventListener("abort",e),u.onreadystatechange=function(){4===u.readyState&&f.signal.removeEventListener("abort",e)});u.send(void 0===f._bodyInit?null:f._bodyInit)})}function br(n,t){var r,u,i;void 0===t&&(t=!0);r="";for(u in n||[])n.hasOwnProperty(u)&&(i=n[u],null!=i&&"object"!=typeof i&&(r+=(r?"&":"")+(u+"="+(t?encodeURIComponent(i):i))));return r}function yi(n){return new Promise(function(t){setTimeout(t,n)})}function ri(n,t){var i=n&&n[t];if(i||Object.getOwnPropertyDescriptor(n,t))return i}function df(n,t){if(!n)return Promise.resolve(null);var i=ri(n,t);return i?Promise.resolve(i):new Promise(function(i){var r;Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){return r},set:function(n){i(r=n)}})})}function kr(n,t,i,r){return void 0===r&&(r=100),Object(e.b)(this,void 0,void 0,function(){var u;return Object(e.d)(this,function(f){switch(f.label){case 0:return(u=ri(n,t))||0===i?[2,u]:[4,yi(r)];case 1:return f.sent(),[2,kr(n,t,i-1,r)]}})})}function gf(n,t){return new Promise(function(i){n.activateAnnotation(t,{callback:function(n){try{var r=(n&&n.items?n.items:[]).filter(function(n){return t===kf.SchemaObject.getTypeNameFor(n.body)});i(r&&r[0]&&r[0].body)}catch(n){i({error:n})}}})})}function ne(n){return void 0===n&&(n=100),Object(e.b)(this,void 0,void 0,function(){var t,i,r;return Object(e.d)(this,function(u){switch(u.label){case 0:return(t=ri(window,"augLoop"))?[3,7]:(i=Object(s.a)("TulipsAugLoopPackageDelayLoad",-1))>0?[4,yi(i)]:[3,2];case 1:return u.sent(),t=ri(window,"augLoop"),[3,7];case 2:return r=Object(s.a)("TulipsAugLoopLoadRetryTimes",5),[4,kr(window,"augLoop",r,n)];case 3:return(t=u.sent())?[3,5]:[4,df(window,"augLoop")];case 4:t=u.sent();u.label=5;case 5:return n>0?[4,yi(n)]:[3,7];case 6:u.sent();u.label=7;case 7:return[2,t]}})})}function te(n,t,i){return void 0===i&&(i=100),Object(e.b)(this,void 0,void 0,function(){var r,u,f;return Object(e.d)(this,function(e){switch(e.label){case 0:return(u=t)?[4,t()]:[3,2];case 1:u=e.sent();e.label=2;case 2:return(r=u)?[3,5]:[4,ne(i)];case 3:if(!e.sent())throw new Error("Unable to get AL runtime");if(!(f=window.augLoop.ALFactoryGlobal.getAugLoopRuntimeManager().getSession()))throw new Error("Unable to get AL session promise");return[4,f];case 4:if(!(r=e.sent()))throw new Error("Unable to get AL session");e.label=5;case 5:return[2,gf(r,n)]}})})}function vt(){return pi||(pi=new ue),pi}function dr(){var i,r,f,e,n,o,t,h,c,l;ui||(ui=rr.a((n=u.get().getCommonInitOptions(),o=(null===(i=n.telemetryGroup)||void 0===i?void 0:i.audienceGroup)||(null===(r=n.telemetryGroup)||void 0===r?void 0:r.audience),t=o&&-1!==["dogfood","edog","int","microsoft"].indexOf(o.toLowerCase()),h=t?null===(f=n.webSurfacesSettings)||void 0===f?void 0:f.webSurfacesIntUrl:null===(e=n.webSurfacesSettings)||void 0===e?void 0:e.webSurfacesProdUrl,c=t?d.a.WebSurfacesIntLink:d.a.WebSurfacesProdLink,l=t?"WebSurfacesIntLink":"WebSurfacesProdLink",h||Object(s.a)(l,c)),null))}function ve(){try{var n=document&&(document.documentElement||document.getElementsByTagName("body")[0]);return{pageWidth:(null===window||void 0===window?void 0:window.innerWidth)||(null==n?void 0:n.clientWidth),pageHeight:(null===window||void 0===window?void 0:window.innerHeight)||(null==n?void 0:n.clientHeight),pageTop:(null===window||void 0===window?void 0:window.pageYOffset)||(null==n?void 0:n.scrollTop),pageLeft:(null===window||void 0===window?void 0:window.pageXOffset)||(null==n?void 0:n.scrollLeft),screenWidth:screen?screen.width:0,screenHeight:screen?screen.height:0,colorDepth:screen?screen.colorDepth:0,userAgent:null===navigator||void 0===navigator?void 0:navigator.userAgent}}catch(n){return null}}function ki(n,t){var i,u,r;return n?(i=n[t],i||(u=t.toLowerCase(),i=n[Object.keys(n).find(function(n){return n.toLowerCase()===u})]),o.Utils.isNOU(i))?null:!o.Utils.isArray(i)&&(o.Utils.isObject(i)||o.Utils.isFunction(i))?null:(r=(new Date).toISOString(),{userFactType:"Local",userFactName:t,userFactValue:i.toString(),sourceDateTime:r,storageDateTime:r,clientIngestionDateTime:r}):null}function ye(n){var t,i;try{return wi||(t=u.get().getCommonInitOptions(),wi=[t,null==t?void 0:t.applicationSettings,null==t?void 0:t.telemetryGroup,null==t?void 0:t.applicationGroup,null==t?void 0:t.webGroup,u.get().getFloodgateInitOptions(),u.get(),ve(),{userConsentGroup:u.get().getUserConsentGroup(),feedbackEnabledByAADC:u.get().isFeedbackSurveyEnabledByAADC()}]),i=wi.reduce(function(t,i){return t||ki(i,n)},null),i||(i=function(n){var t=n&&n.split("__"),u;if(!t||t.length<=1)return null;var i=null,f=t[0],r=t.pop();return(r&&1===t.length&&(i=ki(window[f]||window,r)),!i&&r&&t.length>1)&&("window"===f&&t.shift(),u=t.reduce(function(n,t){return n&&n[t]},window),u&&(i=ki(u,r))),i&&(i.userFactName=n),i}(n)),i}catch(t){return f.b().logEvent(f.a.UserFacts.LocalFact.Error.VALUE,2,{ErrorMessage:"Error getting local fact - "+n+" "+(t&&t.message?": "+t.message:"")+" "}),null}}function k(){return ke}function eu(){return fu}function it(n){bt=n}function ge(){return bt}function ou(n,t){if(void 0===t&&(t=null),bt)return bt;st++;var i=new Promise(function(i,r){var e=function(n,t){var i=o.FloodgateEngine.getTelemetryLogger();i&&i.log_Event(yt.TelemetryEvent.Floodgate.Start.Failed,{Count:st,ErrorMessage:n,ErrorDetails:t&&t.stack});r(n)},h,f,c,a,v,l;try{if(h=u.get().getCommonInitOptions(),!h)return void e("Invalid floodgate common init options, state: "+wt);if(f=u.get().getFloodgateInitOptions(),f||(c=o.FloodgateEngine.getTelemetryLogger(),c&&c.log_Event(yt.TelemetryEvent.Floodgate.Start.Warning,{Count:st,ErrorMessage:"Invalid floodgate init options, state: "+wt}),u.get().setFloodgateInitOptions({}),f=u.get().getFloodgateInitOptions()),t||fi||f&&f.authTokenCallback&&(fi=new ae,di=new pe),a=ru.Governor.GetChannelCoolDown(pt.GovernedChannelType.TeachingMessage),v=Object(s.a)("TeachingMessageCooldown",a),ru.Governor.SetDefaultChannelCoolDown(pt.GovernedChannelType.TeachingMessage,v),!(nt=t||o.FloodgateEngine.make(h.build||"",se.make(),f.onSurveyActivatedCallback,new et.a,f.settingStorageCallback,de||new le,new ce,new he,[fi],di,eu(),f.isPriorityEnabled,nt&&nt.getSurveyClient())))return it(null),void e("Failed to create floodgate engine");if(n||st>1)nt.start(),i();else{if(l=nt.startAsync(),!l)return it(null),void e("Failed to get floodgate engine");l.then(function(){i()}).catch(function(n){it(null);e("Failed to start floodgate engine",n)})}}catch(n){it(null);e("Failed to load floodgate engine: "+(n&&n.toString()),n)}});return it(i),i.catch(function(){it(null)}),i}function su(n){return void 0===n&&(n=!1),ou(n)}function hu(){nt&&nt.stop();it(null)}function cu(){st=0;bt=null;nt=null;fi=null;di=null}function dt(n){!function(){for(var t,n=0,i=oi;n<i.length;n++)t=i[n],b.m(t.id,t.event,t.listener);oi=[]}();lu(n)}function ct(n,t,i){b.g(n,t,i);oi.push({event:t,id:n,listener:i})}function tt(n,t,i,r,e,o){var s=u.get();f.b().logEvent(n,1,{CampaignId:s.getFloodgateSurvey().getCampaignId(),SurveyId:s.getFloodgateSurvey().getId(),SurveyType:s.getFloodgateSurvey().getSurveyType(),PromptAutoDismiss:s.getFloodgateInitOptions().autoDismiss.toString(),ClientFeedbackId:t,IsEmailPolicyEnabled:i,PersonalizerUserAction:r,PersonalizerEventId:e,ActualSetAutoDismissValue:o})}function yu(){var n=document.getElementById(r.d.TFormEmailCheckBox),t;n&&(t=document.getElementById(r.d.TFormEmailTextBox),t.value=n.checked?u.get().getCommonInitOptions().userEmail:null,t.disabled=!n.checked)}function to(n){n.keyCode===r.e.Esc&&(n.preventDefault(),n.stopPropagation(),dt(!1),wu(),bu())}function pu(n){n.preventDefault();n.stopPropagation();dt(!1);wu();bu()}function wu(){if(kt&&gi())return k().logUserActionForSurveyAsync(0,u.get().getFloodgateSurvey().getId(),u.get().getFloodgateSurvey().getCampaignId()),void tt(f.a.SURVEY_UI_PROMPT_USERCLOSED,void 0,void 0,0,k().getEventIdForSurveyId(u.get().getFloodgateSurvey().getId()),ht);tt(kt?f.a.SURVEY_UI_PROMPT_USERCLOSED:f.a.SURVEY_UI_FORM_USERCLOSED,void 0,void 0,void 0,void 0,ht)}function bu(){ei&&(clearTimeout(ei),ei=0)}function io(n){var i,t,r;n.preventDefault();n.stopPropagation();u.get().getFloodgateSurvey().getSurveyType()===p.ISurvey.Type.Intercept?(i=u.get().getFloodgateSurvey().getInterceptUrl(),t=window.open(i,"_blank"),r=!vu(t)&&(t.focus(),!0),dt(!1),tt(r?f.a.SURVEY_UI_PROMPT_CLICKED:f.a.SURVEY_UI_REDIRECTIONFAILURE)):ku()}function ku(){kt=!1;b.l(r.d.TPromptContainer,!1);b.l(r.d.TFormContainer,!0);b.b(r.d.ToastContainer,r.c.ToastZoom);(" "+document.getElementById(r.d.TFormContainer).className+" ").indexOf(" "+r.c.Visible+" ")>-1&&document.getElementById(r.d.ToastContainer).setAttribute("role","");var n=document.getElementsByName(r.d.TFormRating);n&&n.length>0&&n[0].focus();gi()?(k().logUserActionForSurveyAsync(2,u.get().getFloodgateSurvey().getId(),u.get().getFloodgateSurvey().getCampaignId()),tt(f.a.SURVEY_UI_FORM_SHOWN,void 0,void 0,2,k().getEventIdForSurveyId(u.get().getFloodgateSurvey().getId()),ht)):tt(f.a.SURVEY_UI_FORM_SHOWN,void 0,void 0,void 0,void 0,ht)}function ro(){document.getElementById(r.d.TFormSubmitButton).disabled=!1}function uo(n){var e,o;n.preventDefault();n.stopPropagation();b.l(r.d.TFormSubmitButton,!1);var s=new no.a(r.d.TFormSubmitButtonSpinner),t=new bi.a(u.get().getCommonInitOptions().environment,p.ISurvey.Type[u.get().getFloodgateSurvey().getSurveyType()],u.get().getCommonInitOptions().appId,"Survey",u.get().getCommonInitOptions().applicationGroup,u.get().getCommonInitOptions().telemetryGroup,u.get().getCommonInitOptions().webGroup),i=document.getElementById(r.d.TFormComment),h=i&&!!i.value,c=document.querySelector('input[name="'+r.d.TFormRating+'"]:checked');u.get().getFloodgateSurvey().setValues(Number(c.value),h?i.value:"");t.setManifestValues(u.get().getFloodgateSurvey().getJsonElements());e=document.getElementById(r.d.TFormEmailCheckBox);o=document.getElementById(r.d.TFormEmailTextBox);e&&e.checked&&""!==o.value&&t.setEmail(o.value);u.get().getFloodgateInitOptions().isEudbUxEnabled&&t.appendUxId(d.d);t.submit();s.destroy();dt(!0);tt(f.a.SURVEY_UI_FORM_SUBMIT,t.getClientFeedbackId(),u.get().getFloodgateInitOptions().showEmailAddress)}function gi(){return k().isEnabled(u.get().getFloodgateSurvey().getSurveyType(),u.get().getFloodgateSurvey().getLauncherType(),u.get().getFloodgateSurvey().getGoverenedChannelType())}function fo(n,t,i){return[{attributes:[{name:r.a.Type,value:r.b.Radio},{name:r.a.Value,value:n},{name:r.a.Name,value:i}],id:n,tag:r.h.Input},{attributes:[{name:r.a.For,value:n}],children:[{children:[{tag:r.h.Span}],classes:[r.c.ChoiceGroupIcon],tag:r.h.Span},{classes:["obf-ChoiceGroupLabel"],innerHTML:t,tag:r.h.Span}],classes:[r.c.FontSubText],tag:r.h.Label}]}function gu(){for(var o,n,i=[],f=0,t=0,e=u.get().getFloodgateSurvey().getRatingValuesAscending();t<e.length;t++)o=e[t],i.push([f,o]),f++;return function(n,t,i){var f={children:[],tag:r.h.FieldSet},u,e,o;for(du(t)||Array.prototype.push.apply(f.children,[{classes:[r.c.FontSubText],id:r.d.TFormRatingQuestion,innerText:t,tag:r.h.Legend,attributes:[{name:r.a.AriaLabel,value:t}]}]),u=0,e=i;u<e.length;u++)o=e[u],Array.prototype.push.apply(f.children,fo(o[0].toString(),o[1],n));return{children:[f],classes:[r.c.ChoiceGroup],id:n}}(r.d.TFormRating,null===(n=u.get().getFloodgateSurvey().getRatingQuestion())||void 0===n?void 0:n.trim(),i.reverse())}function eo(n){var i,e,o,t,s;i=nf.a({attributes:[{name:r.a.DataHtml2CanvasIgnore,value:r.b.True},{name:r.a.Role,value:"alert"},{name:r.a.Style,value:u.get().getCSSVarString()}],children:[(t=u.get().getFloodgateSurvey().getSurveyType()===p.ISurvey.Type.Intercept,s={children:[{classes:[r.c.FontText,r.c.TextAlignLeft],id:r.d.TPromptTitle,innerText:t?u.get().getFloodgateSurvey().getInterceptTitle():u.get().getFloodgateSurvey().getTitle()},{classes:[r.c.FontSubText,r.c.TextAlignLeft],id:r.d.TPromptText,innerText:t?u.get().getFloodgateSurvey().getInterceptQuestion():u.get().getFloodgateSurvey().getPromptQuestion()}],id:r.d.TPromptContainer,tag:r.h.Button},s),{attributes:[{name:r.a.Type,value:r.b.Button},{name:r.a.AriaLabel,value:l.a().CloseLabel}],id:r.d.ToastCancel,innerHTML:'<svg viewBox="4 4 16 16" width="16px" height="16px" focusable="false"><path d="M19,6.41L17.59,5 12,10.59 6.41,5 5,6.41 10.59,12 5,17.59 6.41,19 12,13.41 17.59,19 19,17.59 13.41,12z"/><\/svg>',tag:r.h.Button},u.get().getFloodgateSurvey().getSurveyType()!==p.ISurvey.Type.Intercept?(o=u.get().getFloodgateInitOptions().isEudbUxEnabled,o?(e={children:[{classes:[r.c.FontText,r.c.TextAlignLeft],id:r.d.TFormTitle,innerText:l.a().Floodgate.Form.Title},gu(),{attributes:[{name:r.a.For,value:r.d.TFormComment},{name:r.a.AriaLabel,value:u.get().getFloodgateSurvey().getCommentQuestion()},{name:r.a.MaxLength,value:r.b.TextAreaMaxLength}],innerText:u.get().getFloodgateSurvey().getCommentQuestion(),classes:[r.c.FontSubText],id:r.d.TFormCommentQuestion,tag:r.h.Label},{attributes:[{name:r.a.Placeholder,value:l.a().Form.CommentPlaceholder},{name:r.a.MaxLength,value:r.b.TextAreaMaxLength}],classes:[r.c.FontSubText,r.c.TextInput],id:r.d.TFormComment,tag:r.h.TextArea},{brs:u.get().getFloodgateInitOptions().showEmailAddress&&u.get().getFloodgateSurvey().showEmailRequest,children:[{attributes:[{name:r.a.Type,value:r.b.Checkbox}],classes:[r.c.TFormEmailCheckbox,r.c.CheckBox],id:r.d.TFormEmailCheckBox,tag:r.h.Input},{attributes:[{name:r.a.For,value:r.d.TFormEmailCheckBox}],classes:[r.c.FontSubText,r.c.TextAlignLeft,r.c.TFormEmailLabel],innerText:l.a().Form.EmailCheckBoxLabel,tag:r.h.Label},{attributes:[{name:r.a.Type,value:r.b.Text},{name:r.a.Placeholder,value:l.a().Form.EmailPlaceholder},{name:r.a.AriaLabel,value:l.a().Form.EmailPlaceholder},{name:r.a.Name,value:r.d.BasicFormEmailInput},{name:r.a.MaxLength,value:r.b.TextAreaMaxLength},{name:r.a.Value,value:""}],classes:[r.c.FontSubText,r.c.FormEmailInput,r.c.TextInput],id:r.d.TFormEmailTextBox,tag:r.h.Input}]},{children:[{classes:[r.c.FontSubSubText,r.c.TextAlignLeft,r.c.FormPrivacyConsentText],innerText:Object(w.n)(u.get().getCommonInitOptions().telemetryGroup.tenantId)?l.a().Form.PrivacyLabel+l.a().Form.PrivacyConsent+" ":l.a().Form.PrivacyLabel,tag:r.h.Label,id:r.d.PrivacyConsentText},{attributes:[{name:r.a.HRef,value:u.get().getCommonInitOptions().privacyUrl},{name:r.a.Target,value:r.b.BlankWindow},{name:r.a.Rel,value:r.b.NoReferrer}],classes:[r.c.Link],innerText:l.a().PrivacyStatement,tag:r.h.Anchor}],classes:[r.c.FontSubSubText,r.c.TextAlignLeft,r.c.PrivacyStatementLinkDivEudbUx]},{children:[{attributes:[{name:r.a.Disabled,value:r.b.True},{name:r.a.AriaDescribedBy,value:r.d.PrivacyConsentText}],classes:[r.c.FontSubText,r.c.SubmitButton],id:r.d.TFormSubmitButton,innerText:l.a().Form.Submit,tag:r.h.Button},{classes:[r.c.Spinner,r.c.Hidden],id:r.d.TFormSubmitButtonSpinner,tag:r.h.Div},{classes:[r.c.FontSubText,r.c.CancelButton,b.f()?r.c.Rtl:""],id:r.d.TFormCancelButton,innerText:l.a().Form.Cancel,tag:r.h.Button}],id:r.d.TFormSubmitButtonContainer}],classes:[r.c.Hidden],id:r.d.TFormContainer},e):{children:[{classes:[r.c.FontText,r.c.TextAlignLeft],id:r.d.TFormTitle,innerText:u.get().getFloodgateSurvey().getTitle()},gu(),{attributes:[{name:r.a.Placeholder,value:u.get().getFloodgateSurvey().getCommentQuestion()},{name:r.a.AriaLabel,value:u.get().getFloodgateSurvey().getCommentQuestion()},{name:r.a.MaxLength,value:r.b.TextAreaMaxLength}],classes:[r.c.FontSubText,r.c.TextInput],id:r.d.TFormComment,tag:r.h.TextArea},{brs:u.get().getFloodgateInitOptions().showEmailAddress&&u.get().getFloodgateSurvey().showEmailRequest,children:[{attributes:[{name:r.a.Type,value:r.b.Checkbox}],classes:[r.c.TFormEmailCheckbox,r.c.CheckBox],id:r.d.TFormEmailCheckBox,tag:r.h.Input},{attributes:[{name:r.a.For,value:r.d.TFormEmailCheckBox}],classes:[r.c.FontSubText,r.c.TextAlignLeft,r.c.TFormEmailLabel],innerText:l.a().Form.EmailCheckBoxLabel,tag:r.h.Label},{attributes:[{name:r.a.Type,value:r.b.Text},{name:r.a.Placeholder,value:l.a().Form.EmailPlaceholder},{name:r.a.AriaLabel,value:l.a().Form.EmailPlaceholder},{name:r.a.Name,value:r.d.BasicFormEmailInput},{name:r.a.MaxLength,value:r.b.TextAreaMaxLength},{name:r.a.Value,value:""}],classes:[r.c.FontSubText,r.c.FormEmailInput,r.c.TextInput],id:r.d.TFormEmailTextBox,tag:r.h.Input}]},{children:[{attributes:[{name:r.a.HRef,value:u.get().getCommonInitOptions().privacyUrl},{name:r.a.Target,value:r.b.BlankWindow},{name:r.a.Rel,value:r.b.NoReferrer}],classes:[r.c.Link],innerText:l.a().PrivacyStatement,tag:r.h.Anchor}],classes:[r.c.FontSubSubText,r.c.TextAlignLeft,r.c.PrivacyStatementLinkDiv]},{children:[{attributes:[{name:r.a.Disabled,value:r.b.True}],classes:[r.c.FontSubText,r.c.SubmitButton],id:r.d.TFormSubmitButton,innerText:l.a().Form.Submit,tag:r.h.Button},{classes:[r.c.Spinner,r.c.Hidden],id:r.d.TFormSubmitButtonSpinner,tag:r.h.Div}],id:r.d.TFormSubmitButtonContainer}],classes:[r.c.Hidden],id:r.d.TFormContainer}):{}],classes:[r.c.Toast,b.f()?r.c.Rtl:""],id:r.d.ToastContainer});document.body.insertBefore(i,document.body.firstChild);b.l(r.d.ToastContainer,!0),function(n){var o,e,s,t;for(void 0===n&&(n=function(){}),lu=n,kt=!0,ct(r.d.ToastContainer,"keyup",to),ct(r.d.ToastCancel,"click",pu),ct(r.d.TFormCancelButton,"click",pu),ct(r.d.TPromptContainer,"click",io),ct(r.d.TFormSubmitButton,"click",uo),ct(r.d.TFormEmailCheckBox,"click",yu),yu(null),o=document.querySelectorAll('input[name="'+r.d.TFormRating+'"]'),e=0;e<o.length;++e)b.h(o[e],"click",ro);var h=u.get().getFloodgateSurvey().getSurveyType()===p.ISurvey.Type.Intercept,i=u.get().getFloodgateInitOptions().autoDismiss,c=gi();switch(!0){case h:i=0;break;case c:s=k().getOverrideValueForSurveyId(0,u.get().getFloodgateSurvey().getId());vu(s)||(i=s);break;default:i=u.get().getFloodgateInitOptions().autoDismiss}if(ht=i,u.get().getFloodgateSurvey().showPrompt||h?tt(f.a.SURVEY_UI_PROMPT_SHOWN,void 0,void 0,void 0,k().getEventIdForSurveyId(u.get().getFloodgateSurvey().getId()),i):ku(),0!==i){t=void 0;switch(i){case 1:t=7e3;break;case 2:t=14e3;break;case 3:t=21e3;break;case 4:t=28e3;break;case 5:t=6e4;break;case 6:t=9e4;break;case 7:t=12e4;break;case 8:t=15e4;break;default:t=0}0!==t&&(ei=window.setTimeout(function(){kt&&(dt(!1),c?(k().logUserActionForSurveyAsync(1,u.get().getFloodgateSurvey().getId(),u.get().getFloodgateSurvey().getCampaignId()),tt(f.a.SURVEY_UI_PROMPT_AUTODISMISSED,void 0,void 0,1,k().getEventIdForSurveyId(u.get().getFloodgateSurvey().getId()),i)):tt(f.a.SURVEY_UI_PROMPT_AUTODISMISSED,void 0,void 0,void 0,void 0,ht))},t))}}(function(t){b.l(r.d.ToastContainer,!1);b.d(r.d.ToastContainer);u.get().getFloodgateInitOptions().onDismiss(u.get().getFloodgateSurvey().getCampaignId(),t);n()})}function ni(n){if(null!=n)return n.questionValue}function si(n){return Object(c.isNOU)(null==n?void 0:n.answerValue[0])?null==n?void 0:n.answerValue[0]:""+(null==n?void 0:n.answerValue[0])}function oo(n){if(null!=n)return n.insightfulQuestionOptions}function cf(n,t,i){if(!i){var u=void 0,e=void 0;return"prompt"===t?(ff=!0,u=f.a.SURVEY_UI_PROMPT_CLICKED,e=f.a.SURVEY_UI_PROMPT_USERCLOSED,n===r.f.Yes&&a(f.a.SURVEY_UI_FORM_SHOWN)):(ef=!0,u=f.a.SURVEY_UI_ADDITIONALPROMPT_CLICKED,e=f.a.SURVEY_UI_ADDITIONALPROMPT_USERCLOSED),a(n===r.f.No?e:u),!0}return!1}function a(n,t){var r,i=u.get();r=t||{CampaignId:i.getFloodgateSurvey().getCampaignId(),SurveyId:i.getFloodgateSurvey().getId(),SurveyType:i.getFloodgateSurvey().getSurveyType(),ClientFeedbackId:u.get().getFloodgateSurvey().getPreGeneratedClientFeedbackId(),CVFormId:i.getFloodgateSurvey().getCVSurveyFormId()};f.b().logEvent(n,1,r)}function lf(){return new Promise(function(n,t){var i=function(n){var i=o.FloodgateEngine.getTelemetryLogger();i&&i.log_Event(yt.TelemetryEvent.Floodgate.Initialize.Failed,{ErrorMessage:n});t(n)};if(wt)n(null);else{try{ir.a()}catch(n){t("CommonApp initialization failed: {"+n+"}")}o.FloodgateEngine.setTelemetryLogger(new co);au.a().then(function(){try{!function(){var n,i,t,r;if(!et.a.isStorageAvailable())throw new Error("window.localStorage is not available.");if(y.a().OfficeBrowserFeedback.floodgate=y.a().OfficeBrowserFeedback.floodgate||{},n=y.a().OfficeBrowserFeedback.floodgate.initOptions,void 0!==(n=n||{}).campaignDefinitions){if(i=Object(iu.FilterValidCampaignDefinitions)(n.campaignDefinitions),i.error)throw new Error("floodgate.initOptions.campaignDefinitions error: "+i.error);(new et.a).write(p.IFloodgateStorageProvider.FileType.CampaignDefinitions,JSON.stringify(n.campaignDefinitions))}t=u.get();(t.setFloodgateInitOptions(n),be.a.resetSessionActivity(),k().setup(t),eu().setup(t),wt=!0,t.getFloodgateInitOptions().surveyEnabled)||(r=o.FloodgateEngine.getTelemetryLogger(),r&&r.log_Event(yt.TelemetryEvent.Floodgate.Start.SurveysDisabled,{Count:st,Message:"Floodgate initialized with surveys disabled (surveyEnabled is false)"}))}()}catch(n){i("CommonFloodgate initialization failed: {"+n+"}")}n(null)}).catch(function(n){i("Initialization failed: {"+n+"}")})}})}function hi(n,t){return new Promise(function(i,e){if(lt)e("Control already open");else{if(!u.get().isFeedbackSurveyEnabledByAADC())return f.b().logEvent(f.a.SURVEY_UI_DISABLED_AADC,2,{CampaignId:n.getCampaignId(),Data:JSON.stringify({ageGroup:u.get().getCommonInitOptions().ageGroup,authenticationType:u.get().getCommonInitOptions().authenticationType})}),void e("Prompt is prohibited by AADC");if(u.get().setFloodgateSurvey(n||new ho),u.get().isCVSurveyEnabled()&&n.getLauncherType()===d.f)return function(n,t,i,e){if(tf=function(n){u.get().getFloodgateInitOptions().onDismiss(u.get().getFloodgateSurvey().getCampaignId(),n);t()},e){var o={CampaignId:u.get().getFloodgateSurvey().getCampaignId(),SurveyId:u.get().getFloodgateSurvey().getId(),SurveyType:u.get().getFloodgateSurvey().getSurveyType()};e(n).then(function(){nr.logTelemetryEvent(f.a.SURVEY_RENDER_OVERRIDE_SUCCESS,o)}).catch(function(n){o.ErrorMessage=n;nr.logTelemetryEvent(f.a.SURVEY_RENDER_OVERRIDE_ERROR,o)})}else Object(rf.renderCVSurvey)(r.d.ToastContainer,hf,n,i)}(function(n){var t={};return u.get().getCommonInitOptions().primaryColour&&(t.appPrimaryColor=u.get().getCommonInitOptions().primaryColour.replace("#","")),u.get().getCommonInitOptions().secondaryColour&&(t.appSecondaryColor=u.get().getCommonInitOptions().secondaryColour.replace("#","")),{customerVoiceFormId:n.getCVSurveyFormId(),flights:u.get().getCVSurveyFlights(),isCommercialHost:u.get().getCommonInitOptions().isCommercialHost,locale:u.get().getCommonInitOptions().locale,userEmailConsentDefault:!1,platform:u.get().getCommonInitOptions().telemetryGroup.platform,productName:u.get().getProductName(),uiHost:u.get().getUIHost(),uiHostCVSurveyDispatcher:u.get().getUIHostCVSurveyDispatcher(),stylesUrl:u.get().getCommonInitOptions().stylesUrl,urlParams:t}}(n),function(){lt=!1},function(){var n={closeButtonEnabled:!0,cancelButtonEnabled:!0,timeOutEnabled:!0};return u.get().getCSSPosition()&&(n.cssPosition=u.get().getCSSPosition()),u.get().getCSSZIndex()&&(n.cssZIndex=u.get().getCSSZIndex()),u.get().getCSSBottom()&&(n.cssBottom=u.get().getCSSBottom()),u.get().getCSSRight()&&(n.cssRight=u.get().getCSSRight()),n}(),t),lt=!0,void i();eo(function(){lt=!1});lt=!0;i()}})}function af(n,t){return hi(new nu(n),t)}function vf(n){return hi(new so(n))}function lo(){ir.b();au.b();wt=!1;cu();lt=!1}function yf(){return p.IFloodgateSettingIdMap.RoamingSettingIdMap}var or,sr,ar,vr,ut,fu,oi,du,nf,tr;i.r(t);i.d(t,"getEngineStartPromise",function(){return ge});i.d(t,"resetEngine",function(){return cu});i.d(t,"setEngineStartPromise",function(){return it});i.d(t,"start",function(){return su});i.d(t,"startInternal",function(){return ou});i.d(t,"stop",function(){return hu});i.d(t,"initialize",function(){return lf});i.d(t,"showSurvey",function(){return hi});i.d(t,"showFormSurvey",function(){return af});i.d(t,"showCustomSurvey",function(){return vf});i.d(t,"renderSurvey",function(){return tr});i.d(t,"reset",function(){return lo});i.d(t,"getSettingIdMap",function(){return yf});var ir=i(29),u=i(1),y=i(8),o=i(10),e=i(6),p=i(11),s=i(13),d=i(7),rr=i(24),f=i(2),ci=i(14),v="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==v&&v,ur="URLSearchParams"in v,fr="Symbol"in v&&"iterator"in Symbol,ti="FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch(n){return!1}}(),er="FormData"in v,ii="ArrayBuffer"in v;ii&&(or=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],sr=ArrayBuffer.isView||function(n){return n&&or.indexOf(Object.prototype.toString.call(n))>-1});h.prototype.append=function(n,t){n=at(n);t=li(t);var i=this.map[n];this.map[n]=i?i+", "+t:t};h.prototype.delete=function(n){delete this.map[at(n)]};h.prototype.get=function(n){return n=at(n),this.has(n)?this.map[n]:null};h.prototype.has=function(n){return this.map.hasOwnProperty(at(n))};h.prototype.set=function(n,t){this.map[at(n)]=li(t)};h.prototype.forEach=function(n,t){for(var i in this.map)this.map.hasOwnProperty(i)&&n.call(t,this.map[i],i,this)};h.prototype.keys=function(){var n=[];return this.forEach(function(t,i){n.push(i)}),ai(n)};h.prototype.values=function(){var n=[];return this.forEach(function(t){n.push(t)}),ai(n)};h.prototype.entries=function(){var n=[];return this.forEach(function(t,i){n.push([i,t])}),ai(n)};fr&&(h.prototype[Symbol.iterator]=h.prototype.entries);ar=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];rt.prototype.clone=function(){return new rt(this,{body:this._bodyInit})};lr.call(rt.prototype);lr.call(g.prototype);g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})};g.error=function(){var n=new g(null,{status:0,statusText:""});return n.type="error",n};vr=[301,302,303,307,308];g.redirect=function(n,t){if(-1===vr.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:n}})};ut=v.DOMException;try{new ut}catch(n){(ut=function(n,t){this.message=n;this.name=t;var i=Error(n);this.stack=i.stack}).prototype=Object.create(Error.prototype);ut.prototype.constructor=ut}yr.polyfill=!0;v.fetch||(v.fetch=yr,v.Headers=h,v.Request=rt,v.Response=g);var w=i(4),pr=w.l,wr=function(){function n(n){this.sessionId=n}return n.prototype.sendGetRequest=function(n,t,i,r){return Object(e.b)(this,void 0,void 0,function(){var u;return Object(e.d)(this,function(){return u={method:"GET",headers:this.createHeaders(t)},[2,i?this.timeoutFetch(n,u,null!=r?r:5e3):fetch(n,u)]})})},n.prototype.sendPostRequest=function(n,t,i,r,u,f){return Object(e.b)(this,void 0,void 0,function(){var o;return Object(e.d)(this,function(){return o={method:"POST",headers:this.createHeaders(i,r),body:t},[2,u?this.timeoutFetch(n,o,null!=f?f:5e3):fetch(n,o)]})})},n.prototype.createHeaders=function(n,t){var i="undefined"!=typeof Headers&&new Headers,r;if(i){if(pr(n)||i.append("Authorization","Bearer "+n),!pr(t))for(r in t)t.hasOwnProperty(r)&&i.append(r,t[r]);i.append("X-CorrelationId",w.i());this.sessionId&&i.append("X-UserSessionId",this.sessionId)}return i},n.prototype.timeoutFetch=function(n,t,i){return void 0===t&&(t={}),new Promise(function(r,u){fetch(n,t).then(r,u);setTimeout(function(){return u(new Error("Service request timed out"))},i)})},n}();var bf=i(34),et=i(16),kf=i(53);var ie=function(){},pi,ui,re=function(){function n(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p,w,b,k;this.locale="en-us";this.country="US";this.locale=r;this.country=u;this.authTokenCallback=e;this.augLoopCallback=o;this.app=n;this.platform=t;this.version=i;this.sessionId=f;this.campaignFlights=s;this.campaignParameters=h;this.ageGroup=c;this.authType=l;this.messagingServiceSettings=v;var d=a&&-1!==["dogfood","edog","int","microsoft"].indexOf(a.toLowerCase()),g=d?null===(p=this.messagingServiceSettings)||void 0===p?void 0:p.campaignMetadataAggregatorInt:null===(w=this.messagingServiceSettings)||void 0===w?void 0:w.campaignMetadataAggregatorProd,nt=d?null===(b=this.messagingServiceSettings)||void 0===b?void 0:b.setCampaignActionInt:null===(k=this.messagingServiceSettings)||void 0===k?void 0:k.setCampaignActionProd;this.campaignMetadataAggregatorPrefix=g||"https://messaging.engagement.office.com/";this.setCampaignActionPrefix=nt||"https://messaging.action.office.com/";this.tmsgCache=this.tmsgCache||y||new bf.a(["MessageMetadata","UserGovernance","CampaignContent","DynamicSettings","LogLevelSettings","UserFacts"])}return n.prototype.getContent=function(n){return Object(e.b)(this,void 0,void 0,function(){return Object(e.d)(this,function(t){switch(t.label){case 0:return this.tmsgCache.isItemExpired(n)?[4,this.refreshItemsInCacheFromTmsService([n])]:[3,2];case 1:t.sent();t.label=2;case 2:return[2,this.retrieveCacheItemAndCreateContentResponse(n)]}})})},n.prototype.getMultipleContents=function(n){return Object(e.b)(this,void 0,void 0,function(){var i,u,t,r,f,o;return Object(e.d)(this,function(e){switch(e.label){case 0:return[4,this.refreshItemsInCacheFromTmsService(n)];case 1:for(e.sent(),i=[],u=[],t=0,r=n;t<r.length;t++)f=r[t],o=this.createCachedContentResponse(f),i.push(o);return this.refreshItemsInCacheFromTmsService(u),[2,i]}})})},n.prototype.getUserFactsContent=function(n){return Object(e.b)(this,void 0,void 0,function(){return Object(e.d)(this,function(t){switch(t.label){case 0:return[4,this.refreshItemsInCacheFromTulipsService(n)];case 1:return t.sent(),[2,this.retrieveCacheItemAndCreateContentResponse(n)]}})})},n.prototype.sendBeaconRequestToService=function(n,t,i,r,u,o,h,c){return Object(e.b)(this,void 0,void 0,function(){var b,y,p,w,l,k,g,nt,a,v;return Object(e.d)(this,function(tt){switch(tt.label){case 0:return this.sessionId=h,this.authTokenCallback=c,b=Object(s.a)("TmsAppId",d.c.TMSAppID),[4,this.getAuthToken(b)];case 1:return y=tt.sent(),p=void 0,y?[3,4]:(w=this.authTokenCallback.getUserPuid)?[4,this.authTokenCallback.getUserPuid()]:[3,3];case 2:w=tt.sent();tt.label=3;case 3:p=w;tt.label=4;case 4:l=+new Date;tt.label=5;case 5:return tt.trys.push([5,7,,8]),k={app:n,country:o,locale:u,platform:i,puid:p,version:r},g=JSON.stringify({actionName:t.actionName,actionUrl:t.actionUrl}),nt={"Content-Type":"application/json;charset=utf-8"},[4,this.sendRequest(k,y,"TmsActionUrl",this.setCampaignActionPrefix+"setcampaignaction?",nt,g,"POST")];case 6:return(a=tt.sent())&&200===a.status?(f.b().logEvent(f.a.WebSurfaces.SetCampaignAction.Requests.VALUE,3,this.createTelemetryData(l,a,"Beacon"+t.actionName),.01),[2,!0]):(f.b().logEvent(f.a.WebSurfaces.SetCampaignAction.Error.VALUE,2,this.createTelemetryData(l,a,"Beacon"+t.actionName)),[2,!1]);case 7:return v=tt.sent(),f.b().logEvent(f.a.WebSurfaces.SetCampaignAction.Error.VALUE,2,Object(e.a)({ErrorMessage:"Error fetching from TMS SetCampaignAction endpoint"+(v&&v.message?": "+v.message:"")},this.createTelemetryData(l,null,"Beacon"+t.actionName))),[2,!1];case 8:return[2]}})})},n.prototype.getCachedContent=function(n){return this.tmsgCache.getItemContent(n)},n.prototype.getAugLoopUserFactsContent=function(n){return Object(e.b)(this,void 0,void 0,function(){return Object(e.d)(this,function(t){switch(t.label){case 0:return this.tmsgCache.isItemExpired("UserFacts")?[4,this.refreshUserFactsInCacheFromAugLoop()]:[3,2];case 1:t.sent();t.label=2;case 2:return[2,this.retrieveCacheItemAndCreateContentResponse(n)]}})})},n.prototype.refreshUserFactsInCacheFromAugLoop=function(){return Object(e.b)(this,void 0,void 0,function(){var i,r,n,h,c,t,u,o;return Object(e.d)(this,function(l){switch(l.label){case 0:if(!this.tmsgCache.isItemExpired("UserFacts"))return i=this.tmsgCache.getItemContent("UserFacts"),f.b().logEvent(f.a.UserFacts.AugLoop.Requests.VALUE,3,{Count:i?i.length:-1,Type:"AugLoopUserFactsCached",Flights:this.campaignFlights},.01),[2,i];r=+new Date;l.label=1;case 1:return l.trys.push([1,3,,4]),h=Object(s.a)("TulipsAugLoopAnnotationName","AugLoop_User_UserLifecycleFactsAnnotation"),c=this.augLoopCallback.getRuntimeSession,[4,te(h,c)];case 2:return(t=l.sent())&&t.userFacts?(n=this.addClientIngestionTimeAndNormalizeKeysInArray(t.userFacts),this.tmsgCache.setContentItem("UserFacts",n,864e5),f.b().logEvent(f.a.UserFacts.AugLoop.Requests.VALUE,3,Object(e.a)({Count:n?n.length:-1},this.createTelemetryData(r,null,"AugLoopUserFacts")),.01)):(u=t&&t.error,f.b().logEvent(f.a.UserFacts.AugLoop.Error.VALUE,2,Object(e.a)({ErrorMessage:"Error getting augloop facts "+(u&&u.toString())},this.createTelemetryData(r,null,"AugLoopUserFacts")))),[3,4];case 3:return o=l.sent(),f.b().logEvent(f.a.UserFacts.AugLoop.Error.VALUE,2,Object(e.a)({ErrorMessage:"Error getting facts "+(o&&o.message)},this.createTelemetryData(r,null,"AugLoopUserFacts"))),[3,4];case 4:return[2,n]}})})},n.prototype.createTelemetryData=function(n,t,i){var u=t||{},r=u.headers,f=u.status,e=u.statusText,o=r&&r.get("X-UserSessionId"),s=r&&r.get("X-CorrelationId");return{Type:i,TimeMilliseconds:+new Date-n,SessionId:o||this.sessionId,CorrelationId:s||void 0,HttpStatusCode:f||void 0,HttpStatusText:e||void 0,Flights:this.campaignFlights}},n.prototype.sendRequest=function(n,t,i,r,u,f,e){this.tmsgTransport=this.tmsgTransport||new wr(this.sessionId);var o=br(n),h=Object(s.a)(i,r);return"POST"===e?this.tmsgTransport.sendPostRequest(h+o,f,t,u):this.tmsgTransport.sendGetRequest(h+o,t)},n.prototype.retrieveCacheItemAndCreateContentResponse=function(n){var t=this.createCachedContentResponse(n);return this.tmsgCache.isItemExpired(n)&&("UserFacts"===n?this.refreshItemsInCacheFromTulipsService(n):this.refreshItemsInCacheFromTmsService([n])),t},n.prototype.createCachedContentResponse=function(n){var t=new ie;return t.content=this.tmsgCache.getItemContent(n),t.contentType=n,t},n.prototype.getAuthToken=function(n){return Object(e.b)(this,void 0,void 0,function(){var r,u,i,o,t,s=this;return Object(e.d)(this,function(e){switch(e.label){case 0:if(!this.authTokenCallback||!this.authTokenCallback.getAuthToken)return[2,null];r=+new Date;u=function(){return+new Date-r};i=function(t){return void 0===t&&(t=void 0),{ErrorMessage:t,SessionId:s.sessionId,TimeMilliseconds:u(),Type:n}};e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.authTokenCallback.getAuthToken(n)];case 2:return o=e.sent(),f.b().logEvent(f.a.WebSurfaces.Common.Info.VALUE,3,i()),[2,o];case 3:return t=e.sent(),f.b().logEvent(f.a.WebSurfaces.Common.Error.VALUE,2,i("Error getting token "+(t&&t.message?": "+t.message:""))),[3,4];case 4:return[2,null]}})})},n.prototype.refreshItemsInCacheFromTmsService=function(n){return Object(e.b)(this,void 0,void 0,function(){var h,i,c,l,b,a,v,y,r,p,k,w,g,u,t,o;return Object(e.d)(this,function(nt){switch(nt.label){case 0:if(0===n.length)return[2];for(h=[],i=0,c=n;i<c.length;i++)l=c[i],this.tmsgCache.isItemExpired(l)&&h.push(l);return 0===h.length?[2]:(-1===n.indexOf("DynamicSettings")&&n.push("DynamicSettings"),b=Object(s.a)("TmsAppId",d.c.TMSAppID),[4,this.getAuthToken(b)]);case 1:return a=nt.sent(),v=void 0,a?[3,4]:(y=this.authTokenCallback.getUserPuid)?[4,this.authTokenCallback.getUserPuid()]:[3,3];case 2:y=nt.sent();nt.label=3;case 3:v=y;nt.label=4;case 4:r=+new Date;nt.label=5;case 5:return nt.trys.push([5,10,,11]),p=document&&(document.documentElement||document.getElementsByTagName("body")[0]),k={pageWidth:window.innerWidth||p.clientWidth,pageHeight:window.innerHeight||p.clientHeight,screenWidth:screen?screen.width:void 0,screenHeight:screen?screen.height:void 0,colorDepth:screen?screen.colorDepth:void 0},w=et.a.safeReadObject(ci.FileType.DebugOverrides,{}),g=w.replaceTmsQueryParams||Object(e.a)(Object(e.a)({country:this.country,locale:this.locale,app:this.app,platform:this.platform,version:this.version,campaignParams:br(k)+"&more=true&"+(this.campaignParameters||""),contentType:n.join(";"),puid:v,OFC_FLIGHTS:this.campaignFlights},w.addTmsQueryParams||{}),{ageGroup:this.ageGroup,sessionUserType:this.authType}),[4,this.sendRequest(g,a,"TmsServiceUrl",this.campaignMetadataAggregatorPrefix+"campaignmetadataaggregator?")];case 6:return 200!==(u=nt.sent()).status?[3,8]:[4,u.json()];case 7:return t=nt.sent(),-1!==n.indexOf("MessageMetadata")&&void 0!==t.MessageMetadata&&this.tmsgCache.setContentItem("MessageMetadata",t.MessageMetadata,Object(s.a)("TmsMessageMetadataExpiry",144e5)),-1!==n.indexOf("UserGovernance")&&void 0!==t.UserGovernanceRules&&this.tmsgCache.setContentItem("UserGovernance",t.UserGovernanceRules,Object(s.a)("TmsUserGovernanceRulesExpiry",144e5)),-1!==n.indexOf("CampaignContent")&&void 0!==t.CampaignContent&&this.tmsgCache.setContentItem("CampaignContent",t.CampaignContent,Object(s.a)("TmsCampaignContentExpiry",144e5)),void 0!==t.DynamicSettings&&this.tmsgCache.setContentItem("DynamicSettings",t.DynamicSettings,Object(s.a)("TmsDynamicSettingsExpiry",144e5)),void 0!==t.LogLevelSettings&&this.tmsgCache.setContentItem("LogLevelSettings",t.LogLevelSettings,Object(s.a)("TmsLogLevelSettingsExpiry",144e5)),f.b().logEvent(f.a.WebSurfaces.CampaignMetadataAggregator.Requests.VALUE,3,this.createTelemetryData(r,u,n.join(";")),.01),[3,9];case 8:f.b().logEvent(f.a.WebSurfaces.CampaignMetadataAggregator.Error.VALUE,2,this.createTelemetryData(r,u,n.join(";")));nt.label=9;case 9:return[3,11];case 10:return o=nt.sent(),f.b().logEvent(f.a.WebSurfaces.CampaignMetadataAggregator.Error.VALUE,2,Object(e.a)({ErrorMessage:"Error fetching from TMS"+(o&&o.message?": "+o.message:"")},this.createTelemetryData(r,null,n.join(";")))),[3,11];case 11:return[2]}})})},n.prototype.refreshItemsInCacheFromTulipsService=function(n){return Object(e.b)(this,void 0,void 0,function(){var o,h,i,t,u,c,r;return Object(e.d)(this,function(l){switch(l.label){case 0:return this.tmsgCache.isItemExpired(n)?(o=Object(s.a)("TulipsAppId",d.c.TULIPSAppID),[4,this.getAuthToken(o)]):[2];case 1:if(!(h=l.sent()))return[2];i=+new Date;l.label=2;case 2:return l.trys.push([2,7,,8]),[4,this.sendRequest({},h,"TulipsServiceUrl","https://substrate.office.com/OfficePersonalizationUserLifecycle/api/facts")];case 3:return 200!==(t=l.sent()).status&&204!==t.status?[3,5]:[4,t.json()];case 4:return u=l.sent(),-1!==n.indexOf("UserFacts")&&void 0!==u&&(c=this.addClientIngestionTimeAndNormalizeKeys(u),this.tmsgCache.setContentItem("UserFacts",c,864e5)),f.b().logEvent(f.a.UserFacts.Messaging.Requests.VALUE,3,this.createTelemetryData(i,t,n),.01),[3,6];case 5:f.b().logEvent(f.a.UserFacts.Common.Error.VALUE,2,this.createTelemetryData(i,t,n));l.label=6;case 6:return[3,8];case 7:return r=l.sent(),f.b().logEvent(f.a.UserFacts.Common.Error.VALUE,2,Object(e.a)({ErrorMessage:"Error fetching from TULIPS"+(r&&r.message?": "+r.message:"")},this.createTelemetryData(i,null,n))),[3,8];case 8:return[2]}})})},n.prototype.addClientIngestionTimeAndNormalizeKeys=function(n){var t=this,i=new Date(Date.now()).toISOString();return n.map(function(n){var r=t.normalizeKeys(n);return r.clientIngestionDateTime=i,r})},n.prototype.addClientIngestionTimeAndNormalizeKeysInArray=function(n){var t=this,i=new Date(Date.now()).toISOString();return n.map(function(n){var r=t.normalizeKeys(n);return r.clientIngestionDateTime=i,r})},n.prototype.normalizeKeys=function(n){for(var t,r={},i=0,u=Object.keys(n);i<u.length;i++)t=u[i],r[t.charAt(0).toLowerCase()+t.substring(1)]=n[t];return r},n}(),ue=function(){function n(){var r,f,t;this.configuration=u.get();var n=this.configuration&&this.configuration.getFloodgateInitOptions(),i=this.configuration&&this.configuration.getCommonInitOptions(),e=n&&n.authTokenCallback;(e&&(e.getAuthToken||e.getUserPuid)||this.isAugLoopEnabled())&&(t=this.configuration.getCommonInitOptions(),this.tmsgClient=new re(t.appId.toString(),"Web",t.build,t.originalLocale,this.extractCountryFromLocale(t.originalLocale),this.configuration.getSdkSessionId(),n.authTokenCallback,n.augLoopCallback,n.campaignFlights,n.campaignQueryParameters,i.ageGroup,i.authenticationType,(null===(r=i.telemetryGroup)||void 0===r?void 0:r.audienceGroup)||(null===(f=i.telemetryGroup)||void 0===f?void 0:f.audience),n.messagingServiceSettings))}return n.prototype.getCampaignDefinitions=function(){var n,t=(n=et.a.safeReadObject(ci.FileType.DebugOverrides,{}))&&n.tmsResponse&&n.tmsResponse.CampaignContent&&{contentType:"CampaignContent",content:n.tmsResponse.CampaignContent};return t&&t.content?Promise.resolve(t.content):this.tmsgClient?this.tmsgClient.getContent("CampaignContent").then(function(n){return n.content}):Promise.resolve(null)},n.prototype.getCachedCampaignDefinitions=function(){var n;if(null!==(n=this.tmsgClient)&&void 0!==n)return n.getCachedContent("CampaignContent")},n.prototype.getUserGovernanceRules=function(){return this.tmsgClient?this.tmsgClient.getContent("UserGovernance").then(function(n){return n.content}):Promise.resolve(null)},n.prototype.getMessageMetadata=function(){return this.tmsgClient?this.tmsgClient.getContent("MessageMetadata").then(function(n){return n.content}):Promise.resolve(null)},n.prototype.getUserFacts=function(){var n,r=this,t=(n=et.a.safeReadObject(ci.FileType.DebugOverrides,{}))&&n.userFactsResponse&&{contentType:"UserFacts",content:n.userFactsResponse},i;return t&&t.content?Promise.resolve(t.content):this.tmsgClient?this.isAugLoopEnabled()?(i=Object(s.a)("TulipsLoadTimeout",1e3),Object(w.b)(i,this.getAugLoopUserFacts()).then(function(n){return n}).catch(function(){return r.getSubstrateUserFacts()})):this.getSubstrateUserFacts():Promise.resolve(null)},n.prototype.getCachedUserFacts=function(){var n;if(null!==(n=this.tmsgClient)&&void 0!==n)return n.getCachedContent("UserFacts")},n.prototype.setCampaignAction=function(n){if(this.tmsgClient){var t=this.configuration.getCommonInitOptions(),i=this.configuration.getFloodgateInitOptions();return this.tmsgClient.sendBeaconRequestToService(t.appId.toString(),n,"Web",t.build,t.originalLocale,this.extractCountryFromLocale(t.originalLocale),this.configuration.getSdkSessionId(),i.authTokenCallback)}},n.prototype.extractCountryFromLocale=function(n){if(n){var t=n.split("-");return 2===t.length?t[1]:void 0}},n.prototype.getSubstrateUserFacts=function(){return this.tmsgClient?this.tmsgClient.getUserFactsContent("UserFacts").then(function(n){return n.content}):Promise.resolve(null)},n.prototype.getAugLoopUserFacts=function(){return this.tmsgClient?this.tmsgClient.getAugLoopUserFactsContent("UserFacts").then(function(n){return n.content}):Promise.resolve(null)},n.prototype.isAugLoopEnabled=function(){var n,t,i;if(null!==(i=null===(t=null===(n=this.configuration)||void 0===n?void 0:n.getFloodgateInitOptions())||void 0===t?void 0:t.augLoopCallback)&&void 0!==i)return i.isEnabled},n}();var wi,gr=function(){function n(){}return n.prototype.makeSurveyLauncher=function(n){return this.AcceptsSurvey(n)?new fe(n):null},n.prototype.AcceptsSurvey=function(t){return!Object(w.l)(t)&&t.getType()===p.ISurvey.Type.GenericMessagingSurface&&t.getLauncherType().toLocaleLowerCase()===n.LAUNCHER_TYPE},n.LAUNCHER_TYPE="coachingux",n}(),fe=function(){function n(n){var t;this.survey=n;!ui&&n&&n.getSurveyInfo&&(null===(t=n.getSurveyInfo())||void 0===t?void 0:t.getBusinessLevel())===p.ISurveyInfo.BusinessLevel.Critical&&setTimeout(dr,1e3)}return n.prototype.launch=function(n){var a=this,t=this.survey&&this.survey.getSurveyInfo(),i=t&&t.getMetadata(),r=i&&i.getContentMetadata();if(r){var o=new Date,h=function(){var n=y.b();return n&&n.OfficeWebSurfaces},c=function(i){var u=h(),f;i&&u.Initialize(i);u.RemoveSurface();f=Object(e.a)(Object(e.a)({},r),{surfaceContext:{surveyForm:a.survey,surveyParams:n}});u.RenderSurface(f,null,t.getBackEndId())},l=function(n){f.b().logEvent(f.a.WebSurfaces.Common.Error.VALUE,1,{ErrorMessage:"Error loading websurfaces"+(n&&n.message?": "+n.message:""),TimeMilliseconds:Date.now()-+o})};try{if(h())return void c();dr();ui.then(function(){var r=u.get().getCommonInitOptions(),n=u.get().getFloodgateInitOptions(),i=n&&n.onSurveyActivatedCallback,f=Object(e.a)(Object(e.a)(Object(e.a)({},r),n),{beaconCallback:function(n){if(n)return vt().setCampaignAction(n)},surfaceInitTime:o,surfaceId:t.getBackEndId(),logSessionId:u.get().getSdkSessionId(),logSettings:Object(s.a)("LogLevelSettings",void 0),renderer:i,renderCallback:i&&i.onTeachingCampaignRender});c(f)}).catch(function(n){l(n)})}catch(n){l(n)}}},n}(),nu=function(){function n(n){var t;if(this.showPrompt=!0,this.showEmailRequest=!1,!n)throw Error("survey must not be null");if(this.survey=n,n.getType()===p.ISurvey.Type.Intercept){if(this.isIntercept=!0,t=n.getComponent("Intercept"),!t)throw Error("intercept component must not be null");this.intercept=t}else{this.isIntercept=!1;var i=n.getComponent("Prompt"),r=n.getComponent("Comment"),u=n.getComponent("Rating"),f=n.getComponent("CVSurvey");if(!i)throw Error("prompt component must not be null");if(this.prompt=i,this.showEmailRequest=n.getSurveyInfo().isAdditionalDataRequested(0),!r)throw Error("comment component must not be null");if(this.comment=r,!u)throw Error("rating component must not be null");if(this.rating=u,f&&(this.cvSurvey=f,this.getLauncherType()===d.f&&!this.getCVSurveyFormId()))throw Error("CvSurveyId should not be null");}}return n.prototype.getLauncherType=function(){if(!this.isIntercept)return this.survey.getLauncherType()},n.prototype.getCVSurveyFormId=function(){if(!this.isIntercept)return this.cvSurvey.getFormId()},n.prototype.getPreGeneratedClientFeedbackId=function(){return this.survey.getPreGeneratedClientFeedbackId()},n.prototype.getPromptQuestion=function(){if(!this.isIntercept)return this.prompt.getQuestion()},n.prototype.getTitle=function(){if(!this.isIntercept)return this.prompt.getTitle()},n.prototype.getPromptYesButtonText=function(){if(!this.isIntercept)return this.prompt.getYesButtonText()},n.prototype.getPromptNoButtonText=function(){if(!this.isIntercept)return this.prompt.getNoButtonText()},n.prototype.getRatingValuesAscending=function(){if(!this.isIntercept)return this.rating.getRatingValuesAscending()},n.prototype.getRatingQuestion=function(){if(!this.isIntercept)return this.rating.getQuestion()},n.prototype.getCommentQuestion=function(){if(!this.isIntercept)return this.comment.getQuestion()},n.prototype.getInterceptTitle=function(){if(this.isIntercept)return this.intercept.getTitle()},n.prototype.getInterceptQuestion=function(){if(this.isIntercept)return this.intercept.getQuestion()},n.prototype.getInterceptUrl=function(){if(this.isIntercept)return this.intercept.getUrl()},n.prototype.setValues=function(n,t){this.isIntercept||(this.rating.setSelectedRatingIndex(n),this.comment.setSubmittedText(t))},n.prototype.getJsonElements=function(){return this.survey.getJsonElements()},n.prototype.getSurveyType=function(){return this.survey.getType()},n.prototype.getCampaignId=function(){return this.survey.getSurveyInfo().getBackEndId()},n.prototype.getId=function(){return this.survey.getSurveyInfo().getId()},n.prototype.getGoverenedChannelType=function(){return this.survey.getSurveyInfo().getGovernedChannelType()},n}(),ee=o.Utils.isNOU,tu=function(){function n(){}return n.prototype.makeSurveyLauncher=function(n){return this.AcceptsSurvey(n)?new oe(n):null},n.prototype.AcceptsSurvey=function(n){return!ee(n)&&n.getType()!==o.Api.ISurvey.Type.GenericMessagingSurface},n.LAUNCHER_TYPE=o.Api.ISurvey.LAUNCHER_TYPE_DEFAULT,n}(),oe=function(){function n(n){this.survey=n}return n.prototype.launch=function(){y.a().OfficeBrowserFeedback.floodgate.showSurvey(new nu(this.survey))},n}(),ot=o.Utils.isNOU,se=function(){function n(n,t){this.rudeSurveyLauncherFactory=n;this.coachingUXLauncherFactory=t}return n.make=function(){return new n(new tu,new gr)},n.prototype.makeSurveyLauncher=function(n){if(ot(n))return null;switch(n.getLauncherType().toLocaleLowerCase()){case gr.LAUNCHER_TYPE:return this.makeGenericMessagingSurfaceLauncher(n);case tu.LAUNCHER_TYPE:default:return this.makeRudeSurveyLauncher(n)}},n.prototype.AcceptsSurvey=function(n){if(ot(n))return!1;switch(n.getType()){case o.Api.ISurvey.Type.GenericMessagingSurface:return!ot(this.coachingUXLauncherFactory)&&this.coachingUXLauncherFactory.AcceptsSurvey(n);default:return u.get().checkIfSurveysEnabled()&&!ot(this.rudeSurveyLauncherFactory)&&this.rudeSurveyLauncherFactory.AcceptsSurvey(n)}},n.prototype.makeGenericMessagingSurfaceLauncher=function(n){return ot(this.coachingUXLauncherFactory)?null:this.coachingUXLauncherFactory.makeSurveyLauncher(n)},n.prototype.makeRudeSurveyLauncher=function(n){return ot(this.rudeSurveyLauncherFactory)?null:this.rudeSurveyLauncherFactory.makeSurveyLauncher(n)},n}(),bi=i(22),he=function(){function n(){}return n.prototype.makeTransporter=function(n){return new bi.a(u.get().getCommonInitOptions().environment,n,u.get().getCommonInitOptions().appId,"Survey",u.get().getCommonInitOptions().applicationGroup,u.get().getCommonInitOptions().telemetryGroup,u.get().getCommonInitOptions().webGroup)},n}(),ce=function(){function n(){}return n.prototype.getLanguage=function(){return u.get().getCommonInitOptions().originalLocale},n}(),l=i(3),le=function(){function n(){}return n.prototype.loadStringResource=function(n){var t=l.a();switch(n){case 5:return t.Floodgate.Nps.Rating.Points11Value0;case 6:return t.Floodgate.Nps.Rating.Points11Value1;case 7:return t.Floodgate.Nps.Rating.Points11Value2;case 8:return t.Floodgate.Nps.Rating.Points11Value3;case 9:return t.Floodgate.Nps.Rating.Points11Value4;case 10:return t.Floodgate.Nps.Rating.Points11Value5;case 11:return t.Floodgate.Nps.Rating.Points11Value6;case 12:return t.Floodgate.Nps.Rating.Points11Value7;case 13:return t.Floodgate.Nps.Rating.Points11Value8;case 14:return t.Floodgate.Nps.Rating.Points11Value9;case 15:return t.Floodgate.Nps.Rating.Points11Value10;case 16:return t.Floodgate.Nps.Rating.Points5Value1;case 17:return t.Floodgate.Nps.Rating.Points5Value2;case 18:return t.Floodgate.Nps.Rating.Points5Value3;case 19:return t.Floodgate.Nps.Rating.Points5Value4;case 20:return t.Floodgate.Nps.Rating.Points5Value5;case 4:return t.Floodgate.Nps.Rating.Question;case 21:return t.Floodgate.Nps.Comment.Question;case 3:return t.Floodgate.Nps.Prompt.No;case 1:return t.Floodgate.Nps.Prompt.Question;case 0:return t.Floodgate.Nps.Prompt.Title;case 2:return t.Floodgate.Nps.Prompt.Yes;default:return""}},n.prototype.getCustomString=function(n){return u.get().getFloodgateInitOptions().uIStringGetter(n)},n}(),iu=i(21),ae=function(){function n(){this.loadAsyncTriggered=!1;this.campaignDefinitions=[]}return n.prototype.load=function(){return this.loadAsyncTriggered||(this.loadAsync(),this.loadAsyncTriggered=!0),this.campaignDefinitions||[]},n.prototype.loadAsync=function(){var n=this,t=vt().getCampaignDefinitions(),i,r;return t.then(function(t){n.loadCampaignDefinitions(t);n.loadAsyncTriggered=!0}),i=Object(s.a)("TmsLoadTimeout",1e3),r=Object(w.b)(i,t),new Promise(function(t){r.then(function(i){n.loadCampaignDefinitions(i);n.loadAsyncTriggered=!0;t(n.campaignDefinitions)}).catch(function(){n.campaignDefinitions.length<=0&&n.loadCampaignDefinitions(vt().getCachedCampaignDefinitions());t(n.campaignDefinitions)}).catch(function(){t(n.campaignDefinitions)})})},n.prototype.loadCampaignDefinitions=function(n){var t=n&&n.campaigns;t&&(this.campaignDefinitions=Object(iu.FilterValidCampaignDefinitions)(t).result)},n}();var pe=function(){function n(){this.loadAsyncTriggered=!1;this.userFacts=[];this.nameAndUserFactMap={}}return n.prototype.load=function(){return this.loadAsyncTriggered||(this.loadAsync(),this.loadAsyncTriggered=!0),this.userFacts||[]},n.prototype.loadAsync=function(){var n=this,t=vt().getUserFacts().then(function(t){n.loadUserFacts(t)}),i=Object(s.a)("TulipsLoadTimeout",1e3);return Object(w.b)(i,t).then(function(){return n.userFacts}).catch(function(){return(!n.userFacts||n.userFacts.length<=0)&&n.loadUserFacts(vt().getCachedUserFacts()),n.userFacts}).catch(function(){return n.userFacts})},n.prototype.getUserFact=function(n){var t=this.nameAndUserFactMap[n];return t||this.nameAndUserFactMap.hasOwnProperty(n)?t:t=this.nameAndUserFactMap[n]=ye(n)},n.prototype.loadUserFacts=function(n){var t=this;n&&(this.userFacts=n||[],this.userFacts.map(function(n){t.nameAndUserFactMap[n.userFactName]=n}),this.loadAsyncTriggered=!0,this.logUserFactInfo(this.userFacts))},n.prototype.logUserFactInfo=function(n){var t,i;if(n&&!(n.length<=0)&&(t=Object(s.a)("TulipsIngestionTimeInterval",864e5),!(t<=0))){try{var u=Date.now(),r=function(n){var i=Date.parse(n);return!!isNaN(i)||u-i>t},e={Count:n.length,RefreshTime:t,IngestionTime:n[0].clientIngestionDateTime,SourcesExpired:n.filter(function(n){return n&&r(n.sourceDateTime)}).length||void 0,StoragesExpired:n.filter(function(n){return n&&r(n.storageDateTime)}).length||void 0,IngestionsExpired:n.filter(function(n){return n&&r(n.clientIngestionDateTime)}).length||void 0};i={Message:"UserFacts",Data:JSON.stringify(e)}}catch(n){i={ErrorMessage:"Error getting UserFact info"}}f.b().logEvent(f.a.UserFacts.Provider.Info.VALUE,3,i)}},n}(),yt=i(15),ru=i(33),pt=i(17),we=i(42),be=i.n(we),c=i(9),uu=function(n){function t(t){var i=n.call(this)||this;return i.simpleRequestEnabled=!1,i.simpleRequestEnabled=null!=t&&t,i}return Object(e.c)(t,n),t.prototype.postRequestWithRetry=function(n,t,i,r){var u=this;return new Promise(function(e,o){u.sendPostRequest(n,t,void 0,void 0,!0,r).then(e).catch(function(s){if(f.b().logEvent(f.a.DYNAMICTRANSPORT_POST_ERROR,2,{ErrorMessage:s.toString(),TimeMilliseconds:r,Count:i,CorrelationId:u.requestId}),i<=1)return o(s);u.postRequestWithRetry(n,t,i-1,r).then(e).catch(o)})})},t.prototype.createHeaders=function(n){var t="undefined"!=typeof Headers&&new Headers;return t&&(this.simpleRequestEnabled?this.createSimpleHeaders(t):this.createNormalHeaders(t),Object(c.isNOU)(n)||t.append("Authorization","Bearer "+n)),t},t.prototype.createNormalHeaders=function(n){this.requestId=Object(c.guid)();n.append("X-Request-ID",this.requestId);n.append("Content-Type","application/json")},t.prototype.createSimpleHeaders=function(n){n.append("Content-Type","text/plain")},t}(wr),ft=i(23),ke=new(function(){function n(){this.personalizerEnabled=!1;this.dynamicTransport=new uu;this.personalizerSurveyInformationMap={}}return n.prototype.setup=function(n){this.personalizerEnabled=n.getFloodgateInitOptions().governanceServiceEnabled&&n.getFloodgateInitOptions().personalizerEnabled;this.personalizerEnabled&&(this.isProduction=0===n.getCommonInitOptions().environment,this.retryLimit=n.getFloodgateInitOptions().governanceServiceConfig.retry,this.timeout=n.getFloodgateInitOptions().governanceServiceConfig.timeout,this.requestUrl=this.isProduction?"https://oness.microsoft.com/api/v1.0/Reward":"https://onessppe.microsoft.com/api/v1.0/Reward")},n.prototype.setEventIdAndOverrideValueForSurveyId=function(n,t,i,r){if(!this.personalizerEnabled||o.Utils.isNOU(n)||o.Utils.isNOU(r)||0!==t)return!1;var u=this.validateAndGetAutoDismissTime(i);return!o.Utils.isNOU(u)&&(this.personalizerSurveyInformationMap[r]={eventId:n,recommendedAutoDismissValue:u,userAction:void 0},!0)},n.prototype.getOverrideValueForSurveyId=function(n,t){if(this.personalizerEnabled&&!o.Utils.isNOU(t)&&this.infoExistsForSurveyId(t)&&0===n)return this.personalizerSurveyInformationMap[t].recommendedAutoDismissValue},n.prototype.logUserActionForSurveyAsync=function(n,t,i){return Object(e.b)(this,void 0,void 0,function(){var r,u,s,c,l,h;return Object(e.d)(this,function(e){switch(e.label){case 0:if(!o.Utils.isNOU(n)&&this.infoExistsForSurveyId(t)&&(this.personalizerSurveyInformationMap[t].userAction=n),r={error:!1},u=this.getValidatedActionPayloadForSurveyId(t),o.Utils.isNOU(u))return r.error=!0,r.errorMessage="Action Payload validation failed.",f.b().logEvent(f.a.PERSONALIZER_CLIENTFAILURE,1,{Message:"(PersonalizerClient.logUserActionForSurveyAsync) Error logging personalizer user action: "+r.errorMessage,CampaignId:i,SurveyId:t}),[2,r];e.label=1;case 1:return e.trys.push([1,3,,4]),c=performance.now(),[4,this.dynamicTransport.postRequestWithRetry(this.requestUrl,JSON.stringify(u),this.retryLimit,this.timeout)];case 2:return s=e.sent(),l=performance.now(),f.b().logEvent(f.a.PERSONALIZER_SERVICEREWARDRESULT,1,{TimeMilliseconds:l-c,HttpStatusCode:s.status,HttpStatusText:s.statusText,AdditionalSurveyInfo:this.buildConfigTelemetryString(),CorrelationId:this.dynamicTransport.requestId,CampaignId:i,PersonalizerUserAction:u.UserAction,PersonalizerEventId:u.EventId,SurveyId:t}),s.ok||(r.error=!0,r.errorMessage="Server Error, status: "+s.status+", status text: "+s.statusText),[2,r];case 3:return h=e.sent(),r.error=!0,r.errorMessage="Error: "+h.toString()+", Error stack: "+h.stack,f.b().logEvent(f.a.PERSONALIZER_CLIENTFAILURE,1,{Message:"(PersonalizerClient.logUserActionForSurveyAsync) Error logging personalizer user action: "+r.errorMessage,CampaignId:i,SurveyId:t,PersonalizerUserAction:u.UserAction,PersonalizerEventId:u.EventId}),[2,r];case 4:return[2]}})})},n.prototype.getEventIdForSurveyId=function(n){if(this.infoExistsForSurveyId(n))return this.personalizerSurveyInformationMap[n].eventId},n.prototype.isEnabled=function(n,t,i){return n===p.ISurvey.Type.Fps&&t!==d.f&&"customux"!==t&&i===pt.GovernedChannelType.Standard&&this.personalizerEnabled},n.prototype.getValidatedActionPayloadForSurveyId=function(n){if(this.infoExistsForSurveyId(n)){var t=this.personalizerSurveyInformationMap[n];if(!o.Utils.isNOU(t.eventId)&&!(o.Utils.isNOU(t.userAction)||2!==t.userAction&&0!==t.userAction&&1!==t.userAction))return{UserAction:t.userAction,EventId:t.eventId}}},n.prototype.validateAndGetAutoDismissTime=function(n){if(!o.Utils.isNOU(n)&&"string"==typeof n)switch(parseInt(n,10)){case 0:return 0;case 7:return 1;case 14:return 2;case 21:return 3;case 28:return 4;case 60:return 5;case 90:return 6;case 120:return 7;case 150:return 8;default:return}},n.prototype.infoExistsForSurveyId=function(n){return!o.Utils.isNOU(n)&&!o.Utils.isNOU(this.personalizerSurveyInformationMap[n])},n.prototype.buildConfigTelemetryString=function(){var n={retry:this.retryLimit,timeout:this.timeout};return JSON.stringify(n)},n}());fu=new(function(){function n(){this.personalizerClient=k();this.governanceServiceEnabled=!1;this.forceServicelessSurveyDisplay=!1;this.lastSurveyFailedSync=void 0;this.clientState=ft.GovernanceServiceClientState.Disabled}return n.prototype.setup=function(n){if(this.governanceServiceEnabled=n.getFloodgateInitOptions().governanceServiceEnabled,this.governanceServiceEnabled){if((this.clientInfo={applicationId:n.getCommonInitOptions().appId.toString(),sessionId:n.getCommonInitOptions().sessionId,version:n.getCommonInitOptions().build,surveyPlatform:1,hostPlatform:6,tenantId:n.getCommonInitOptions().telemetryGroup.tenantId,deviceId:n.getCommonInitOptions().telemetryGroup.deviceId,audience:n.getCommonInitOptions().telemetryGroup.audience},this.userId=n.getCommonInitOptions().telemetryGroup.loggableUserId,Object(c.isNOU)(this.clientInfo.sessionId))||Object(c.isNOU)(this.clientInfo.version)||!Object(c.isValidUserId)(this.userId))return void(this.clientState=ft.GovernanceServiceClientState.InitializationFailed);this.forceServicelessSurveyDisplay=n.getFloodgateInitOptions().governanceServiceConfig.forceServicelessSurveyDisplay;this.retryLimit=n.getFloodgateInitOptions().governanceServiceConfig.retry;this.timeout=n.getFloodgateInitOptions().governanceServiceConfig.timeout;this.simpleRequestEnabled=n.getFloodgateInitOptions().governanceServiceConfig.simpleRequestEnabled;this.isProduction=0===n.getCommonInitOptions().environment;this.clientState=ft.GovernanceServiceClientState.Enabled;this.dynamicTransport=new uu(this.simpleRequestEnabled)}},n.prototype.isEnabled=function(n){return this.clientState===ft.GovernanceServiceClientState.Enabled&&this.governanceServiceEnabled&&n===pt.GovernedChannelType.Standard},n.prototype.shouldForceDisplay=function(){return this.forceServicelessSurveyDisplay},n.prototype.getClientInfo=function(){return this.clientInfo},n.prototype.getClientState=function(){return this.clientState},n.prototype.getLastSurveyFailedSync=function(){return this.lastSurveyFailedSync},n.prototype.checkGovernancePermitAsync=function(n,t,i,r){return Object(e.b)(this,void 0,void 0,function(){var p,l,a,o,u,y,w,h,s,v;return Object(e.d)(this,function(e){switch(e.label){case 0:p=(this.isProduction?"https://oness.microsoft.com/api/v1.0/UserSurvey":"https://onessppe.microsoft.com/api/v1.0/UserSurvey")+(this.simpleRequestEnabled?"/SimpleRequest":"");l=this.buildSurveyInfo(n,t,r);a=this.buildBodyRequest(l,i);o={permission:!1,error:!1};e.label=1;case 1:return e.trys.push([1,4,,5]),w=performance.now(),[4,this.dynamicTransport.postRequestWithRetry(p,a,this.retryLimit,this.timeout)];case 2:return u=e.sent(),y=performance.now()-w,h=void 0,u.ok?[4,u.text()]:(this.lastSurveyFailedSync=l,o.errorMessage="Server Error, status: "+u.status+", status text: "+u.statusText,o.error=!0,f.b().logEvent(f.a.GOVERNANCE_SERVICERESULT,1,{TimeMilliseconds:y,HttpStatusCode:u.status,HttpStatusText:u.statusText,AdditionalSurveyInfo:this.buildConfigTelemetryString(),CorrelationId:this.dynamicTransport.requestId,GovernanceRequestBody:a,GovernanceResponseText:h,CampaignId:n.getCampaignId(),SurveyId:n.getSurveyInfo().getId()}),[2,o]);case 3:return h=e.sent(),f.b().logEvent(f.a.GOVERNANCE_SERVICERESULT,1,{TimeMilliseconds:y,HttpStatusCode:u.status,HttpStatusText:u.statusText,AdditionalSurveyInfo:this.buildConfigTelemetryString(),CorrelationId:this.dynamicTransport.requestId,GovernanceRequestBody:a,GovernanceResponseText:h,CampaignId:n.getCampaignId(),SurveyId:n.getSurveyInfo().getId()}),(s=JSON.parse(h)).lastTriggerSurveyTime=Object(c.stringToDate)(new Date(s.lastTriggerSurveyTime).toISOString()),Object(c.isNumber)(s.timeUntilNextSurveyAllowed)&&Object(c.isDate)(s.lastTriggerSurveyTime)?(0===s.timeUntilNextSurveyAllowed&&(o.permission=!0,this.personalizerClient.isEnabled(n.getType(),n.getLauncherType(),n.getSurveyInfo().getGovernedChannelType())&&this.personalizerClient.setEventIdAndOverrideValueForSurveyId(this.dynamicTransport.requestId,0,s.actionId,n.getSurveyInfo().getId(),n.getCampaignId())),o.lastTriggerSurvey=s,this.lastSurveyFailedSync=void 0):(o.errorMessage="Service Response is not formatted correctly: "+h,o.error=!0,this.lastSurveyFailedSync=l),[3,5];case 4:return v=e.sent(),this.lastSurveyFailedSync=l,f.b().logEvent(f.a.GOVERNANCE_SERVICEFAILURE,2,{ErrorMessage:v.toString(),AdditionalSurveyInfo:this.buildConfigTelemetryString(),CorrelationId:this.dynamicTransport.requestId,HttpStatusCode:null==u?void 0:u.status,HttpStatusText:null==u?void 0:u.statusText,GovernanceRequestBody:a}),o.error=!0,o.errorMessage="Error: "+v.toString()+", Error stack: "+v.stack,[3,5];case 5:return[2,o]}})})},n.prototype.buildSurveyInfo=function(n,t,i){var u=p.ISurvey.Type[n.getType()],f=ft.GovernanceServiceSurveyType[u],r=new Date,e=this.personalizerClient.isEnabled(n.getType(),n.getLauncherType(),n.getSurveyInfo().getGovernedChannelType());return{surveyId:n.getCampaignId(),surveyTriggerTime:r,surveyType:f,surveyLevelCooldown:t,surveyChannel:i,localOffsetTime:r.getTimezoneOffset(),personalizerEnabled:e}},n.prototype.buildBodyRequest=function(n,t){var i={userId:this.userId,userLevelCooldown:t,survey:n,client:this.clientInfo};return this.simpleRequestEnabled&&(this.dynamicTransport.requestId=Object(w.i)(),i.requestId=this.dynamicTransport.requestId),JSON.stringify(i)},n.prototype.buildConfigTelemetryString=function(){var n={retry:this.retryLimit,timeout:this.timeout,simpleRequestEnabled:this.simpleRequestEnabled};return JSON.stringify(n)},n}());var nt,de,wt=!1,st=0,bt=null,fi=null,di=null;y.g(function(){return nt});y.l(su);y.m(hu);var lu,kt,ei,ht,au=i(28),r=i(0),b=i(5),no=i(35),vu=w.l;oi=[];du=w.l;nf=i(32);var tf,rf=i(36),uf=!1,ff=!1,ef=!1,of=!1,gt=null,sf="",hf=function(n,t){var e,o,s=!1,i=n.split("_"),h;switch(i.length>1?(e=i[0],o=i[1]):(e="Other",o=i[0]),e){case"CV":switch(o){case"OnSubmit":return function(n){var i,e;try{var t=function(n){var t,f,e,o,s,h,i,l,a,r=[],u=[],v=[],y=[],p=!1,w=!1;return null===(t=n.pageInfo)||void 0===t||t.forEach(function(t){t.questionAnswers.forEach(function(t){switch(null==t?void 0:t.questionType){case"rating":f=function(n){return parseInt(null==n?void 0:n.answerValue[0],10)-1}(t);o=ni(t);s=t.ratingsListLength;break;case"prompt":h=ni(t);i=si(t);break;case"verbatim":var b=si(t),g=ni(t),k=!Object(c.isNOU)(i),d=!1;p?(k||"1"===n.pageNumber||!Object(c.isNOU)(gt)||w||(u.push({question:sf}),r.push(" "),w=!0),d=k||"1"!==n.pageNumber):(gt=b,sf=g,p=!0,d=k||!Object(c.isNOU)(gt));d&&(u.push({question:g}),r.push(Object(c.isNOU)(b)?" ":b));break;case"email":e=si(t);break;case"additional":l=ni(t);a=si(t);break;case"contactme":default:v.push({question:"contactme"===(null==t?void 0:t.questionType)?"contactme":ni(t),options:oo(t)});y.push(function(n){if(null!=n)return n.insightfulQuestionAnswers}(t))}})}),{rating:f,ratingQuestion:o,ratingsListLength:s,email:e,commentsCollection:r,commentTitlesCollection:u,promptQuestion:h,promptResponse:i,additionalPromptQuestion:l,additionalPromptResponse:a,insightfulQuestionOptionsCollection:v,insightfulQuestionAnswersCollection:y}}(n),o=t.rating,s=t.promptResponse,h=t.additionalPromptResponse;if(function(n,t){var i=!1,u=!1;return Object(c.isNOU)(n)||(i=cf(n,"prompt",ff),u=n===r.f.No),Object(c.isNOU)(t)||(i=cf(t,"additional",ef),u=t===r.f.No),i||u}(s,h))return;i=new bi.a(u.get().getCommonInitOptions().environment,p.ISurvey.Type[u.get().getFloodgateSurvey().getSurveyType()],u.get().getCommonInitOptions().appId,"Survey",u.get().getCommonInitOptions().applicationGroup,u.get().getCommonInitOptions().telemetryGroup,u.get().getCommonInitOptions().webGroup);e=Object(c.isNOU)(gt)?null:gt;u.get().getFloodgateSurvey().setValues(Number(o),e||null),function(n,t){var r,i;n.setManifestValues(u.get().getFloodgateSurvey().getJsonElements()),function(n,t){var r,u=[],i;t.commentsCollection.length>0&&(r=t.commentsCollection,u=t.commentTitlesCollection);i=JSON.parse(n.getExtendedManifestData());i.surveyStrings=JSON.stringify({prompt:{title:"",question:null==t?void 0:t.promptQuestion,yesButtonText:"YES",noButtonText:"NO"},rating:[{question:null==t?void 0:t.ratingQuestion,options:[]}],comment:u,multipleChoice:t.insightfulQuestionOptionsCollection});i.surveySpecificData=JSON.stringify({rating:[{numberOfOptions:t.ratingsListLength,selectedRating:t.rating}],comment:r,multipleChoice:t.insightfulQuestionAnswersCollection});n.setExtendedManifestData(JSON.stringify(i))}(n,t);t.email&&n.setEmail(t.email);r=function(){var t=u.get().getCommonInitOptions().applicationGroup.appData,n=[],i={additionalInfo:{SurveyDescription:d.g,Flight:u.get().getCVSurveyFlights()}};if(Object(c.isNOU)(t))n.push({});else try{n.push(JSON.parse(t))}catch(t){a(f.a.APPDATA_JSON_PARSE_ERROR);n.push({})}return n.push(i),JSON.stringify(n)}();n.setAppData(r);i=u.get().getFloodgateSurvey().getPreGeneratedClientFeedbackId();i&&n.setClientFeedbackId(i)}(i,t);i.submit();"FormPartialResponseSubmitted"!==n.eventType&&"FormResponseSubmitted"!==n.eventType||(uf=!0,of?(f.a.SURVEY_UI_FORM_SECONDARY_SUBMIT.name="Survey_UI_Form_Secondary_Submit_Page_Number_"+n.pageNumber,a(f.a.SURVEY_UI_FORM_SECONDARY_SUBMIT)):(a(f.a.SURVEY_UI_FORM_SUBMIT),of=!0))}catch(n){a(f.a.SURVEY_UI_FORM_SUBMIT_ERROR)}}(t);case"OnCancel":return function(n){var t;switch(n.eventType){case"FormClosed":Object(c.isNOU)(n.pageNumber)||(f.a.SURVEY_UI_FORM_USERCLOSED.name="Survey_UI_Form_UserClosed_Page_Number_"+n.pageNumber.charAt(n.pageNumber.length-1));a(f.a.SURVEY_UI_FORM_USERCLOSED);break;case"ThankYouPageClosed":a(f.a.SURVEY_UI_THANKYOUPAGE_USERCLOSED);break;case"PromptClosed":a(f.a.SURVEY_UI_PROMPT_USERCLOSED);break;case"AdditionalPromptClosed":a(f.a.SURVEY_UI_ADDITIONALPROMPT_USERCLOSED);break;case"FormAutoDismissed":a(f.a.SURVEY_UI_PROMPT_AUTODISMISSED);break;case"ThankYouPageAutoDismissed":a(f.a.SURVEY_UI_THANKYOUPAGE_AUTODISMISSED);break;case"FormResponseCanceled":Object(c.isNOU)(n.pageNumber)||(f.a.SURVEY_UI_FORM_USERCLOSED.name="Survey_UI_Form_UserClosed_Page_Number_"+(null===(t=n.pageNumber)||void 0===t?void 0:t.charAt(n.pageNumber.length-1)));a(f.a.SURVEY_UI_FORM_USERCLOSED);break;default:a(f.a.SURVEY_UI_FORM_NO_RETURN_TYPE)}tf(uf)}(t);case"OnLoaded":return function(n){var t=f.a.SURVEY_UI_FORM_SHOWN;n.hasSurveyDispatcher?t=f.a.SURVEY_UI_FORM_DISPATCHER_IMPLEMENTED:n.hasSurveyPromptShown&&(t=f.a.SURVEY_UI_PROMPT_SHOWN);a(t)}(t);case"OnLog":return function(n){var t,i,r,f,e=u.get(),o={CampaignId:e.getFloodgateSurvey().getCampaignId(),SurveyId:e.getFloodgateSurvey().getId(),SurveyType:e.getFloodgateSurvey().getSurveyType(),ErrorMessage:(null===(t=n.customProperties)||void 0===t?void 0:t.ErrorMessage)?null===(i=n.customProperties)||void 0===i?void 0:i.ErrorMessage:null,Message:(null===(r=n.customProperties)||void 0===r?void 0:r.Message)?null===(f=n.customProperties)||void 0===f?void 0:f.Message:null};a(n.eventId,o)}(t);default:s=!0}break;default:s=!0}s&&(h={CampaignId:u.get().getFloodgateSurvey().getCampaignId(),SurveyId:u.get().getFloodgateSurvey().getId(),SurveyType:u.get().getFloodgateSurvey().getSurveyType()},nr.logTelemetryEvent(f.a.SURVEY_EVENT_KEY_ERROR,h))};var nr={logTelemetryEvent:a},so=function(){function n(n){this.comment="";this.ratingIndex=-1;this.showPrompt=n.showPrompt;this.showEmailRequest=!!w.j(n.showEmailRequest)&&n.showEmailRequest;this.survey=n}return n.prototype.getLauncherType=function(){return this.survey.launcherType},n.prototype.getCVSurveyFormId=function(){return this.survey.customerVoiceFormId},n.prototype.getPreGeneratedClientFeedbackId=function(){},n.prototype.getPromptQuestion=function(){return this.survey.promptQuestion},n.prototype.getTitle=function(){return this.survey.title},n.prototype.getPromptYesButtonText=function(){return this.survey.promptYesButtonText},n.prototype.getPromptNoButtonText=function(){return this.survey.promptNoButtonText},n.prototype.getRatingValuesAscending=function(){return this.survey.ratingValuesAscending},n.prototype.getRatingQuestion=function(){return this.survey.ratingQuestion},n.prototype.getCommentQuestion=function(){return this.survey.commentQuestion},n.prototype.getInterceptTitle=function(){},n.prototype.getInterceptQuestion=function(){},n.prototype.getInterceptUrl=function(){},n.prototype.setValues=function(n,t){this.comment=t;this.ratingIndex=this.isRatingIndexValid(n)?n:-1},n.prototype.getJsonElements=function(){var n={};return n.comment=this.comment,n.rating=this.getNormalizedRatingScore(),n.survey={surveyId:this.getCampaignId()},n},n.prototype.getSurveyType=function(){return this.survey.surveyType},n.prototype.getCampaignId=function(){return this.survey.campaignId},n.prototype.getId=function(){return this.getCampaignId()},n.prototype.getGoverenedChannelType=function(){},n.prototype.isRatingIndexValid=function(n){return n>=0&&n<this.survey.ratingValuesAscending.length},n.prototype.getNormalizedRatingScore=function(){return this.isRatingIndexValid(this.ratingIndex)?this.survey.isZeroBased?this.ratingIndex/(this.survey.ratingValuesAscending.length-1):(this.ratingIndex+1)/this.survey.ratingValuesAscending.length:-1},n}(),ho=function(){function n(){this.showPrompt=!0;this.showEmailRequest=!0;this.comment=""}return n.prototype.getCVSurveyFormId=function(){return"Form ID"},n.prototype.getLauncherType=function(){return"Launcher Type"},n.prototype.getPromptQuestion=function(){return"Prompt question?"},n.prototype.getTitle=function(){return"Title"},n.prototype.getPromptYesButtonText=function(){return"Yes"},n.prototype.getPromptNoButtonText=function(){return"No"},n.prototype.getRatingValuesAscending=function(){return["worst","worse","ok","better","best"]},n.prototype.getRatingQuestion=function(){return"Rating question?"},n.prototype.getCommentQuestion=function(){return"Comment question?"},n.prototype.getInterceptTitle=function(){return"Intercept Title"},n.prototype.getInterceptQuestion=function(){return"Intercept question?"},n.prototype.getInterceptUrl=function(){return"https://example.com"},n.prototype.setValues=function(n,t){t&&(this.comment=t);w.k(n)&&n>=0&&n<=4&&(this.rating=n/4)},n.prototype.getJsonElements=function(){var n={};return this.comment&&(n.comment=this.comment),this.rating&&(n.rating=this.rating),n},n.prototype.getSurveyType=function(){return p.ISurvey.Type.Nps},n.prototype.getCampaignId=function(){return"10000000-0000-0000-0000-000000000000"},n.prototype.getId=function(){return"00000000-0000-0000-0000-000000000000"},n.prototype.getGoverenedChannelType=function(){return pt.GovernedChannelType.Standard},n.prototype.getPreGeneratedClientFeedbackId=function(){return"00000000-0000-0000-0000-000000000000"},n}(),co=function(){function n(){}return n.prototype.log_TriggerMet=function(n,t,i,r,u){f.b().logEvent(f.a.SURVEY_FLOODGATE_TRIGGERMET,1,{CampaignId:n,SurveyId:t,SurveyType:i,SurveyActivityInfo:r,AdditionalSurveyInfo:u})},n.prototype.log_UserSelected=function(n,t,i,r){f.b().logEvent(f.a.SURVEY_FLOODGATE_USERSELECTED,1,{CampaignId:n,SurveyId:t,SurveyType:i,AdditionalSurveyInfo:r})},n.prototype.log_CampaignLoad_Failed=function(n){f.b().logEvent(f.a.SURVEY_FLOODGATE_CAMPAIGNLOAD_FAILED,2,{ErrorMessage:n})},n.prototype.log_Error=function(n,t){var i={name:n};f.b().logEvent(i,2,{ErrorMessage:t})},n.prototype.log_Event=function(n,t,i){var r={name:n};f.b().logEvent(r,1,t,i)},n.prototype.log_LocalError=function(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];this.log_Local(2,n,i)},n.prototype.log_Local=function(n){for(var i=[],t=2;t<arguments.length;t++)i[t-2]=arguments[t];f.b().logLocal(n,i)},n}(),lt=!1;tr=function(n,t,i,r){var e=!!u.get().getFloodgateSurvey(),f;(!e&&i.stylesUrl&&Object(rr.b)(i.stylesUrl),i.customerVoiceFormId)?Object(rf.renderCVSurvey)(n,t,i,r,e):(f=o.FloodgateEngine.getTelemetryLogger(),f&&f.log_Event(yt.TelemetryEvent.Floodgate.RenderSurvey.Unsupported,{ErrorMessage:"WARN: renderSurvey currently only supports Customer Voice surveys."}))};y.f({renderSurvey:tr,handleSurveyEvent:hf});y.k(hi);y.j(af);y.i(vf);y.h(lf);y.c(yf)},function(n,t,i){"use strict";function cr(n){var u=document.getElementById(r.d.MainContainer).querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']), select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex ='-1']), object, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]"),t,i;if(n.id===r.d.LastTabbable){for(t=0;t<u.length;t++)if((i=u[t]).id!==r.d.FirstTabbable&&at(i))return void i.focus()}else if(n.id===r.d.FirstTabbable)for(t=u.length-1;t>=0;t--)if((i=u[t]).id!==r.d.LastTabbable&&at(i))return void i.focus()}function at(n){if(!n.parentElement)return!1;if(/\S/.test(n.parentElement.id)){if(n.parentElement.className.indexOf(r.c.Visible)>=0)return!0;if(n.parentElement.className.indexOf(r.c.Hidden)>=0)return!1}return at(n.parentElement)}function st(n){for(var t=0;t<ot.length;t++)ot[t]===n?u.k(ot[t],r.a.AriaSelected,r.b.True):u.k(ot[t],r.a.AriaSelected,r.b.False)}function p(){u.i(window,"keyup",fi),function(){for(var t,n=0,i=ht;n<i.length;n++)t=i[n],u.m(t.id,t.event,t.listener);ht=[]}();ii(e.get().getFeedbackSubmitted());e.get().setFeedbackSubmitted(!1)}function o(n,t,i){u.g(n,t,i);ht.push({event:t,id:n,listener:i})}function ui(n){ii=n;u.c(window,"keyup",fi);o(r.d.OverlayBackground,"click",ar);o(r.d.MainContainer,"click",vr);o(r.d.MainContainer,"keyup",lr);o(r.d.PrivacyStatementLink,"click",yr);o(r.d.EmailCheckBox,"click",ai);o(r.d.BasicFormComment,"keyup",gr);o(r.d.SingleFormComment,"keyup",nu);ai(null)}function lr(n){(n.keyCode||n.which)===r.e.Tab&&(document.activeElement.id===r.d.FirstTabbable&&n.shiftKey||document.activeElement.id===r.d.LastTabbable&&!n.shiftKey)&&(n.stopPropagation(),cr(document.activeElement))}function fi(n){n.keyCode===r.e.Esc&&(n.preventDefault(),n.stopPropagation(),p())}function ar(n){n.preventDefault();n.stopPropagation();p()}function vr(n){n.stopPropagation()}function yr(n){n.stopPropagation()}function it(n,t){var i,f;if((n.preventDefault(),n.stopPropagation(),u.j(r.d.OverallSmileAnchor,r.c.OverallAnchorActive),u.j(r.d.OverallFrownAnchor,r.c.OverallAnchorActive),u.j(r.d.OverallIdeaAnchor,r.c.OverallAnchorActive),u.j(r.d.OverallBugAnchor,r.c.OverallAnchorActive),t&&u.b(t,r.c.OverallAnchorActive),c.b().logEvent(c.a.InApp.UI.Form.Shown.VALUE,1,{FeedbackType:l,PanelType:a}),void 0!==l)&&(u.l(r.d.LeftFormContainer,!0),u.l(r.d.MiddleFormContainer,!0),u.l(r.d.LeftPanelContainer,!1),i=tt[l],oi(i.containerId),vt&&oi(i.containerId),i.onSelect(l)),void 0!==a){for(f in u.l(r.d.LeftFormContainer,!1),u.l(r.d.MiddleFormContainer,!1),u.l(r.d.LeftPanelContainer,!0),d)d.hasOwnProperty(f)&&u.l(d[f].containerId,!0);d[a].onSelect(a)}}function pr(n){l=s.b.Smile;a=void 0;st(r.d.OverallSmileAnchor);u.k(r.d.MiddleFormContainer,r.a.AriaExpanded,r.b.True);u.k(r.d.MiddleFormContainer,r.a.AriaLabelledBy,r.d.OverallSmileAnchor);it(n,r.d.OverallSmileAnchor)}function wr(n){l=s.b.Frown;a=void 0;st(r.d.OverallFrownAnchor);u.k(r.d.MiddleFormContainer,r.a.AriaExpanded,r.b.True);u.k(r.d.MiddleFormContainer,r.a.AriaLabelledBy,r.d.OverallFrownAnchor);it(n,r.d.OverallFrownAnchor)}function br(n){l=s.b.Idea;a=void 0;st(r.d.OverallIdeaAnchor);u.k(r.d.MiddleFormContainer,r.a.AriaExpanded,r.b.True);u.k(r.d.MiddleFormContainer,r.a.AriaLabelledBy,r.d.OverallIdeaAnchor);it(n,r.d.OverallIdeaAnchor)}function kr(n){l=s.b.Bug;a=void 0;st(r.d.OverallBugAnchor);u.k(r.d.MiddleFormContainer,r.a.AriaExpanded,r.b.True);u.k(r.d.MiddleFormContainer,r.a.AriaLabelledBy,r.d.OverallBugAnchor);it(n,r.d.OverallBugAnchor)}function ei(n,t){u.l(r.d.LeftFormContainer,t);for(var f=document.getElementById(r.d.MiddleFormContainer).children,i=0;i<f.length;i++)f[i].id!==n&&u.l(f[i].id,t)}function oi(n){for(var t in tt)tt.hasOwnProperty(t)&&u.l(tt[t].containerId,!1);ri?(u.l(r.d.LeftFormContainer,!1),u.l(r.d.MiddleFormContainer,!0),u.l(n,!0)):(u.b(r.d.ColumnSeparatorDiv,r.c.ShowRightBorder),u.l(r.d.MiddleFormContainer,!0),u.l(n,!0),u.b(r.d.LeftFormContainer,r.c.SlideLeft),u.b(r.d.MiddleFormContainer,r.c.SlideLeft))}function si(n,t,i,f,o,s,h){return function(s){var k;s.preventDefault();s.stopPropagation();u.l(n,!1);var rt=new hr.a(t),v=new or.a(e.get().getCommonInitOptions().environment,"Sas",e.get().getCommonInitOptions().appId,l,e.get().getCommonInitOptions().applicationGroup,e.get().getCommonInitOptions().telemetryGroup,e.get().getCommonInitOptions().webGroup),y=document.getElementById(i);y&&!!y.value&&v.setComment(y.value);var d=document.getElementById(r.d.EmailCheckBox),w=document.getElementById(f),g=w&&!!w.value;d&&d.checked&&g&&v.setEmail(w.value);var nt=document.getElementById(o),tt=nt&&nt.checked,b=document.getElementById(h);(b&&b.selectedIndex>0&&v.setCategory(b.value),c.b().logEvent(c.a.InApp.UI.Form.Submit.VALUE,1,{FeedbackType:l,IsEmailIncluded:g,IsScreenshotIncluded:tt}),tt)?(k=performance.now(),sr.a(document.body).then(function(n){var t=performance.now();c.b().logEvent(c.a.Shared.Screenshot.Render.Success.VALUE,1,{TimeMilliseconds:t-k});v.setScreenshot(n);v.submit()}).catch(function(n){var t=performance.now();c.b().logEvent(c.a.Shared.Screenshot.Render.Failed.VALUE,2,{ErrorMessage:n,TimeMilliseconds:t-k});v.submit()})):v.submit();rt.destroy();e.get().setFeedbackSubmitted(!0);e.get().getInAppFeedbackInitOptions().isShowThanks?function(n){l=void 0;a=0;ei(r.d.ThanksPanelContainer,!1);it(n,void 0)}(s):p()}}function hi(){ei(r.d.ThanksPanelContainer,!0);p()}function dr(n){n.preventDefault();n.stopPropagation();window.open(e.get().getInAppFeedbackInitOptions().feedbackForumUrl);p()}function ci(n,t){return function(){u.a(n,t)}}function li(){p()}function ai(){var t=document.getElementById(r.d.EmailCheckBox),n;t&&(n=document.getElementById(r.d.SingleFormEmailInput),n||(n=document.getElementById(r.d.BasicFormEmailInput)),n.value=t.checked?e.get().getCommonInitOptions().userEmail:null,n.disabled=!t.checked)}function gr(){var n=document.getElementById(r.d.BasicFormComment),t=n&&!!n.value;document.getElementById(r.d.BasicFormSubmitButton).disabled=!t}function nu(){var n=document.getElementById(r.d.SingleFormComment),t=n&&!!n.value;document.getElementById(r.d.SingleFormSubmitButton).disabled=!t}function vi(n){for(var e,o=n||[],i=[{attributes:[{name:"selected",value:"true"}],innerText:f.a().Form.CategoryPlaceholder,tag:r.h.Option}],t=0,u=o;t<u.length;t++)e=u[t],i.push({innerText:e,tag:r.h.Option});return i}function pi(n){return{children:[tu,{attributes:[{name:r.a.Type,value:"radio"},{name:r.a.Name,value:n},{name:r.a.Value,value:"1"}],tag:r.h.Input},iu,{attributes:[{name:r.a.Type,value:"radio"},{name:r.a.Name,value:n},{name:r.a.Value,value:"2"}],tag:r.h.Input},ru,{attributes:[{name:r.a.Type,value:"radio"},{name:r.a.Name,value:n},{name:r.a.Value,value:"3"}],tag:r.h.Input},uu,{attributes:[{name:r.a.Type,value:"radio"},{name:r.a.Name,value:n},{name:r.a.Value,value:"4"}],tag:r.h.Input},fu,{attributes:[{name:r.a.Type,value:"radio"},{name:r.a.Name,value:n},{name:r.a.Value,value:"5"}],tag:r.h.Input},eu],classes:[r.c.Rating],id:n,tag:r.h.Span}}function ou(){var n=e.get().getInAppFeedbackLaunchOptions().categories;return{children:[{attributes:[{name:r.a.For,value:r.d.BasicFormComment}],classes:[r.c.FontSubtitle,r.c.TextAlignLeft,r.c.FormQuestionMiddleText],id:r.d.BasicFormQuestionMiddleText,tag:r.h.Label,innerText:e.get().getInAppFeedbackInitOptions().transitionEnabled?"":f.a().FeedbackSubtitle},{attributes:[{name:r.a.Id,value:r.d.BasicFormCategoriesDropdown},{name:r.a.AriaLabel,value:f.a().Form.CategoryPlaceholder}],brs:n.show,children:vi(n?n.customCategories:null),classes:[r.c.FontSubText,r.c.FormCategoriesDropdown,r.c.TextInput],tag:r.h.Select},{attributes:[{name:r.a.Placeholder,value:f.a().Form.CommentPlaceholder},{name:r.a.MaxLength,value:r.b.TextAreaMaxLength}],classes:[r.c.FontSubText,r.c.FormComment,r.c.TextInput],id:r.d.BasicFormComment,tag:r.h.TextArea},{brs:!1,children:[{attributes:[{name:r.a.For,value:r.d.BasicFormRating}],classes:[r.c.FontText,r.c.TextAlignLeft,r.c.FormRatingLabel],innerText:f.a().Form.RatingLabel,tag:r.h.Label},pi(r.d.BasicFormRating)],classes:[r.c.FormRatingContainer]},{brs:wt(),children:[{attributes:[{name:r.a.Type,value:r.b.Checkbox},{name:r.b.Unchecked,value:""}],classes:[r.c.FormEmailCheckBox,r.c.CheckBox],id:r.d.EmailCheckBox,tag:r.h.Input},{attributes:[{name:r.a.For,value:r.d.EmailCheckBox}],classes:[r.c.FontSubText,r.c.TextAlignLeft,r.c.FormEmailLabel],innerText:f.a().Form.EmailCheckBoxLabel,tag:r.h.Label},{attributes:[{name:r.a.Type,value:r.b.Text},{name:r.a.Placeholder,value:f.a().Form.EmailPlaceholder},{name:r.a.AriaLabel,value:f.a().Form.EmailPlaceholder},{name:r.a.Name,value:r.d.BasicFormEmailInput},{name:r.a.MaxLength,value:r.b.TextAreaMaxLength},{name:r.a.Value,value:e.get().getInAppFeedbackInitOptions().userEmail?e.get().getInAppFeedbackInitOptions().userEmail:""}],classes:[r.c.FontSubText,r.c.FormEmailInput,r.c.TextInput],id:r.d.BasicFormEmailInput,tag:r.h.Input}],classes:[r.c.FormEmailContainer]},{children:[{attributes:[{name:r.a.Type,value:r.b.Checkbox},{name:r.a.Value,value:r.b.Unchecked}],brs:ft(),classes:[r.c.FormScreenshotCheckbox,r.c.CheckBox],id:r.d.BasicFormScreenshotCheckbox,tag:r.h.Input},{attributes:[{name:r.a.For,value:r.d.BasicFormScreenshotCheckbox}],brs:ft(),classes:[r.c.FontSubText,r.c.TextAlignLeft,r.c.FormScreenshotLabel],innerText:f.a().Form.ScreenshotLabel,tag:r.h.Label},{attributes:[{name:r.a.Preview,value:r.b.ScreenshotPreview},{name:r.a.Alt,value:f.a().Form.ScreenshotImgAltText}],brs:e.get().getInAppFeedbackInitOptions().screenshot,id:r.d.BasicFormScreenshotPreview,classes:[r.c.FormScreenshotPreview],tag:r.h.Img}],classes:[r.c.FormScreenshotContainer]},{children:[{classes:[r.c.FontSubSubText,r.c.TextAlignLeft],innerText:f.a().Form.PrivacyLabel,tag:r.h.Label},{classes:[r.c.FontSubSubText,r.c.TextAlignLeft],innerText:e.get().getCommonInitOptions().isCommercialHost?f.a().Form.PrivacyConsent+" ":"",tag:r.h.Label},{attributes:[{name:r.a.HRef,value:e.get().getCommonInitOptions().privacyUrl},{name:r.a.Target,value:r.b.BlankWindow},{name:r.a.Rel,value:r.b.NoReferrer}],classes:[r.c.Link],id:r.d.PrivacyStatementLink,innerText:f.a().PrivacyStatement,tag:r.h.Anchor}],classes:[r.c.FontSubSubText,r.c.TextAlignLeft,r.c.PrivacyStatementLinkDiv]},{children:[{attributes:[{name:r.a.Type,value:r.b.Button},{name:r.a.AriaLabel,value:f.a().Form.Cancel}],classes:[r.c.CancelButton],id:r.d.BasicFormCancelButton,innerText:f.a().Form.Cancel,tag:r.h.Button},{attributes:[{name:r.a.Disabled,value:r.b.True}],classes:[r.c.SubmitButton],id:r.d.BasicFormSubmitButton,innerText:f.a().Form.Submit,tag:r.h.Button},{classes:[r.c.Spinner,r.c.Hidden],id:r.d.BasicFormSubmitButtonSpinner,tag:r.h.Div}],classes:[r.c.FormSubmitButtonContainer]}],classes:[e.get().getInAppFeedbackInitOptions().transitionEnabled?r.c.Hidden:r.c.Visible,r.c.MarginLeft60px],id:pt}}function su(n){switch(n){case s.b.Smile:document.getElementById(r.d.BasicFormQuestionMiddleText).textContent=f.a().SmileForm.Title;break;case s.b.Frown:document.getElementById(r.d.BasicFormQuestionMiddleText).textContent=f.a().FrownForm.Title;break;case s.b.Idea:document.getElementById(r.d.BasicFormQuestionMiddleText).textContent=f.a().IdeaForm.Title;break;case s.b.Bug:document.getElementById(r.d.BasicFormQuestionMiddleText).textContent=f.a().BugForm.Title}document.getElementById(r.d.BasicFormComment).focus()}function wt(){return!!e.get().getInAppFeedbackInitOptions().showEmailAddress&&(!e.get().getCommonInitOptions().isCommercialHost||1===e.get().getCommonInitOptions().emailPolicyValue)}function ft(){return!!e.get().getInAppFeedbackInitOptions().screenshot&&(!e.get().getCommonInitOptions().isCommercialHost||1===e.get().getCommonInitOptions().screenshotPolicyValue)}function hu(n){var i={children:[]},r={};for(var t in n)n.hasOwnProperty(t)&&(n[t].containerId in r||(i.children.push(n[t].generate()),r[n[t].containerId]=!0));return i.children}function ki(n){var i={children:[]},r={};for(var t in n)n.hasOwnProperty(t)&&(n[t].containerId in r||(i.children.push(n[t].generate()),r[n[t].containerId]=!0));return i.children}function cu(n){var t={children:[]};return s.b.Smile in n&&t.children.push(et(r.d.OverallSmileAnchor,r.d.OverallSmileImage,'<svg viewBox="0 0 72 72" width="24px" height="24px" focusable="false"><path d="M36 1C16.7 1 1 16.7 1 36s15.7 35 35 35c19.3 0 35-15.7 35-35S55.3 1 36 1ZM49.3 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C45.1 21 47 18.3 49.3 18.3ZM22.9 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C18.7 21 20.6 18.3 22.9 18.3ZM36 58.6c-8.5 0-16-4.1-20.9-10.4l3.5-3.6c3.5 4.5 9.9 7.6 17.4 7.6 7.4 0 13.9-3.1 17.4-7.6l3.6 3.6C52.1 54.4 44.4 58.6 36 58.6Z"/><\/svg>',r.d.OverallSmileText,f.a().SmileForm.Anchor)),s.b.Frown in n&&t.children.push(et(r.d.OverallFrownAnchor,r.d.OverallFrownImage,'<svg viewBox="0 0 72 72" width="24px" height="24px" focusable="false"><path d="M36 1C16.7 1 1 16.7 1 36s15.7 35 35 35c19.3 0 35-15.7 35-35S55.3 1 36 1ZM49.3 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C45.1 21 47 18.3 49.3 18.3ZM22.9 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C18.7 21 20.6 18.3 22.9 18.3ZM52.8 57.9c-3.3-4.4-9.6-7.3-16.7-7.3 -7.2 0-13.4 3-16.7 7.3l-3.4-3.4c4.7-6.1 11.9-10 20.1-10 8.2 0 15.5 4 20.2 10L52.8 57.9Z"/><\/svg>',r.d.OverallFrownText,f.a().FrownForm.Anchor)),s.b.IdeaRedirect in n&&t.children.push(et(r.d.OverallFeedbackPortalIdeaAnchor,r.d.OverallIdeaImage,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" focusable="false" viewBox="0,0,2048,2048"><path fill="#FAFAFA" fill-opacity="1.000" d="M 213 1920 v -546 l 275 -649 h 1072 l 275 649 v 546 z" /><path fill="#3A3A38" fill-opacity="1.000" d="M 1877 1365 v 598 h -1706 v -598 l 289 -682 h 288 l -41 41 l 44 44 h -239 l -248 597 h 1520 l -221 -532 l 63 -62 m 166 680 h -1536 v 426 h 1536 z" /><path fill="#FAFAFA" fill-opacity="1.000" d="M 1049 1067 l -342 -343 l 664 -664 l 482 483 l -523 524 z" /><path fill="#797774" fill-opacity="1.000" d="M 1536 649 l -271 -272 l 60 -60 l 272 271 m -211 212 l -272 -272 l 60 -60 l 272 271 m -211 211 l -272 -271 l 61 -61 l 271 272 z" /><path fill="#1E8BCD" fill-opacity="1.000" d="M 989 1067 l -343 -343 l 725 -724 l 543 543 l -524 524 h -121 l 524 -524 l -422 -422 l -604 603 l 343 343 z" /><path fill="#3A3A38" fill-opacity="1.000" d="M 1451 1109 h -854 v -85 h 854 z" /><\/svg>',r.d.OverallIdeaText,f.a().IdeaForm.Anchor)),s.b.Idea in n&&t.children.push(et(r.d.OverallIdeaAnchor,r.d.OverallIdeaImage,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" focusable="false" viewBox="0,0,2048,2048"><path fill="#FAFAFA" fill-opacity="1.000" d="M 213 1920 v -546 l 275 -649 h 1072 l 275 649 v 546 z" /><path fill="#3A3A38" fill-opacity="1.000" d="M 1877 1365 v 598 h -1706 v -598 l 289 -682 h 288 l -41 41 l 44 44 h -239 l -248 597 h 1520 l -221 -532 l 63 -62 m 166 680 h -1536 v 426 h 1536 z" /><path fill="#FAFAFA" fill-opacity="1.000" d="M 1049 1067 l -342 -343 l 664 -664 l 482 483 l -523 524 z" /><path fill="#797774" fill-opacity="1.000" d="M 1536 649 l -271 -272 l 60 -60 l 272 271 m -211 212 l -272 -272 l 60 -60 l 272 271 m -211 211 l -272 -271 l 61 -61 l 271 272 z" /><path fill="#1E8BCD" fill-opacity="1.000" d="M 989 1067 l -343 -343 l 725 -724 l 543 543 l -524 524 h -121 l 524 -524 l -422 -422 l -604 603 l 343 343 z" /><path fill="#3A3A38" fill-opacity="1.000" d="M 1451 1109 h -854 v -85 h 854 z" /><\/svg>',r.d.OverallIdeaText,f.a().IdeaForm.Anchor)),s.b.Bug in n&&t.children.push(et(r.d.OverallBugAnchor,r.d.OverallBugImage,'<svg viewBox="150 100 1748 1748" width="24px" height="24px" focusable="false"><path d="M1824 1088q0 26-19 45t-45 19h-224q0 171-67 290l208 209q19 19 19 45t-19 45q-18 19-45 19t-45-19l-198-197q-5 5-15 13t-42 28.5-65 36.5-82 29-97 13v-896h-128v896q-51 0-101.5-13.5t-87-33-66-39-43.5-32.5l-15-14-183 207q-20 21-48 21-24 0-43-16-19-18-20.5-44.5t15.5-46.5l202-227q-58-114-58-274h-224q-26 0-45-19t-19-45 19-45 45-19h224v-294l-173-173q-19-19-19-45t19-45 45-19 45 19l173 173h844l173-173q19-19 45-19t45 19 19 45-19 45l-173 173v294h224q26 0 45 19t19 45zm-480-576h-640q0-133 93.5-226.5t226.5-93.5 226.5 93.5 93.5 226.5z"/><\/svg>',r.d.OverallBugText,f.a().BugForm.Anchor)),t.children}function et(n,t,i,u,f){return{attributes:[{name:r.a.Type,value:r.b.Button},{name:r.a.Role,value:r.b.Tab},{name:r.a.AriaLabel,value:f},{name:r.a.AriaSelected,value:r.b.False}],children:[{classes:[r.c.OverallImage],id:t,innerHTML:i,tag:r.h.Div},{classes:[r.c.FontSubtitle,r.c.OverallText],id:u,innerText:f}],classes:[r.c.OverallAnchor,r.c.TextAlignLeft],id:n,tag:r.h.Button}}function di(n,t){return'<a target="_blank" rel="noopener noreferrer" href="'+n+'">'+t+"<\/a>"}function lu(){var t,i,r,u,o,n=(null===(t=f.a().ThanksPanel)||void 0===t?void 0:t.AppreciateText)+"<br><br>";return(e.get().getCommonInitOptions().ageGroup===kt.a.Undefined||e.get().getCommonInitOptions().ageGroup===kt.a.Adult)&&(e.get().getInAppFeedbackInitOptions().myFeedbackForumUrl&&(n=n+" "+((null===(i=f.a().ThanksPanel)||void 0===i?void 0:i.MyFeedbackDescription)+"\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t"+di(e.get().getInAppFeedbackInitOptions().myFeedbackForumUrl,null===(r=f.a().ThanksPanel)||void 0===r?void 0:r.MyFeedbackLinkText)+"\n\t\t\t\t\t\t\t\t<br><br>")),e.get().getInAppFeedbackInitOptions().feedbackForumUrl&&(n=n+" "+((null===(u=f.a().ThanksPanel)||void 0===u?void 0:u.FeedbackPortalDescription)+"\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t"+di(e.get().getInAppFeedbackInitOptions().feedbackForumUrl,null===(o=f.a().ThanksPanel)||void 0===o?void 0:o.FeedbackPortalLinkText)+"\n\t\t\t\t\t\t\t\t<br><br>"))),n}function au(){var n,t,i,u,o,s,h=e.get().getCommonInitOptions().primaryColour;return{children:[{tag:r.h.Div,id:r.d.ThanksPanelInnerContainer,children:[{innerHTML:"<br>",tag:r.h.Div},{id:r.d.ThanksPanelDiscussion,innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30.4 25.3"\n\trole="presentation" alt="" tabindex="-1" focusable="false">\n\t<defs>\n\t\t<style>\n\t\t\t.cls-1,.cls-3{isolation:isolate;}\n\t\t\t.cls-2{fill:#e1dfdd;}\n\t\t\t.cls-3{fill:'+h+';opacity:0.4;}\n\t\t\t.cls-4{fill:#c8c6c4;mix-blend-mode:multiply;}\n\t\t\t.cls-5{fill:#fff;}<\/style>\n\t<\/defs>\n\t<title>commentsOffice<\/title>\n\t<g class="cls-1">\n\t\t<g id="Layer_1" data-name="Layer 1">\n\t\t\t<path class="cls-2" d="M17.8,0H1.2A1.216,1.216,0,0,0,0,1.2V15.3a1.1554,1.1554,0,0,0,1.2,1.2H7l.1,\n\t\t\t\t4.1L10,16.5h7.9a1.1554,1.1554,0,0,0,1.2-1.2V1.2A1.305,1.305,0,0,0,17.8,0Z"/>\n\t\t\t<path class="cls-3" d="M28.5,10.8a6.0429,6.0429,0,0,0-3.2-2,7.1943,7.1943,0,0,0-6.4,1,7.4884,\n\t\t\t\t7.4884,0,0,0-3.1,5.7,6.016,6.016,0,0,0,.9,3.7,6.9394,6.9394,0,0,0,5,3.7l2.9,2.4L24.4,23a7.8372,\n\t\t\t\t7.8372,0,0,0,3-1.3,7.4574,7.4574,0,0,0,3-4.7A7.5076,7.5076,0,0,0,28.5,10.8Z"/>\n\t\t\t<path id="Layer2_1_MEMBER_1_FILL" data-name="Layer2 1 MEMBER 1 FILL" class="cls-4" d="M11.9885,\n\t\t\t\t8.0154a.8939.8939,0,1,0,.6371-.2589.8653.8653,0,0,0-.6371.2589M6.8115,9.24A.8977.8977,0,1,0,\n\t\t\t\t5.5532,7.9589.8977.8977,0,1,0,6.8115,9.24m3.2259-1.2412a.894.894,0,1,0,.2588.637A.8653.8653,\n\t\t\t\t0,0,0,10.0374,7.9983Z"/>\n\t\t\t<path class="cls-5" d="M20.9019,16.3243a.8008.8008,0,0,0,.2586-.5659.8371.8371,0,0,\n\t\t\t\t0-.21-.5919.7693.7693,0,0,0-1.1091-.05.8379.8379,0,0,0-.2627.5706.8012.8012,0,0,0,\n\t\t\t\t.2066.5869.77.77,0,0,0,1.1167.05m1.51-.51a.8014.8014,0,0,0,.2066.5874.7695.7695,0,0,0,\n\t\t\t\t1.1127.0541.8379.8379,0,0,0,.2627-.57.8009.8009,0,0,0-.2066-.5869.7694.7694,0,0,\n\t\t\t\t0-1.1167-.05.8011.8011,0,0,0-.2587.5663m2.8279.1272a.8371.8371,0,0,0,.21.5919.7693.7693,0,0,\n\t\t\t\t0,1.1091.05.8379.8379,0,0,0,.2627-.5706.8012.8012,0,0,0-.2066-.5869.77.77,0,0,\n\t\t\t\t0-1.1167-.05A.8008.8008,0,0,0,25.24,15.9416Z"/>\n\t\t<\/g>\n\t<\/g>\n<\/svg>',tag:r.h.Div},{id:r.d.ThanksPanelVerticalContainer,tag:r.h.Div,children:[{classes:[r.c.FontTitle,r.c.TextAlignLeft,r.c.FormQuestionMiddleText,r.c.ThanksPanelTitle],innerText:null===(n=f.a().ThanksPanel)||void 0===n?void 0:n.Title,tag:r.h.Div},{classes:[r.c.FontSubText,r.c.TextAlignLeft,r.c.ThanksPanelMessage],innerHTML:lu(),tag:r.h.Div,id:r.d.ThanksPanelParagraph},{classes:[r.c.SubmitButton],id:r.d.ThanksPanelCloseButton,innerText:null===(t=f.a().ThanksPanel)||void 0===t?void 0:t.Close,ariaLabel:null===(i=f.a().ThanksPanel)||void 0===i?void 0:i.Close,tag:r.h.Button,role:r.g.Button,attributes:[{name:"aria-label",value:(null===(u=f.a().ThanksPanel)||void 0===u?void 0:u.Title)+" "+(null===(o=f.a().ThanksPanel)||void 0===o?void 0:o.AppreciateText)+" "+(null===(s=f.a().ThanksPanel)||void 0===s?void 0:s.Close)},{name:"type",value:"button"}]}]},{innerHTML:"<br>",tag:r.h.Div}]}],classes:[r.c.Hidden],id:dt}}function vu(n){0===n&&document.getElementById(r.d.ThanksPanelCloseButton).focus()}function yu(){}function pu(){}function wu(n){var i={},t,a,c,l;e.get().getInAppFeedbackInitOptions().isShowThanks&&(i[0]=y);t={};a=e.get().getInAppFeedbackInitOptions().transitionEnabled;t[s.b.Smile]=h;t[s.b.Frown]=h;void 0!==e.get().getInAppFeedbackInitOptions().feedbackForumUrl?t[s.b.IdeaRedirect]=b:t[s.b.Idea]=h;e.get().getInAppFeedbackInitOptions().bugForm&&(t[s.b.Bug]=h);ir(bt.a(function(n,t){return{attributes:[{name:r.a.DataHtml2CanvasIgnore,value:r.b.True}],children:[{attributes:[{name:r.a.Role,value:r.b.Dialog},{name:r.a.AriaModal,value:r.b.True}],children:[{attributes:[{name:r.a.Role,value:r.b.TabList},{name:r.a.AriaDescribedBy,value:r.d.QuestionLeftText},{name:r.a.AriaLabel,value:f.a().FeedbackSubtitle},{name:r.a.AriaOrientation,value:r.b.AriaOrientationValueVertical}],children:[{attributes:[{name:r.a.TabIndex,value:r.b.Zero}],id:r.d.FirstTabbable},{attributes:[{name:r.a.Type,value:r.b.Button},{name:r.a.AriaLabel,value:f.a().CloseLabel}],id:r.d.CloseButton,classes:[r.c.CloseButton],innerHTML:'<svg viewBox="4 4 16 16" width="16px" height="16px" focusable="false"><path d="M19,6.41L17.59,5 12,10.59 6.41,5 5,6.41 10.59,12 5,17.59 6.41,19 12,13.41 17.59,19 19,17.59 13.41,12z"/><\/svg>',tag:r.h.Button},{children:[{classes:[r.c.FormWideContainer,r.c.Hidden],children:ki(t),id:r.d.LeftPanelContainer,tag:r.h.Div},{children:[{classes:[r.c.FontSubtitle,r.c.TextAlignLeft],id:r.d.QuestionLeftText,innerText:f.a().FeedbackSubtitle},{children:[{children:cu(n),id:r.d.OverallAnchorsContainer}],id:r.d.ColumnSeparatorDiv}],classes:[r.c.FormContainer],id:r.d.LeftFormContainer},{children:hu(n),classes:[r.c.FormContainer,e.get().getInAppFeedbackInitOptions().transitionEnabled?r.c.Hidden:r.c.Visible],attributes:[{name:r.a.Role,value:r.b.TabPanel},{name:r.a.AriaExpanded,value:r.b.False}],id:r.d.MiddleFormContainer}],classes:[r.c.Hidden],id:r.d.MainContentHolder,tag:r.h.Form},{attributes:[{name:r.a.TabIndex,value:r.b.Zero}],id:r.d.LastTabbable}],id:r.d.MainContainer}],classes:[u.f()?r.c.Rtl:""],id:r.d.OverlayBackground}]}}(t,i)));l=!window.innerWidth||window.innerWidth<800;void 0===(c=function(t){u.l(r.d.OverlayBackground,!1);u.d(r.d.OverlayBackground);e.get().getInAppFeedbackInitOptions().onDismiss(t);n()})&&(c=function(){});ri=l;tt=t;d=i;vt=a;o(r.d.OverallSmileAnchor,"click",pr);o(r.d.OverallFrownAnchor,"click",wr);o(r.d.OverallIdeaAnchor,"click",br);o(r.d.OverallBugAnchor,"click",kr);o(r.d.CloseButton,"click",function(){p()});o(r.d.BasicFormSubmitButton,"click",si(r.d.BasicFormSubmitButton,r.d.BasicFormSubmitButtonSpinner,r.d.BasicFormComment,r.d.BasicFormEmailInput,r.d.BasicFormScreenshotCheckbox,r.d.BasicFormScreenshotPreview,r.d.BasicFormCategoriesDropdown));o(r.d.BasicFormScreenshotCheckbox,"click",ci(r.d.BasicFormScreenshotCheckbox,r.d.BasicFormScreenshotPreview));o(r.d.OverallFeedbackPortalIdeaAnchor,"click",dr);o(r.d.ThanksPanelCloseButton,"click",function(){return hi()});o(r.d.BasicFormCancelButton,"click",li);ui(c);vt||(u.b(r.d.MainContentHolder,r.c.MarginLeft180px),u.b(r.d.ColumnSeparatorDiv,r.c.ShowRightBorder));l&&u.b(r.d.OverlayBackground,r.c.NarrowLayout)}function bu(n,t){var i={};e.get().getInAppFeedbackInitOptions().isShowThanks&&(i[0]=y);ir(bt.a(function(n){var t;return{attributes:[{name:r.a.DataHtml2CanvasIgnore,value:r.b.True}],children:[{attributes:[{name:r.a.Role,value:r.b.Dialog},{name:r.a.AriaModal,value:r.b.True}],children:[{children:[{attributes:[{name:r.a.TabIndex,value:r.b.Zero}],id:r.d.FirstTabbable},{attributes:[{name:r.a.Type,value:r.b.Button},{name:r.a.AriaLabel,value:f.a().CloseLabel}],id:r.d.CloseButton,classes:[r.c.CloseButton],innerHTML:'<svg viewBox="4 4 16 16" width="16px" height="16px" focusable="false"><path d="M19,6.41L17.59,5 12,10.59 6.41,5 5,6.41 10.59,12 5,17.59 6.41,19 12,13.41 17.59,19 19,17.59 13.41,12z"/><\/svg>',tag:r.h.Button},{children:[{children:[(t=e.get().getInAppFeedbackLaunchOptions().categories,{children:[{attributes:[{name:r.a.For,value:r.d.SingleFormComment}],classes:[r.c.FontSubtitle,r.c.TextAlignLeft,r.c.FormQuestionMiddleText],id:r.d.SingleFormQuestionMiddleText,innerText:f.a().FeedbackSubtitle,tag:r.h.Label},{attributes:[{name:r.a.Id,value:r.d.SingleFormCategoriesDropdown}],brs:t.show,children:vi(t?t.customCategories:null),classes:[r.c.FontSubText,r.c.FormCategoriesDropdown,r.c.TextInput],tag:r.h.Select},{attributes:[{name:r.a.Placeholder,value:f.a().Form.CommentPlaceholder},{name:r.a.MaxLength,value:r.b.TextAreaMaxLength}],classes:[r.c.FontSubText,r.c.FormComment,r.c.TextInput],id:r.d.SingleFormComment,tag:r.h.TextArea},{brs:!1,children:[{attributes:[{name:r.a.For,value:r.d.SingleFormRating}],classes:[r.c.FontSubText,r.c.TextAlignLeft,r.c.FormRatingLabel],innerText:f.a().Form.RatingLabel,tag:r.h.Label},pi(r.d.SingleFormRating)],classes:[r.c.FormRatingContainer]},{brs:wt(),children:[{attributes:[{name:r.a.Type,value:r.b.Checkbox},{name:r.b.Unchecked,value:""}],classes:[r.c.FormEmailCheckBox,r.c.CheckBox],id:r.d.EmailCheckBox,tag:r.h.Input},{attributes:[{name:r.a.For,value:r.d.EmailCheckBox}],classes:[r.c.FontSubText,r.c.TextAlignLeft,r.c.FormEmailLabel],innerText:f.a().Form.EmailCheckBoxLabel,tag:r.h.Label},{attributes:[{name:r.a.Type,value:r.b.Text},{name:r.a.Placeholder,value:f.a().Form.EmailPlaceholder},{name:r.a.AriaLabel,value:f.a().Form.EmailPlaceholder},{name:r.a.Name,value:r.d.SingleFormEmailInput},{name:r.a.MaxLength,value:r.b.TextAreaMaxLength},{name:r.a.Value,value:e.get().getInAppFeedbackInitOptions().userEmail?e.get().getInAppFeedbackInitOptions().userEmail:""}],classes:[r.c.FontSubText,r.c.FormEmailInput,r.c.TextInput],id:r.d.SingleFormEmailInput,tag:r.h.Input}],classes:[r.c.FormEmailContainer]},{children:[{attributes:[{name:r.a.Type,value:r.b.Checkbox},{name:r.a.Value,value:r.b.Unchecked}],brs:ft(),classes:[r.c.FormScreenshotCheckbox,r.c.CheckBox],id:r.d.SingleFormScreenshotCheckbox,tag:r.h.Input},{attributes:[{name:r.a.For,value:r.d.SingleFormScreenshotCheckbox}],brs:ft(),classes:[r.c.FontText,r.c.TextAlignLeft,r.c.FormScreenshotLabel],innerText:f.a().Form.ScreenshotLabel,tag:r.h.Label},{attributes:[{name:r.a.Preview,value:r.b.ScreenshotPreview}],brs:e.get().getInAppFeedbackInitOptions().screenshot,id:r.d.SingleFormScreenshotPreview,classes:[r.c.FormScreenshotPreview],tag:r.h.Img}],classes:[r.c.FormScreenshotContainer]},{children:[{classes:[r.c.FontSubSubText,r.c.TextAlignLeft],innerText:f.a().Form.PrivacyLabel,tag:r.h.Label},{classes:[r.c.FontSubSubText,r.c.TextAlignLeft],innerText:e.get().getCommonInitOptions().isCommercialHost?f.a().Form.PrivacyConsent+" ":"",tag:r.h.Label},{attributes:[{name:r.a.HRef,value:e.get().getCommonInitOptions().privacyUrl},{name:r.a.Target,value:r.b.BlankWindow},{name:r.a.Rel,value:r.b.NoReferrer}],classes:[r.c.Link],id:r.d.PrivacyStatementLink,innerText:f.a().PrivacyStatement,tag:r.h.Anchor}],classes:[r.c.FontSubSubText,r.c.TextAlignLeft,r.c.PrivacyStatementLinkDiv]},{children:[{attributes:[{name:r.a.Type,value:r.b.Button},{name:r.a.AriaLabel,value:f.a().Form.Cancel}],classes:[r.c.CancelButton],id:r.d.SingleFormCancelButton,innerText:f.a().Form.Cancel,tag:r.h.Button},{attributes:[{name:r.a.Disabled,value:r.b.True}],classes:[r.c.SubmitButton],id:r.d.SingleFormSubmitButton,innerText:f.a().Form.Submit,tag:r.h.Button},{classes:[r.c.Spinner,r.c.Hidden],id:r.d.SingleFormSubmitButtonSpinner,tag:r.h.Div}],classes:[r.c.FormSubmitButtonContainer]}],id:bi})],classes:[r.c.FormContainer],id:r.d.MiddleFormContainer}].concat(ki(n)),classes:[r.c.Hidden],id:r.d.MainContentHolder,tag:r.h.Form},{attributes:[{name:r.a.TabIndex,value:r.b.Zero}],id:r.d.LastTabbable}],id:r.d.MainContainer}],classes:[r.c.SingleLayout,u.f()?r.c.Rtl:""],id:r.d.OverlayBackground}]}}(i))),function(n,t,i){void 0===i&&(i=function(){});l=n;d=t;o(r.d.SingleFormSubmitButton,"click",si(r.d.SingleFormSubmitButton,r.d.SingleFormSubmitButtonSpinner,r.d.SingleFormComment,r.d.SingleFormEmailInput,r.d.SingleFormScreenshotCheckbox,r.d.SingleFormScreenshotPreview,r.d.SingleFormCategoriesDropdown));o(r.d.SingleFormScreenshotCheckbox,"click",ci(r.d.SingleFormScreenshotCheckbox,r.d.SingleFormScreenshotPreview));o(r.d.CloseButton,"click",function(){p()});o(r.d.ThanksPanelCloseButton,"click",function(n){return hi(n)});o(r.d.SingleFormCancelButton,"click",li);ui(i)}(t,i,function(t){u.l(r.d.OverlayBackground,!1);u.d(r.d.OverlayBackground);e.get().getInAppFeedbackInitOptions().onDismiss(t);n()});u.b(r.d.OverlayBackground,r.c.SingleLayout);u.a(r.d.SingleFormScreenshotCheckbox,r.d.SingleFormScreenshotPreview)}function ir(n){document.body.insertBefore(n,document.body.firstChild);u.l(r.d.OverlayBackground,!0);u.e()>9||-1===u.e()?setTimeout(rr,900):rr()}function rr(){u.l(r.d.MainContentHolder,!0);document.getElementById(r.d.OverallSmileAnchor)?(document.getElementById(r.d.OverallSmileAnchor).focus(),u.a(r.d.BasicFormScreenshotCheckbox,r.d.BasicFormScreenshotPreview)):document.getElementById(r.d.SingleFormComment)&&(document.getElementById(r.d.SingleFormComment).focus(),u.a(r.d.SingleFormScreenshotCheckbox,r.d.SingleFormScreenshotPreview))}function gt(){return new Promise(function(n,t){if(lt)n();else{try{ni.a()}catch(n){t("CommonApp initialization failed: {"+n+"}")}ti.a().then(function(){e.get().setInAppFeedbackInitOptions(v.a().OfficeBrowserFeedback.initOptions);lt=!0;n()}).catch(function(n){t("Initialization failed: {"+n+"}")})}})}function ur(n){return new Promise(function(t,i){w?i("Control already open"):gt().then(function(){e.get().setInAppFeedbackLaunchOptions(n);wu(function(){w=!1});c.b().logEvent(c.a.InApp.UI.Picker.Shown.VALUE,1,{IsBugEnabled:e.get().getInAppFeedbackInitOptions().bugForm});w=!0;t()}).catch(function(n){i("Initialization failed: {"+n+"}")})})}function fr(n,t){return new Promise(function(i,r){if(w)r("Control already open");else{var u=e.validateFeedbackType(n);gt().then(function(){e.get().setInAppFeedbackLaunchOptions(t);bu(function(){w=!1},u);c.b().logEvent(c.a.InApp.UI.Form.Shown.VALUE,1,{FeedbackType:u});w=!0;i()}).catch(function(n){r("Initialization failed: {"+n+"}")})}})}function er(){return v.a().OfficeBrowserFeedback.initOptions.isCommercialHost&&2===v.a().OfficeBrowserFeedback.initOptions.sendFeedbackPolicyValue?1:e.get().determineAADCPolicy(v.a().OfficeBrowserFeedback.initOptions.authenticationType,v.a().OfficeBrowserFeedback.initOptions.ageGroup)?0:2}function ku(){ni.b();ti.b();lt=!1;w=!1}var h,y,b,ht,rt,f,pt,wi,bi,bt,kt,dt,gi,nr,tr,v,lt,w;i.r(t);i.d(t,"initialize",function(){return gt});i.d(t,"multiFeedback",function(){return ur});i.d(t,"singleFeedback",function(){return fr});i.d(t,"getFeedbackStatus",function(){return er});i.d(t,"reset",function(){return ku});h={};i.r(h);i.d(h,"generate",function(){return ou});i.d(h,"containerId",function(){return pt});i.d(h,"onSelect",function(){return su});i.d(h,"isEmailEnabled",function(){return wt});i.d(h,"isScreenshotEnabled",function(){return ft});i.d(h,"type",function(){return wi});y={};i.r(y);i.d(y,"generate",function(){return au});i.d(y,"containerId",function(){return dt});i.d(y,"onSelect",function(){return vu});i.d(y,"type",function(){return gi});b={};i.r(b);i.d(b,"generate",function(){return yu});i.d(b,"containerId",function(){return nr});i.d(b,"onSelect",function(){return pu});i.d(b,"type",function(){return tr});var ni=i(29),ti=i(28),e=i(1),c=i(2),s=i(7),r=i(0),or=i(22),sr=i(27),hr=i(35),u=i(5);var ii,tt,d,ri=!1,vt=!0,l=void 0,a=void 0,ot=[r.d.OverallSmileAnchor,r.d.OverallFrownAnchor,r.d.OverallIdeaAnchor,r.d.OverallBugAnchor];ht=[];f=i(3);!function(n){n[n.Single=0]="Single";n[n.Basic=1]="Basic";n[n.FeedbackPortalIdea=2]="FeedbackPortalIdea"}(rt||(rt={}));var k="obf-star",g={children:[{attributes:[{name:r.a.Id,value:k},{name:r.a.X,value:"0"},{name:r.a.Y,value:"0"},{name:r.a.Width,value:"105"},{name:r.a.Height,value:"100"},{name:r.a.Points,value:"52.5, 80.3 84, 100 76.3, 63 105, 38 67.2, 35 52.5, 0 37.8, 35 0, 38 28.7, 63 20, 100 52.5, 80.3"}],id:k,tag:r.h.Polygon}],tag:r.h.Defs},nt={attributes:[{name:r.a.xlinkHref,value:"#"+k}],tag:r.h.Use},ut={attributes:[{name:r.a.xlinkHref,value:"#"+k},{name:r.a.Transform,value:"translate(105 0)"}],tag:r.h.Use},ct={attributes:[{name:r.a.xlinkHref,value:"#"+k},{name:r.a.Transform,value:"translate(210 0)"}],tag:r.h.Use},yt={attributes:[{name:r.a.xlinkHref,value:"#"+k},{name:r.a.Transform,value:"translate(315 0)"}],tag:r.h.Use},yi={attributes:[{name:r.a.xlinkHref,value:"#"+k},{name:r.a.Transform,value:"translate(420 0)"}],tag:r.h.Use},tu={attributes:[{name:r.a.ViewBox,value:"0 0 525 100"}],children:[g,nt,ut,ct,yt,yi],classes:[r.c.RatingGraphic],tag:r.h.Svg},iu={attributes:[{name:r.a.ViewBox,value:"0 0 105 100"}],children:[g,nt],classes:[r.c.RatingGraphic,r.c.RatingGraphicFilled],tag:r.h.Svg},ru={attributes:[{name:r.a.ViewBox,value:"0 0 210 100"}],children:[g,nt,ut],classes:[r.c.RatingGraphic,r.c.RatingGraphicFilled],tag:r.h.Svg},uu={attributes:[{name:r.a.ViewBox,value:"0 0 315 100"}],children:[g,nt,ut,ct],classes:[r.c.RatingGraphic,r.c.RatingGraphicFilled],tag:r.h.Svg},fu={attributes:[{name:r.a.ViewBox,value:"0 0 420 100"}],children:[g,nt,ut,ct,yt],classes:[r.c.RatingGraphic,r.c.RatingGraphicFilled],tag:r.h.Svg},eu={attributes:[{name:r.a.ViewBox,value:"0 0 525 100"}],children:[g,nt,ut,ct,yt,yi],classes:[r.c.RatingGraphic,r.c.RatingGraphicFilled],tag:r.h.Svg};pt=r.d.BasicFormContainer;wi=rt.Basic;bi=r.d.SingleFormContainer;rt.Single;bt=i(32);kt=i(12);dt=r.d.ThanksPanelContainer;gi=0;nr=r.d.FeedbackPortalIdeaContainer;tr=rt.FeedbackPortalIdea;v=i(8);lt=!1;w=!1;v.o(ur);v.q(fr);v.e(er)}])