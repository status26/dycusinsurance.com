!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jQuery")):"function"==typeof define&&define.amd?define("1ds",["jQuery"],t):"object"==typeof exports?exports["1ds"]=t(require("jQuery")):e["1ds"]=t(e.jQuery)}(window,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=29)}([,function(e,t,n){"use strict";(function(e){
/*!
 * Microsoft Dynamic Proto Utility, 1.1.9
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
var r;n.d(t,"a",(function(){return I}));var i=Object,a=i.getPrototypeOf,o=i.getOwnPropertyNames;var s,c=("undefined"!=typeof globalThis&&(s=globalThis),s||"undefined"==typeof self||(s=self),s||"undefined"==typeof window||(s=window),s||void 0===e||(s=e),s||{}),u=c.__dynProto$Gbl||(c.__dynProto$Gbl={o:(r={},r.setInstFuncs=!0,r.useBaseInst=!0,r),n:1e3});function l(e,t){return e&&i.prototype.hasOwnProperty.call(e,t)}function f(e){return e&&(e===i.prototype||e===Array.prototype)}function d(e){return f(e)||e===Function.prototype}function p(e){var t;if(e){if(a)return a(e);var n=e.__proto__||e.prototype||(e.constructor?e.constructor.prototype:null);t=e._dyn__proto__||n,l(e,"_dyn__proto__")||(delete e._dynInstProto,t=e._dyn__proto__=e._dynInstProto||e._dyn__proto__,e._dynInstProto=n)}return t}function g(e,t){var n=[];if(o)n=o(e);else for(var r in e)"string"==typeof r&&l(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function h(e,t,n){return"constructor"!==t&&"function"==typeof e[t]&&(n||l(e,t))}function v(e){throw new TypeError("DynamicProto: "+e)}function m(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function y(e,t,n,r){var i=null;if(e&&l(n,"_dynClass")){var a=e._dynInstFuncs||{};if((i=(a[n._dynClass]||{})[t])||v("Missing ["+t+"] function"),!i._dynInstChk&&!1!==a._dynInstChk){for(var o=!l(e,t),s=p(e),c=[];o&&s&&!d(s)&&!m(c,s);){var u=s[t];if(u){o=u===r;break}c.push(s),s=p(s)}try{o&&(e[t]=i),i._dynInstChk=1}catch(e){a._dynInstChk=!1}}}return i}function C(e,t,n){var r=t[e];return r===n&&(r=p(t)[e]),"function"!=typeof r&&v("["+e+"] is not a function"),r}function b(e,t,n,r,i){if(!f(e)){var a=n._dynInstFuncs=n._dynInstFuncs||{},o=a[t]=a[t]||{};!1!==a._dynInstChk&&(a._dynInstChk=!!i),g(n,(function(t){h(n,t,!1)&&n[t]!==r[t]&&(o[t]=n[t],delete n[t],(!l(e,t)||e[t]&&!e[t]._isDynProxy)&&(e[t]=function(e,t){var n=function(){var r=y(this,t,e,n)||C(t,e,n);return r.apply(this,arguments)};return n._isDynProxy=1,n}(e,t)))}))}}function T(e,t){return l(e,"prototype")?e.name||t||"_unknown_":((e||{}).constructor||{}).name||t||"_unknown_"}function I(e,t,n,r){l(e,"prototype")||v("theClass is an invalid class definition.");var i=e.prototype;(function(e,t){if(a){for(var n=[],r=p(t);r&&!d(r)&&!m(n,r);){if(r===e)return!0;n.push(r),r=p(r)}return!1}return!0})(i,t)||v("["+T(e)+"] not in hierarchy of ["+T(t)+"]");var o=null;l(i,"_dynClass")?o=i._dynClass:(o="_dynCls$"+T(e,"_")+"$"+u.n,u.n++,i._dynClass=o);var s=I._dfOpts,c=!!s.useBaseInst;c&&r&&void 0!==r.useBaseInst&&(c=!!r.useBaseInst);var f=function(e){var t={};return g(e,(function(n){!t[n]&&h(e,n,!1)&&(t[n]=e[n])})),t}(t);n(t,function(e,t,n,r){function i(e,t,n){var i=t[n];if(i._isDynProxy&&r){var a=e._dynInstFuncs||{};!1!==a._dynInstChk&&(i=(a[t._dynClass]||{})[n]||i)}return function(){return i.apply(e,arguments)}}var o={};g(n,(function(e){o[e]=i(t,n,e)}));for(var s=p(e),c=[];s&&!d(s)&&!m(c,s);)g(s,(function(e){!o[e]&&h(s,e,!a)&&(o[e]=i(t,s,e))})),c.push(s),s=p(s);return o}(i,t,f,c));var y=!!a&&!!s.setInstFuncs;y&&r&&(y=!!r.setInstFuncs),b(i,o,t,f,!1!==y)}I._dfOpts=u.o}).call(this,n(13))},function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"l",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g}));var r="function",i="object",a="undefined",o="prototype",s="hasOwnProperty",c="default",u=Object,l=u[o],f=u.assign,d=u.create,p=u.defineProperty,g=l[s]},function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"l",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g}));var r="function",i="object",a="undefined",o="prototype",s="hasOwnProperty",c="default",u=Object,l=u[o],f=u.assign,d=u.create,p=u.defineProperty,g=l[s]},function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"l",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g}));var r="function",i="object",a="undefined",o="prototype",s="hasOwnProperty",c="default",u=Object,l=u[o],f=u.assign,d=u.create,p=u.defineProperty,g=l[s]},function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"l",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g}));var r="function",i="object",a="undefined",o="prototype",s="hasOwnProperty",c="default",u=Object,l=u[o],f=u.assign,d=u.create,p=u.defineProperty,g=l[s]},function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"l",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g}));var r="function",i="object",a="undefined",o="prototype",s="hasOwnProperty",c="default",u=Object,l=u[o],f=u.assign,d=u.create,p=u.defineProperty,g=l[s]},function(t,n){t.exports=e},function(e,t,n){"use strict";var r=function(){function e(t){var n=this;if(this.options=t,this.context={},this.maxResultLength=1024,this.serialize=function(){var t=Object.keys(n.context);if(!t.length)return"";for(var r=["v=1"],i=0,a=t;i<a.length;i++){var o=a[i],s=e.contextKeyMap[o]||encodeURIComponent(o),c=n.options.normalizePropertyValue&&n.options.normalizePropertyValue(o,n.context[o])||n.context[o];r.push("".concat(s,"=").concat(encodeURIComponent(c)))}var u=r.join(",");return u.length>n.maxResultLength?"":u},this.getProperty=function(e){return n.context[e]},this.setProperty=function(e,t){t&&(n.context[e]=t)},this.deleteProperty=function(e){return!!n.context[e]&&(delete n.context[e],!0)},!t)throw new Error("options must be specified.")}return e.contextKeyMap={"app-id":"ms.a.app.id","app-version":"ms.a.app.ver","device-class":"ms.a.device.deviceClass","device-id":"ms.a.device.id","partner-id":"ms.b.tel.partner","product-id":"ms.b.tel.product","scenario-id":"ms.b.tel.scenario","scenario-step":"ms.c.ust.scenarioStep","user-id":"ms.a.user.id","root-operation":"ms.b.qos.rootOperationName",market:"ms.b.tel.market"},e}(),i=n(7),a=n.n(i),o=-1,s=1,c=2,u=0,l=1,f=document.referrer,d=document.cookie;function p(e){var t=e||g;return{getLocationHref:function(){return t(window.spaLocationHref||window.location.href)},getRealLocationHref:function(){return t(window.location.href)},getSpaLocationHref:function(){return t(window.spaLocationHref||"")},getReferrer:function(){return t((window.spaReferrer||f).split("?")[0]||"")},getPageId:C,getQueryParameter:h,getCookie:v,getPerformanceTiming:function(){return window.performance&&window.performance.timing||{}},getNow:function(){return new Date},isPageOptedOutFromAutoPageView:m,setSpaLocationHref:function(e){window.spaLocationHref=e},setSpaReferrer:function(e){window.spaReferrer=e},setSpaPageId:function(e){window.spaPageId=e},setWindowLoadHandler:function(e){a()(window).on("load",e)}}}function g(e){return e}function h(e){return function(e,t){var n=new RegExp("".concat(e,"=([^&]+)"),"i"),r=t.match(n);return r&&2===r.length?r[1]:""}(e,window.location.search)}function v(e){for(var t=e.toLowerCase(),n=d.split(";"),r=0;r<n.length;r++){var i=n[r].split("="),a=decodeURIComponent(i[0].trim().toLowerCase()),o=i.length>1?i[1]:"";if(a===t)return decodeURIComponent(o)}return""}function m(){return!!a()("meta[name='noAutoPageView']").length}function y(e){var t=document.createElement("a");return t.href=e,t}function C(){return window.spaPageId||function(){var e=document.querySelector("html > head").getElementsByTagName("meta").namedItem("pageid");if(e)return e.getAttribute("content");return null}()||document.title}(function(){var e,t,n=v("oref");if(n)f=n,e="oref",(t=new Date).setDate(t.getDate()-1),function(e,t,n,r){void 0===r&&(r="/");var i=n;i||(i=new Date).setDate(i.getDate()+1);var a="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t),";expires=").concat(i.toUTCString(),";path=").concat(r);document.cookie=a}(e,"",t)})(),f=function(e,t){if(e&&!/^https:\/\/login\.live[\-\.]/i.test(e)&&!/^https:\/\/login\.microsoftonline\.com/i.test(e)&&!/^https:\/\/login\.windows-ppe\.net/i.test(e)&&!/^http(s?):\/\/directvisit/i.test(e))return e;if(!t)return e;var n=t.match(/\brefd=([0-9a-z\.\-]+)\b/i);if(!n||2!==n.length)return e;var r="https://".concat(n[1].toLowerCase(),"/"),i=t.match(/\brefp=([0-9a-z\.\-]+)\b/i);return i&&2===i.length&&(r+=i[1].replace("-","/").toLowerCase()),r}(f,window.location.search);var b=function(){function e(t,n,r,i){var u=this;if(this.options=t,this.cvManager=n,this.ccManager=r,this.qosLogger=i,this.willChangeSupportCors=!1,this.alwaysAddCvToRequestHeader=!0,this.timers={},this.mockedAjaxOps={},this.hostIdx=2,this.portIdx=3,this.minServerErrorStatusCode=500,this.maxServerErrorStatusCode=600,this.retryTimeout=50,this.cv1Length=16,this.cv2Length=22,this.base64CharSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this.cv1Constants={validationPattern:new RegExp("^[".concat(this.base64CharSet,"]{").concat(16..toString(),"}(.[0-9]+)+$")),maxCorrelationVectorLength:63},this.cv2Constants={validationPattern:new RegExp("^[".concat(this.base64CharSet,"]{").concat(22..toString(),"}(.[0-9]+)+$")),maxCorrelationVectorLength:127},this.ajaxGet=function(e){return u.prepareRequest(e),u.flattenDataAndAppendAntiForgeryToken(e,o),u.sendRequest(e,u.getImpl)},this.ajaxPost=function(e){return u.prepareRequest(e),u.flattenDataAndAppendAntiForgeryToken(e,e.antiforgeryTokenBehavior),u.sendRequest(e,u.postImpl)},this.ajaxPut=function(e){return u.prepareRequest(e),u.flattenDataAndAppendAntiForgeryToken(e,e.antiforgeryTokenBehavior),u.sendRequest(e,u.putImpl)},this.ajaxDelete=function(e){return u.prepareRequest(e),u.flattenDataAndAppendAntiForgeryToken(e,e.antiforgeryTokenBehavior),u.sendRequest(e,u.delImpl)},this.getAntiForgeryToken=function(e,t){for(var n=e&&typeof e==typeof window?e:window,r=t&&"string"==typeof t?"_".concat(t.toString()):"",i="__RequestVerificationToken".concat(r),a=n.document.getElementsByTagName("input"),o=0;o<a.length;o++){var s=a[o];if("hidden"===s.type&&s.name===i)return{name:i,value:s.value}}return{}},this.mockAjaxOperationResult=function(e,t){if(!e)throw new Error("operationName must be specified.");if(!t)throw new Error("result must be specified.");u.mockedAjaxOps[e.toLowerCase()]=t},this.clearAjaxOperationMocks=function(){u.mockedAjaxOps={}},this.targetUriOverrideCallbackFunction=function(e){return e},this.getAntiForgeryTokenForRequest=function(e){return e.token?e.token:u.getAntiForgeryToken(e.tokenWindow,e.appPath)},this.prepareRequest=function(t){if(!t.serviceName)throw new Error("AjaxTelemetrySink: settings.serviceName is not set.");if(!t.operationName)throw new Error("AjaxTelemetrySink: settings.operationName is not set.");if(t.currentOperationName=t.parentOperationName||t.operationName,t.additionalHeaders=t.additionalHeaders||[],t.requestedWithHeaderBehavior&&"query"!==t.requestedWithHeaderBehavior)"header"===t.requestedWithHeaderBehavior&&(t.additionalHeaders["X-Requested-With"]="XMLHttpRequest");else if(t.url){var n=y(t.url);n.search+=(n.search?"&":"?")+"X-Requested-With=XMLHttpRequest",t.url=n.href}u.options.useJsll3xQuirks&&("auto"!==t.dataType?t.dataType=t.dataType||"json":delete t.dataType),u.cvManager.incrementCv(),t.cV=u.cvManager.getCurrentCvValue();var r=u.ccManager.serialize();r&&(void 0===t.addCvToRequestHeader||t.addCvToRequestHeader)&&(t.additionalHeaders["Correlation-Context"]=r),t.cache&&(t.noCacheBusting=!0),(u.options.overrideRequestQosData||t.overrideRequestQosData)&&(t.QosCallback=e.overrideRequestQosData.bind(u,u.options,t)),t.antiforgeryTokenBehavior||(u.isCrossDomainRequest(t)?t.antiforgeryTokenBehavior=o:u.isJsonContentType(t)&&(t.antiforgeryTokenBehavior=c))},this.flattenDataAndAppendAntiForgeryToken=function(e,t){var n=t||s,r=e.data;switch(r&&"string"!=typeof r&&(r=a.a.param(r)),n){case s:u.getTokenAndExecuteCommandIfTokenIsValid(e,(function(e){r=r?"".concat(r,"&"):"",r+="".concat(encodeURIComponent(e.name),"=").concat(encodeURIComponent(e.value))}));break;case c:u.getTokenAndExecuteCommandIfTokenIsValid(e,(function(t){e.additionalHeaders[encodeURIComponent(t.name)]=encodeURIComponent(t.value)}));break;case o:break;default:throw new Error("Unsupported AntiforgeryTokenBehavior: ".concat(n))}e.data=r},this.isJsonContentType=function(e){return!!e.contentType&&"string"==typeof e.contentType&&-1!==e.contentType.indexOf("json")},this.isCrossDomainRequest=function(e){var t;try{t=location.href}catch(e){var n=document.createElement("a");n.href="",t=n.href}var r=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,i=r.exec(t.toLowerCase()),a=r.exec(e.url?e.url.toLowerCase():"");return!(!(a&&a.length>3&&i&&i.length>3)||a[1]===i[1]&&a[u.hostIdx]===i[u.hostIdx]&&(a[u.portIdx]||("http:"===a[1]?"80":"443"))===(i[u.portIdx]||("http:"===i[1]?"80":"443")))},this.sendRequest=function(e,t){if(e.operationName){var n=e.operationName.toLowerCase();if(u.mockedAjaxOps[n]){var r=u.mockedAjaxOps[n],i=a.a.Deferred();return setTimeout((function(){r(i)})),i}}return t(e)},this.postImpl=function(e){return e.method="POST",u.makeRequest(e)},this.getImpl=function(e){return e.method="GET",u.makeRequest(e)},this.putImpl=function(e){return e.method="PUT",u.makeRequest(e)},this.delImpl=function(e){return e.method="DELETE",u.makeRequest(e)},this.makeRequest=function(e){var t=u;if("function"==typeof a.a){u.willChangeSupportCors&&(a.a.support.cors=!0);var n,r=e.additionalHeaders||{},i=e.body,o=i?JSON.stringify(i):e.data||void 0,s=e.maxRetry||0,c=0,l=e.operationName||e.url,f=e.errorFormatter||function(e){return e},d={url:e.url,type:e.method,data:o,crossDomain:!0,headers:{},success:e.success,timeout:e.timeout,error:e.error,jsonp:e.jsonp,jsonpCallback:e.jsonpCallback,cache:e.cache,beforeSend:function(i){if(e.contractVersion&&i.setRequestHeader("MS-Contract-Version",e.contractVersion),(!0===e.addCvToRequestHeader||!1!==e.addCvToRequestHeader&&t.alwaysAddCvToRequestHeader)&&t.isValid(n)&&i.setRequestHeader("MS-CV",n),r)for(var a in r)r.hasOwnProperty(a)&&i.setRequestHeader(a,r[a])}};e.dataType&&(d.dataType=e.dataType),e.noCacheBusting||(d.cache=!1),e.contentType&&(d.contentType=e.contentType),e.accept&&(d.headers.Accept=e.accept),e.accepts&&(d.accepts=e.accepts),e.async&&(d.async=e.async),e.xhrFields&&(d.xhrFields=e.xhrFields),e.complete&&(d.complete=e.complete),e.contents&&(d.contents=e.contents),e.context&&(d.context=e.context),e.dataFilter&&(d.dataFilter=e.dataFilter),e.global&&(d.global=e.global),e.ifModified&&(d.ifModified=e.ifModified),e.isLocal&&(d.isLocal=e.isLocal),e.mimeType&&(d.mimeType=e.mimeType),e.password&&(d.password=e.password),e.processData&&(d.processData=e.processData),e.scriptCharset&&(d.scriptCharset=e.scriptCharset),e.statusCode&&(d.statusCode=e.statusCode),e.traditional&&(d.traditional=e.traditional),e.type&&(d.type=e.type),e.username&&(d.username=e.username),e.xhr&&(d.xhr=e.xhr),n=u.isValid(e.cV)?e.cV:u.increment();var p=function(r,i,a){var o=r.getResponseHeader("Content-Length"),s={name:"Ms.Webi.OutgoingRequest",data:{cV:n,baseData:{operationName:e.currentOperationName,targetUri:t.targetUriOverrideCallbackFunction?t.targetUriOverrideCallbackFunction(d.url):d.url,latencyMs:a,serviceErrorCode:!i&&r.responseJSON&&r.responseJSON.code&&!isNaN(r.responseJSON.code)?r.responseJSON.code:-1,succeeded:i,requestMethod:d.type,responseContentType:d.dataType,protocolStatusCode:r.status.toString(),dependencyOperationName:l,dependencyOperationVersion:e.version&&e.version.toString(),dependencyName:e.serviceName,dependencyType:"WebService",responseSizeBytes:o&&parseInt(o,10)},baseType:"Ms.Qos.OutgoingServiceRequest",message:i?void 0:JSON.stringify(r.errorThrown),retryCount:c,customData:e.customDataCallBack&&"function"==typeof e.customDataCallBack?JSON.stringify(e.customDataCallBack(r)):void 0}};e.QosCallback&&"function"==typeof e.QosCallback&&e.QosCallback(r,s),t.reportEvent(s.data)},g=function(){var r="".concat(l,"_Retry_").concat(c);return t.recordTimeSpan(r,!1),a.a.ajax(d).then((function(e,n,i){var a=t.recordTimeSpan(r,!0);return p(i,!0,a),i}),(function(i,o){var u=t.recordTimeSpan(r,!0);p(i,!1,u);var l=a.a.Deferred();return s>c&&(0===i.status||i.status>=t.minServerErrorStatusCode&&i.status<t.maxServerErrorStatusCode)?(c++,n=t.isValid(e.cV)?t.incrementExternal(n):t.increment(),setTimeout((function(){g().done(l.resolve).fail(l.reject)}),t.retryTimeout)):l.reject(i,o),l.promise()}))};return g().then((function(e,t,n){return n}),(function(t){return f(t,e)}))}},this.isValid=function(e){if(e){var t=e.split(".")[0];if(t){if(t.length===u.cv1Length)return u.validateWithCv1(e);if(t.length===u.cv2Length)return u.validateWithCv2(e)}}return!1},this.validateWithCv1=function(e){return!!(u.cv1Constants.validationPattern.test(e)&&e.length<=u.cv1Constants.maxCorrelationVectorLength)},this.validateWithCv2=function(e){return!!(u.cv2Constants.validationPattern.test(e)&&e.length<=u.cv2Constants.maxCorrelationVectorLength)},this.increment=function(){return u.cvManager.incrementCv(),u.cvManager.getCurrentCvValue()},this.incrementExternal=function(e){if(u.isValid(e)){var t=e.split("."),n=t.length;t[n-1]=(parseInt(t[n-1],10)+1).toString();for(var r="",i=0;i<n;i++)r+=t[i],i<n-1&&(r+=".");var a=t[0].length===u.cv2Length?u.cv2Constants.maxCorrelationVectorLength:u.cv1Constants.maxCorrelationVectorLength;if(r.length<=a)return r}return""},this.reportEvent=function(e){var t=e.baseData,n={currentOperationName:t.operationName,operationName:t.dependencyOperationName,requestUri:t.targetUri,latencyMs:t.latencyMs,serviceErrorCode:t.serviceErrorCode,isSuccess:t.succeeded,httpMethod:t.requestMethod,contentType:t.responseContentType,httpStatusCode:t.protocolStatusCode,serviceName:t.dependencyName,serviceType:t.dependencyType,operationVersion:t.dependencyOperationVersion,responseSize:t.responseSizeBytes,errorMessage:e.message,retryCount:e.retryCount,customData:e.customData,cV:e.cV};u.qosLogger.reportOutgoingApi(n)},!t)throw new Error("options must be specified.");this.willChangeSupportCors=!1}return e.prototype.getTokenAndExecuteCommandIfTokenIsValid=function(e,t){var n=this.getAntiForgeryTokenForRequest(e);n&&t(n)},e.overrideRequestQosData=function(e,t,n,r){if((r||r.data)&&(t.overrideRequestQosData||e.overrideRequestQosData)){var i=r.data.baseData,a=r.data,o={isSuccess:i&&i.succeeded,latencyMs:i&&i.latencyMs,httpStatusCode:i&&i.protocolStatusCode,serviceErrorCode:i&&i.serviceErrorCode,errorMessage:a&&a.message};o.responseStatus=n.status,o.requestTimeout=t.timeout;var s=u;t.overrideRequestQosData&&(s=t.overrideRequestQosData(t,n,o)),u===s&&e.overrideRequestQosData&&(e.overrideRequestQosData(o),s=l),l===s&&(i&&(i.succeeded=o.isSuccess,i.latencyMs=o.latencyMs,i.protocolStatusCode=o.httpStatusCode,i.serviceErrorCode=o.serviceErrorCode),a&&(a.message=o.errorMessage))}},e.prototype.recordTimeSpan=function(e,t){var n=(new Date).getTime();return t?n-this.timers[e]:void(this.timers[e]=n)},e}(),T=function(){var e=this;this.ajaxGet=function(t){return e.performAjaxRequest("GET",t)},this.ajaxPost=function(t){return e.performAjaxRequest("POST",t)},this.ajaxPut=function(t){return e.performAjaxRequest("PUT",t)},this.ajaxDelete=function(t){return e.performAjaxRequest("DELETE",t)},this.getAntiForgeryToken=function(e,t){return{name:"antiforgery",value:"token"}},this.mockAjaxOperationResult=function(e,t){},this.clearAjaxOperationMocks=function(){},this.performAjaxRequest=function(e,t){return $.ajax($.extend({},t,{method:e}))}},I=function(){this.serialize=function(){return""},this.getProperty=function(e){return""},this.setProperty=function(e,t){},this.deleteProperty=function(e){return!1}},S=function(){this.getCurrentCvValue=function(){return"cv.1"},this.getCorrelationVectorFormFieldName=function(){return"cv"},this.seedCv=function(e){},this.incrementCv=function(){}},w=function(){function e(e){var t=this;this.options=e,this.initializationAttempt=0,this.initializers=[],this.biSinks=[],this.qosSinks=[],this.perfSinks=[],this.scenariosSinks=[],this.experimentsSinks=[],this.configurationUpdateSinks=[],this.pageViewOccurred=!1,this.executeOnPageViewQueue=[],this.maxErrorStringLength=100,this.timeoutMultiplier=100,this.scenarioStartPoints={},this.useAsGlobalTelemetryProvider=function(){window.BradburyTelemetry=t.toTelemetryProvider(),t.dom.setWindowLoadHandler(t.$notifyPageLoaded)},this.toTelemetryProvider=function(){return{cv:t.cvManager,cc:t.ccManager,qos:t,perf:t,bi:t,scenarios:t,experiments:t,ajax:t.ajaxTelemetry,utilities:t.utilities,configuration:t}},this.setCorrelationVectorManager=function(e){t.cvManager=e},this.setCorrelationContextManager=function(e){t.ccManager=e},this.setUtilityFunctions=function(e){t.utilities=e},this.setAjaxTelemetrySink=function(e){t.ajaxTelemetry=e},this.registerInitializer=function(e){t.initializers.push(e)},this.registerBiSink=function(e){t.biSinks.push(e)},this.registerQosSink=function(e){t.qosSinks.push(e)},this.registerPerfSink=function(e){t.perfSinks.push(e)},this.registerScenariosSink=function(e){t.scenariosSinks.push(e)},this.registerExperimentsSink=function(e){t.experimentsSinks.push(e)},this.registerTelemetryConfigurationUpdateSink=function(e){t.configurationUpdateSinks.push(e)},this.updateFlights=function(e){t.configurationUpdateSinks.forEach((function(t){return t.updateFlights(e)}))},this.updateUserPuid=function(e){t.configurationUpdateSinks.forEach((function(t){return t.updateUserPuid(e)}))},this.reportOutgoingApi=function(e){t.reportQosOperation((function(t){return t.reportOutgoingApi(e)}))},this.reportClientError=function(e){t.reportQosOperation((function(t){return t.reportClientError(e)}))},this.reportFatalError=function(e){t.reportQosOperation((function(t){return t.reportFatalError(e)}))},this.reportRawEvent=function(e){t.reportQosOperation((function(t){return t.reportRawEvent(e)}))},this.reportViewPerformanceMetrics=function(e,n){t.reportClientPerformance((function(t){return t.reportViewPerformanceMetrics(e,n)}))},this.$notifyPageLoaded=function(){t.setExperimentData(),t.reportBiOperation((function(e){return e.$notifyPageLoaded()})),t.options.allowAutoPageView&&!t.dom.isPageOptedOutFromAutoPageView()&&t.reportPageView({url:t.dom.getLocationHref(),viewId:t.dom.getPageId()})},this.reportClick=function(e){t.executeAfterPageView((function(){return t.reportBiOperation((function(t){return t.reportClick(e)}))}))},this.reportPartialView=function(e){t.executeAfterPageView((function(){return t.reportBiOperation((function(t){return t.reportPartialView(e)}))}))},this.reportPageView=function(e){if(t.setExperimentData(),e.$hosted)t.executeAfterPageView((function(){return t.reportBiOperation((function(t){return t.reportPageView(e)}))}));else{if(t.reportBiOperation((function(t){return t.reportPageView(e)})),t.executeOnPageViewQueue.length){var n=t.executeOnPageViewQueue;t.executeOnPageViewQueue=[];for(var r=0,i=n;r<i.length;r++){(0,i[r])()}}t.pageViewOccurred=!0}},this.reportSpaPageView=function(e){t.setExperimentData(),e.$hosted?t.executeAfterPageView((function(){return t.reportSpaPageViewImpl(e)})):t.reportSpaPageViewImpl(e)},this.getDefaultPlt=function(){return e=t.dom,n=e.getNow().getTime(),((r=e.getPerformanceTiming()).domComplete||n)-(r.fetchStart||n)||0;var e,n,r},this.getCurrentLocation=function(){return t.dom.getLocationHref()},this.getCurrentReferrer=function(){return t.dom.getReferrer()},this.getCurrentPageId=function(){return t.dom.getPageId()},this.getTrafficOriginator=function(){return t.dom.getCookie("tref").toLowerCase()},this.beginScenario=function(e,n,r){return t.$beginScenario({area:e,name:n,currentStep:"!START",attribution:r&&r.attribution,data:r&&r.data}),n},this.beginMultiStepScenario=function(e,n,r,i){return t.$beginScenario({area:e,name:n,currentStep:"!START",nextStep:r,attribution:i&&i.attribution,data:i&&i.data}),n},this.endScenario=function(e){t.$completeStep({area:e.area,name:e.name,currentStep:"!START",nextStep:t.getVirtualStepNameForTaskResult(!1,e),successful:e.isSuccess,canceled:!1,error:t.getSafeStepErrorCodeValue(e.error),attribution:e.attribution,data:e.data,timeMsec:t.calculateScenarioTime(e)})},this.cancelScenario=function(e){t.$completeStep({area:e.area,name:e.name,currentStep:"!START",nextStep:t.getVirtualStepNameForTaskResult(!0,e),successful:e.isSuccess,canceled:!0,error:t.getSafeStepErrorCodeValue(e.error),attribution:e.attribution,data:e.data,timeMsec:t.calculateScenarioTime(e)})},this.endStep=function(e){t.$completeStep({area:e.area,name:e.name,isStep:!0,currentStep:e.step,nextStep:e.next,successful:e.isSuccess,canceled:!1,error:t.getSafeStepErrorCodeValue(e.error),attribution:e.attribution,data:e.data})},this.cancelStep=function(e){t.$completeStep({area:e.area,name:e.name,isStep:!0,currentStep:e.step,nextStep:e.next,successful:e.isSuccess,canceled:!0,error:t.getSafeStepErrorCodeValue(e.error),attribution:e.attribution,data:e.data})},this.endMultiStepScenario=function(e){t.$completeStep({area:e.area,name:e.name,currentStep:e.step,nextStep:t.getVirtualStepNameForTaskResult(!1,e),successful:e.isSuccess,canceled:!1,error:t.getSafeStepErrorCodeValue(e.error),attribution:e.attribution,timeMsec:t.calculateScenarioTime(e),data:e.data})},this.cancelMultiStepScenario=function(e){t.$completeStep({area:e.area,name:e.name,currentStep:e.step,nextStep:t.getVirtualStepNameForTaskResult(!0,e),successful:e.isSuccess,canceled:!0,error:t.getSafeStepErrorCodeValue(e.error),attribution:e.attribution,timeMsec:t.calculateScenarioTime(e),data:e.data})},this.$beginScenario=function(e){t.ccManager.deleteProperty("scenario-id"),t.ccManager.deleteProperty("scenario-step"),t.ccManager.setProperty("scenario-id",t.getCorrelationScenarioId(e)),e.nextStep&&t.ccManager.setProperty("scenario-step",e.nextStep),t.executeAfterPageView((function(){var n=t.createScenarioId(e.area,e.name);t.scenarioStartPoints[n]=t.dom.getNow().getTime(),e.attribution=t.populateScenarioAttribution(e.attribution||{}),e.market=t.options.market,e.language=t.options.language,t.reportScenarioEvent((function(t){return t.$beginScenario(e)}))}))},this.$completeStep=function(e){t.ccManager.deleteProperty("scenario-id"),t.ccManager.deleteProperty("scenario-step"),e.isStep&&(t.ccManager.setProperty("scenario-id",t.getCorrelationScenarioId(e)),e.nextStep&&t.ccManager.setProperty("scenario-step",e.nextStep)),t.executeAfterPageView((function(){e.attribution=t.populateScenarioAttribution(e.attribution||{}),e.market=t.options.market,e.language=t.options.language,t.reportScenarioEvent((function(t){return t.$completeStep(e)}))}))},this.reportExperimentTrigger=function(e){t.reportExperimentOperation((function(t){return t.reportExperimentTrigger(e)}))},this.getCorrelationScenarioId=function(e){return"".concat(e.area,".").concat(e.name)},this.executeAfterPageView=function(e){t.pageViewOccurred||t.options.$ignorePageViewQueue?e():t.executeOnPageViewQueue.push(e)},this.reportBiOperation=function(e){if(!t.initializers.length||t.initializeTelemetry((function(){return t.reportBiOperation(e)})))for(var n=0,r=t.biSinks;n<r.length;n++){var i=r[n];e(i)}},this.reportQosOperation=function(e){if(!t.initializers.length||t.initializeTelemetry((function(){return t.reportQosOperation(e)})))for(var n=0,r=t.qosSinks;n<r.length;n++){var i=r[n];e(i)}},this.reportClientPerformance=function(e){if(!t.initializers.length||t.initializeTelemetry((function(){return t.reportClientPerformance(e)})))for(var n=0,r=t.perfSinks;n<r.length;n++){var i=r[n];e(i)}},this.reportScenarioEvent=function(e){if(!t.initializers.length||t.initializeTelemetry((function(){return t.reportScenarioEvent(e)})))for(var n=0,r=t.scenariosSinks;n<r.length;n++){var i=r[n];e(i)}},this.reportExperimentOperation=function(e){if(!t.initializers.length||t.initializeTelemetry((function(){return t.reportExperimentOperation(e)})))for(var n=0,r=t.experimentsSinks;n<r.length;n++){var i=r[n];e(i)}},this.reportSpaPageViewImpl=function(e){var n,r,i=y(t.dom.getRealLocationHref()),a=t.dom.getSpaLocationHref();t.dom.setSpaPageId(e.viewId),t.dom.setSpaLocationHref("".concat(i.protocol.toLowerCase(),"//").concat(i.host.toLowerCase()).concat((n=e.path,r=n||"/","/"!==r[0]&&(r="/".concat(r)),r)).concat(i.search)),a&&t.dom.setSpaReferrer(a),t.reportPageView({url:t.dom.getLocationHref(),viewId:e.viewId,pltMsec:e.pltMsec,$internalIsSpa:!0})},this.createScenarioId=function(e,t){return"".concat(e,".").concat(t)},this.calculateScenarioTime=function(e){var n=t.createScenarioId(e.area,e.name),r=0;return t.scenarioStartPoints[n]&&(r=t.dom.getNow().getTime()-t.scenarioStartPoints[n],delete t.scenarioStartPoints[n]),r},this.getVirtualStepNameForTaskResult=function(e,t){return e?t.isSuccess?"!CANCELOK":"!CANCELFAIL":t.isSuccess?"!OK":"!FAIL"},this.getSafeStepErrorCodeValue=function(e){var n=e;return(n=(n=n||"").substr(0,t.maxErrorStringLength))&&!/^[0-9a-zA-Z-_. ]+$/.test(n)&&(n="InvalidErrorCodeValue_ReadDocumentation"),n},this.populateScenarioAttribution=function(e){var n=t.getTrafficOriginator(),r=(e.flow||t.dom.getQueryParameter("fref")).toLowerCase();return r||(r=n?"ext":"int"),n||(n="int"),e.origin=n,e.flow=r,e.owner=(e.owner||"").toLowerCase(),e},this.initializeTelemetry=function(e){if(!t.initializers.length)return!0;for(var n=[],r=0,i=t.initializers;r<i.length;r++){var a=i[r];a.initialize(t.initializationAttempt)||n.push(a)}return n.length?(t.initializationAttempt++,t.initializers=n,setTimeout(e,t.initializationAttempt*t.timeoutMultiplier),!1):(t.initializers=[],!0)},this.dom=e.dom||p(e.urlScrubber),this.cvManager=new S,this.ccManager=new I,this.ajaxTelemetry=new T,this.utilities={}}return e.prototype.setExperimentData=function(){this.reportExperimentOperation((function(e){return e.setExperimentData()}))},e}();n.d(t,"a",(function(){return"Ms.Web.ClientError"})),n.d(t,"b",(function(){return"Ms.Osgs.ClientReliability"})),n.d(t,"c",(function(){return"Ms.Web.ContentUpdate"})),n.d(t,"e",(function(){return"Ms.Webi.MeePortal.Error"})),n.d(t,"f",(function(){return"Ms.Osgs.ExperimentTrigger"})),n.d(t,"g",(function(){return"Ms.Webi.MeePortal.UserFeedbackV2"})),n.d(t,"h",(function(){return"Ms.Webi.MeePortal.LoadScript"})),n.d(t,"k",(function(){return"Ms.Web.PageAction"})),n.d(t,"l",(function(){return"Ms.Web.PageUnload"})),n.d(t,"m",(function(){return"Ms.Web.PageView"})),n.d(t,"j",(function(){return"Ms.Qos.OutgoingServiceRequest"})),n.d(t,"d",(function(){return r})),n.d(t,"i",(function(){return b})),n.d(t,"n",(function(){return w})),n.d(t,"o",(function(){return g})),n.d(t,"p",(function(){return p}))},,,,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(2),i=null;function a(t){return void 0===t&&(t=!0),i&&t||(typeof globalThis!==r.l&&globalThis&&(i=globalThis),typeof self!==r.l&&self&&(i=self),typeof window!==r.l&&window&&(i=window),typeof e!==r.l&&e&&(i=e)),i}function o(e){throw new TypeError(e)}function s(e){var t=r.c;if(t)return t(e);if(null==e)return{};var n=typeof e;function i(){}return n!==r.j&&n!==r.h&&o("Object prototype may only be an Object:"+e),i[r.k]=e,new i}}).call(this,n(13))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(3),i=null;function a(t){void 0===t&&(t=!0);var n=!1===t?null:i;return n||(typeof globalThis!==r.l&&(n=globalThis),n||typeof self===r.l||(n=self),n||typeof window===r.l||(n=window),n||typeof e===r.l||(n=e),i=n),n}function o(e){throw new TypeError(e)}function s(e){var t=r.c;if(t)return t(e);if(null==e)return{};var n=typeof e;function i(){}return n!==r.j&&n!==r.h&&o("Object prototype may only be an Object:"+e),i[r.k]=e,new i}}).call(this,n(13))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(4),i=null;function a(t){return void 0===t&&(t=!0),i&&t||(typeof globalThis!==r.l&&globalThis&&(i=globalThis),typeof self!==r.l&&self&&(i=self),typeof window!==r.l&&window&&(i=window),typeof e!==r.l&&e&&(i=e)),i}function o(e){throw new TypeError(e)}function s(e){var t=r.c;if(t)return t(e);if(null==e)return{};var n=typeof e;function i(){}return n!==r.j&&n!==r.h&&o("Object prototype may only be an Object:"+e),i[r.k]=e,new i}}).call(this,n(13))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(5),i=null;function a(t){return void 0===t&&(t=!0),i&&t||(typeof globalThis!==r.l&&globalThis&&(i=globalThis),typeof self!==r.l&&self&&(i=self),typeof window!==r.l&&window&&(i=window),typeof e!==r.l&&e&&(i=e)),i}function o(e){throw new TypeError(e)}function s(e){var t=r.c;if(t)return t(e);if(null==e)return{};var n=typeof e;function i(){}return n!==r.j&&n!==r.h&&o("Object prototype may only be an Object:"+e),i[r.k]=e,new i}}).call(this,n(13))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(6),i=null;function a(t){return void 0===t&&(t=!0),i&&t||(typeof globalThis!==r.l&&globalThis&&(i=globalThis),typeof self!==r.l&&self&&(i=self),typeof window!==r.l&&window&&(i=window),typeof e!==r.l&&e&&(i=e)),i}function o(e){throw new TypeError(e)}function s(e){var t=r.c;if(t)return t(e);if(null==e)return{};var n=typeof e;function i(){}return n!==r.j&&n!==r.h&&o("Object prototype may only be an Object:"+e),i[r.k]=e,new i}}).call(this,n(13))},,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;Object.create;var a=n(8),o=n(40),s=n(1),c=n(2),u=n(14),l=c.d,f=c.b.freeze;c.b.seal;function d(e){return c.f.toString.call(e)}function p(e,t){return typeof e===t}function g(e){return void 0===e||typeof e===c.l}function h(e){return null===e||g(e)}function v(e){return!h(e)}function m(e,t){return e&&c.e.call(e,t)}function y(e){return typeof e===c.j}function C(e){return typeof e===c.h}function b(e,t,n,r){void 0===r&&(r=!1);var i=!1;if(!h(e))try{h(e.addEventListener)?h(e.attachEvent)||(e.attachEvent("on"+t,n),i=!0):(e.addEventListener(t,n,r),i=!0)}catch(e){}return i}function T(e,t){if(e)for(var n in e)c.e.call(e,n)&&t.call(e,n,e[n])}function I(e,t){if(e&&t){var n=t.length,r=e.length;if(e===t)return!0;if(r>=n){for(var i=r-1,a=n-1;a>=0;a--){if(e[i]!=t[a])return!1;i--}return!0}}return!1}function S(e,t){var n=!1;if(e&&t){var r=t.length;if(e===t)return!0;if(e.length>=r){for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;n=!0}}return n}function w(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}function E(e){return"[object Date]"===d(e)}function x(e){return"[object Array]"===d(e)}function k(e){return"[object Error]"===d(e)}function P(e){return"string"==typeof e}function A(e){return"number"==typeof e}function _(e){return"boolean"==typeof e}function N(e){if(e){if(e.toISOString)return e.toISOString();if(E(e)){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}}function O(e,t,n){var r=e.length;try{for(var i=0;i<r&&(!(i in e)||-1!==t.call(n||e,e[i],i,e));i++);}catch(e){}}function D(e,t,n){var r=e.length,i=n||0;try{for(var a=Math.max(i>=0?i:r-Math.abs(i),0);a<r;a++)if(a in e&&e[a]===t)return a}catch(e){}return-1}function R(e,t,n){var r=e.length,i=n||e,a=new Array(r);try{for(var o=0;o<r;o++)o in e&&(a[o]=t.call(i,e[o],e))}catch(e){}return a}function M(e,t,n){var r,i=e.length,a=0;if(arguments.length>=3)r=arguments[2];else{for(;a<i&&!(a in e);)a++;r=e[a++]}for(;a<i;)a in e&&(r=t(r,e[a],a,e)),a++;return r}function L(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}var V=!{toString:null}.propertyIsEnumerable("toString"),U=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function j(e){var t=typeof e;t===c.h||t===c.j&&null!==e||Object(u.c)("objKeys called on non-object");var n=[];for(var r in e)e&&c.e.call(e,r)&&n.push(r);if(V)for(var i=U.length,a=0;a<i;a++)e&&c.e.call(e,U[a])&&n.push(U[a]);return n}function F(e,t,n,r){if(l)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),l(e,t,i),!0}catch(e){}return!1}function q(e){return f&&(e=f(e)),e}function H(){var e=Date;return e.now?e.now():(new e).getTime()}function B(e){return k(e)?e.name:""}function z(e,t,n,r,i){var a=n;return e&&((a=e[t])===n||i&&!i(a)||r&&!r(n)||(a=n,e[t]=a)),a}function W(e){return!e}function G(e){return!!e}function K(e){throw new Error(e)}function Q(e){return e&&(e=Object(c.b)(c.a?Object(c.a)({},e):e)),e}var X,J=null,$=function(){function e(t,n,r){var i,a=this,o=!1;(a.start=H(),a.name=t,a.isAsync=r,a.isChildEvt=function(){return!1},C(n))&&(o=F(a,"payload",(function(){return!i&&C(n)&&(i=n(),n=null),i})));a.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?a[t]:(a.ctx||{})[t]:null},a.setCtx=function(t,n){if(t)if(t===e.ParentContextKey)a[t]||(a.isChildEvt=function(){return!0}),a[t]=n;else if(t===e.ChildrenContextKey)a[t]=n;else{(a.ctx=a.ctx||{})[t]=n}},a.complete=function(){var t=0,r=a.getCtx(e.ChildrenContextKey);if(x(r))for(var i=0;i<r.length;i++){var s=r[i];s&&(t+=s.time)}a.time=H()-a.start,a.exTime=a.time-t,a.complete=function(){},!o&&C(n)&&(a.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Y=function e(t){this.ctx={},Object(s.a)(e,this,(function(e){e.create=function(e,t,n){return new $(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&C(t.perfEvent)&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}}))};function Z(e,t,n,r,i){if(e){var a=e;if(C(a.getPerfMgr)&&(a=a.getPerfMgr()),a){var o=void 0,s=a.getCtx("CoreUtils.doPerf");try{if(o=a.create(t(),r,i)){if(s&&o.setCtx&&(o.setCtx($.ParentContextKey,s),s.getCtx&&s.setCtx)){var c=s.getCtx($.ChildrenContextKey);c||(c=[],s.setCtx($.ChildrenContextKey,c)),c.push(o)}return a.setCtx("CoreUtils.doPerf",o),n(o)}}catch(e){o&&o.setCtx&&o.setCtx("exception",e)}finally{o&&a.fire(o),a.setCtx("CoreUtils.doPerf",s)}}}return n()}!function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"}(X||(X={}));var ee={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105},te=0,ne=13,re=32,ie=1,ae=2,oe=3,se=4,ce=0,ue=1,le=6,fe=7,de=Object(o.a)(Object(o.a)({},ee),{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}),pe=null,ge=null,he=!1,ve=null,me=null;function ye(e,t){var n=!1;if(e){try{if(!(n=t in e)){var r=e[c.k];r&&(n=t in r)}}catch(e){}if(!n)try{n=!g((new e)[t])}catch(e){}}return n}function Ce(e){var t=Object(u.a)();return t&&t[e]?t[e]:"window"===e&&be()?window:null}function be(){return Boolean(typeof window===c.j&&window)}function Te(){return be()?window:Ce("window")}function Ie(){return Boolean(typeof document===c.j&&document)?document:Ce("document")}function Se(){return Boolean(typeof navigator===c.j&&navigator)}function we(){return Se()?navigator:Ce("navigator")}function Ee(){return Boolean(typeof history===c.j&&history)?history:Ce("history")}function xe(e){if(e&&he){var t=Ce("__mockLocation");if(t)return t}return typeof location===c.j&&location?location:Ce("location")}function ke(){return Ce("performance")}function Pe(){return Boolean(typeof JSON===c.j&&JSON||null!==Ce("JSON"))}function Ae(){return Pe()?JSON||Ce("JSON"):null}function _e(){var e=we();return!(!e||!e.product)&&"ReactNative"===e.product}function Ne(){var e=we();if(e&&(e.userAgent!==ge||null===pe)){var t=((ge=e.userAgent)||"").toLowerCase();pe=w(t,"msie")||w(t,"trident/")}return pe}function Oe(e){if(void 0===e&&(e=null),!e){var t=we()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(w(n,"msie")){var r=Ie()||{};return Math.max(parseInt(n.split("msie")[1]),r.documentMode||0)}if(w(n,"trident/")){var i=parseInt(n.split("trident/")[1]);if(i)return i+4}return null}function De(e){var t=Object[c.k].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Pe()&&(n=Ae().stringify(e)),t+n}function Re(){return null===me&&(me=Se()&&Boolean(we().sendBeacon)),me}function Me(e){var t=!1;try{t=!!Ce("fetch");var n=Ce("Request");t&&e&&n&&(t=ye(n,"keepalive"))}catch(e){}return t}function Le(){return null===ve&&(ve="undefined"!=typeof XDomainRequest)&&Ve()&&(ve=ve&&!ye(Ce("XMLHttpRequest"),"withCredentials")),ve}function Ve(){var e=!1;try{e=!!Ce("XMLHttpRequest")}catch(e){}return e}var Ue,je=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],Fe=null;function qe(e,t){return function(){var n=arguments,r=He(t);if(r){var i=r.listener;i&&i[e]&&i[e].apply(i,n)}}}function He(e){var t,n=Fe;return n||!0===e.disableDbgExt||(n=Fe||((t=Ce("Microsoft"))&&(Fe=t.ApplicationInsights),Fe)),n?n.ChromeDbgExt:null}function Be(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function ze(e,t){var n=typeof console!==c.l?console:Ce("console");if(n){var r="log";n[e]&&(r=e),C(n[r])&&n[r](t)}}var We=function(){function e(e,t,n,r){void 0===n&&(n=!1);this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e;var i="";Pe()&&(i=Ae().stringify(r));var a=(t?" message:"+Be(t):"")+(r?" props:"+Be(i):"");this.message+=a}return e.dataType="MessageData",e}();function Ge(e,t){return(e||{}).logger||new Ke(t)}var Ke=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};Object(s.a)(e,this,(function(e){function i(e,n){var r=t[e];return h(r)?n:r}function a(e,n){var r=He(t);r&&r.diagLog&&r.diagLog(e,n)}h(t)&&(t={}),e.consoleLoggingLevel=function(){return i("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return i("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return i("maxMessageLimit",25)},e.enableDebugExceptions=function(){return i("enableDebugExceptions",!1)},e.throwInternal=function(t,n,i,o,s){void 0===s&&(s=!1);var c=new We(n,i,s,o);if(e.enableDebugExceptions())throw c;var u=t===X.CRITICAL?"errorToConsole":"warnToConsole";if(g(c.message))a("throw"+(t===X.CRITICAL?"Critical":"Warning"),c);else{var l=e.consoleLoggingLevel();if(s){var f=+c.messageId;!r[f]&&l>=t&&(e[u](c.message),r[f]=!0)}else l>=t&&e[u](c.message);e.logInternalMessage(t,c)}},e.warnToConsole=function(e){ze("warn",e),a("warning",e)},e.errorToConsole=function(e){ze("error",e),a("error",e)},e.resetInternalMessageCount=function(){n=0,r={}},e.logInternalMessage=function(t,i){if(!(n>=e.maxInternalMessageLimit())){var o=!0,s="AITR_"+i.messageId;if(r[s]?o=!1:r[s]=!0,o&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(i),n++,a(t===X.CRITICAL?"error":"warn",i)),n===e.maxInternalMessageLimit())){var c="Internal events throttle limit per PageView reached for this app.",u=new We(ee.MessageLimitPerPVExceeded,c,!1);e.queue.push(u),t===X.CRITICAL?e.errorToConsole(c):e.warnToConsole(c)}}}}))},Qe=n(43),Xe=function(e,t){var n=this,r=null,i=C(e.processTelemetry),a=C(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return r},n.setNext=function(e){r=e},n.processTelemetry=function(o,s){s||(s=t);var c=e?e.identifier:"TelemetryPluginChain";Z(s?s.core():null,(function(){return c+":processTelemetry"}),(function(){if(e&&i){n._hasRun=!0;try{s.setNext(r),a&&e.setNextPlugin(r),r&&(r._hasRun=!1),e.processTelemetry(o,s)}catch(n){var t=r&&r._hasRun;r&&t||s.diagLog().throwInternal(X.CRITICAL,ee.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+De(n)),r&&!t&&r.processTelemetry(o,s)}}else r&&(n._hasRun=!0,r.processTelemetry(o,s))}),(function(){return{item:o}}),!o.sync)}};function Je(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var a=e[i];if(a&&C(a.processTelemetry)){var o=new Xe(a,t);n.push(o),r&&r.setNext(o),r=o}}return n.length>0?n[0]:null}var $e=function e(t,n,r,i){var a=this,o=null;null!==i&&(t&&C(t.getPlugin)?o=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var a=e.getPlugin();(i||a===n)&&(i=!0,r.push(a)),e=e.getNext()}return i||r.push(n),Je(r,t)}(t,a,i||t.getPlugin()):i?o=function(e,t,n){var r=e,i=!1;return n&&e&&(r=[],O(e,(function(e){(i||e===n)&&(i=!0,r.push(e))}))),n&&!i&&(r||(r=[]),r.push(n)),Je(r,t)}(t,a,i):g(i)&&(o=Je(t,a))),a.core=function(){return r},a.diagLog=function(){return Ge(r,n)},a.getCfg=function(){return n},a.getExtCfg=function(e,t){var r;if(void 0===t&&(t={}),n){var i=n.extensionConfig;i&&e&&(r=i[e])}return r||t},a.getConfig=function(e,t,r){var i;void 0===r&&(r=!1);var o=a.getExtCfg(e,null);return o&&!h(o[t])?i=o[t]:n&&!h(n[t])&&(i=n[t]),h(i)?r:i},a.hasNext=function(){return null!=o},a.getNext=function(){return o},a.setNext=function(e){o=e},a.processNext=function(e){var t=o;t&&(o=t.getNext(),t.processTelemetry(e,a))},a.createNew=function(t,i){return void 0===t&&(t=null),new e(t||o,n,r,i)}},Ye=function(){function e(){var e=this,t=!1,n=null,r=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){r=e},e.processNext=function(e,t){t?t.processNext(e):r&&C(r.processTelemetry)&&r.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var i=t;if(!i){var a=n||new $e(null,{},e.core);i=r&&r.getPlugin?a.createNew(null,r.getPlugin):a.createNew(null,r)}return i},e._baseTelInit=function(i,a,o,s){i&&z(i,"extensionConfig",[],null,h),!s&&a&&(s=a.getProcessTelContext().getNext());var c=r;r&&r.getPlugin&&(c=r.getPlugin()),e.core=a,n=new $e(s,i,a,c),t=!0}}return e.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},e}();function Ze(e,t){for(var n=[],r=null,i=e.getNext();i;){var a=i.getPlugin();a&&(r&&C(r.setNextPlugin)&&C(a.processTelemetry)&&r.setNextPlugin(a),C(a.isInitialized)&&a.isInitialized()||n.push(a),r=a,i=i.getNext())}O(n,(function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())}))}function et(e){return e.sort((function(e,t){var n=0,r=C(t.processTelemetry);return C(e.processTelemetry)?n=r?e.priority-t.priority:1:r&&(n=-1),n}))}var tt=function(e){function t(){var n,r=e.call(this)||this;function i(e){e&&e.length>0&&(function(e){O(e,(function(e){e.priority<500&&K("Channel has invalid priority"+e.identifier)}))}(e=e.sort((function(e,t){return e.priority-t.priority}))),n.push(e))}return r.identifier="ChannelControllerPlugin",r.priority=500,Object(s.a)(t,r,(function(e,t){e.setNextPlugin=function(e){},e.processTelemetry=function(e,t){n&&O(n,(function(n){n.length>0&&r._getTelCtx(t).createNew(n).processNext(e)}))},e.getChannelControls=function(){return n},e.initialize=function(r,a,o){e.isInitialized()||(t.initialize(r,a,o),function(e,t){n=[],e&&O(e,(function(e){return i(e)}));if(t){var r=[];O(t,(function(e){e.priority>500&&r.push(e)})),i(r)}}((r||{}).channels,o),O(n,(function(e){return Ze(new $e(e,r,a),o)})))}})),r}var n;return Object(Qe.a)(t,e),t._staticInit=(F(n=t.prototype,"ChannelControls",n.getChannelControls),void F(n,"channelQueue",n.getChannelControls)),t}(Ye),nt=null,rt=null,it=null,at=Ie(),ot={},st={};function ct(e,t){var n=ft._ckMgr||st._ckMgr;return n||(n=ft._ckMgr=ft(e,t),st._ckMgr=n),n}function ut(e){return!e||e.isEnabled()}function lt(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;n=r._ckMgr?r._ckMgr:ft(t)}return n||(n=ct(t,(e||{}).logger)),n}function ft(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if(z(t,"domain",e.cookieDomain,v,h),z(t,"path",e.cookiePath||"/",null,h),h(t.enabled)){var n=void 0;g(e.isCookieUseDisabled)||(n=!e.isCookieUseDisabled),g(e.disableCookiesUsage)||(n=!e.disableCookiesUsage),t.enabled=n}return t}(e||st),r=n.path||"/",i=n.domain,a=!1!==n.enabled,o={isEnabled:function(){var e=a&&dt(t),n=st._ckMgr;return e&&n&&o!==n&&(e=ut(n)),e},setEnabled:function(e){a=!1!==e},set:function(e,t,a,s,c){var u=!1;if(ut(o)){var l={},f=L(t||""),d=f.indexOf(";");if(-1!==d&&(f=L(t.substring(0,d)),l=pt(t.substring(d+1))),z(l,"domain",s||i,G,g),!h(a)){var p=Ne();if(g(l.expires)){var v=H()+1e3*a;if(v>0){var m=new Date;m.setTime(v),z(l,"expires",gt(m,p?"toGMTString":"toUTCString")||gt(m,p?"toGMTString":"toUTCString")||"",G)}}p||z(l,"max-age",""+a,null,g)}var y=xe();y&&"https:"===y.protocol&&(z(l,"secure",null,null,g),null===rt&&(rt=!yt((we()||{}).userAgent)),rt&&z(l,"SameSite","None",null,g)),z(l,"path",c||r,null,g),(n.setCookie||mt)(e,ht(f,l)),u=!0}return u},get:function(e){var t="";return ut(o)&&(t=(n.getCookie||vt)(e)),t},del:function(e,t){var n=!1;return ut(o)&&(n=o.purge(e,t)),n},purge:function(e,r){var i,a=!1;if(dt(t)){var o=((i={}).path=r||"/",i.expires="Thu, 01 Jan 1970 00:00:01 GMT",i);Ne()||(o["max-age"]="0"),(n.delCookie||mt)(e,ht("",o)),a=!0}return a}};return o._ckMgr=o,o}function dt(e){if(null===nt){nt=!1;try{nt=void 0!==(at||{}).cookie}catch(t){e&&e.throwInternal(X.WARNING,ee.CannotAccessCookie,"Cannot access document.cookie - "+B(t),{exception:De(t)})}}return nt}function pt(e){var t={};e&&e.length&&O(L(e).split(";"),(function(e){if(e=L(e||"")){var n=e.indexOf("=");-1===n?t[e]=null:t[L(e.substring(0,n))]=L(e.substring(n+1))}}));return t}function gt(e,t){return C(e[t])?e[t]():null}function ht(e,t){var n=e||"";return T(t,(function(e,t){n+="; "+e+(h(t)?"":"="+t)})),n}function vt(e){var t="";if(at){var n=at.cookie||"";it!==n&&(ot=pt(n),it=n),t=L(ot[e]||"")}return t}function mt(e,t){at&&(at.cookie=e+"="+t)}function yt(e){return!!P(e)&&(!(!w(e,"CPU iPhone OS 12")&&!w(e,"iPad; CPU OS 12"))||(!!(w(e,"Macintosh; Intel Mac OS X 10_14")&&w(e,"Version/")&&w(e,"Safari"))||(!(!w(e,"Macintosh; Intel Mac OS X 10_14")||!I(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))||(!(!w(e,"Chrome/5")&&!w(e,"Chrome/6"))||(!(!w(e,"UnrealEngine")||w(e,"Chrome"))||!(!w(e,"UCBrowser/12")&&!w(e,"UCBrowser/11")))))))}function Ct(e,t){return new Y(t)}var bt=0,Tt=1,It=2,St=4,wt=5,Et=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;Object(s.a)(e,this,(function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=D(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=D(e.listeners,t)},e.eventsSent=function(t){O(e.listeners,(function(e){e&&e.eventsSent&&setTimeout((function(){return e.eventsSent(t)}),0)}))},e.eventsDiscarded=function(t,n){O(e.listeners,(function(e){e&&e.eventsDiscarded&&setTimeout((function(){return e.eventsDiscarded(t,n)}),0)}))},e.eventsSendRequest=function(t,n){O(e.listeners,(function(e){if(e&&e.eventsSendRequest)if(n)setTimeout((function(){return e.eventsSendRequest(t,n)}),0);else try{e.eventsSendRequest(t,n)}catch(e){}}))},e.perfEvent=function(t){t&&(!n&&t.isChildEvt()||O(e.listeners,(function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout((function(){return e.perfEvent(t)}),0);else try{e.perfEvent(t)}catch(e){}})))}}))},xt=function(e){function t(){var n=e.call(this)||this,r=0;return Object(s.a)(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],It)}e.initialize=function(e,n,r,i){t.initialize(e,n,r||new Ke(e),i||new Et(e))},e.track=function(r){Z(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(n(r),K("Invalid telemetry item")),function(e){if(h(e.name))throw n(e),Error("telemetry name required")}(r),t.track(r)}),(function(){return{item:r}}),!r.sync)},e.addNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.addNotificationListener(t)},e.removeNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.removeNotificationListener(t)},e.pollInternalLogs=function(t){var n=e.config.diagnosticLogInterval;return n&&n>0||(n=1e4),r&&e.stopPollingInternalLogs(),r=setInterval((function(){var n=e.logger?e.logger.queue:[];O(n,(function(n){var r={name:t||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:N(new Date),baseType:We.dataType,baseData:{message:n.message}};e.track(r)})),n.length=0}),n)},e.stopPollingInternalLogs=function(){r&&(clearInterval(r),r=0)}})),n}return Object(Qe.a)(t,e),t}((function e(){var t,n,r,i,a,o=!1;Object(s.a)(e,this,(function(e){e._extensions=new Array,n=new tt,e.logger=new Ke({loggingLevelConsole:X.CRITICAL}),t=[],e.isInitialized=function(){return o},e.initialize=function(t,i,a,s){var c,u,l,f;e.isInitialized()&&K("Core should not be initialized more than once"),t&&!h(t.instrumentationKey)||K("Please provide instrumentation key"),r=s,e._notificationManager=s,e.config=t||{},s&&!0!==e.config.disableDbgExt&&s.addNotificationListener(function(e){if(!Ue){Ue={};for(var t=0;t<je.length;t++)Ue[je[t]]=qe(je[t],e)}return Ue}(t)),e.config.enablePerfMgr&&z(e.config,"createPerfMgr",Ct),t.extensions=h(t.extensions)?[]:t.extensions,(u="extensionConfig",(c=t)?!(f=c[u])&&h(f)&&(f=g(l)?{}:l,c[u]=f):f=g(l)?{}:l,f).NotificationManager=s,a&&(e.logger=a);var d=[];d.push.apply(d,Object(Qe.b)(Object(Qe.b)([],i,!1),t.extensions,!1)),d=et(d);var p=[],v=[],m={};O(d,(function(e){(h(e)||h(e.initialize))&&K("Extensions must provide callback to initialize");var t=e.priority,r=e.identifier;e&&t&&(h(m[t])?m[t]=r:a.warnToConsole("Two extensions have same priority #"+t+" - "+m[t]+", "+r)),!t||t<n.priority?p.push(e):v.push(e)})),d.push(n),p.push(n),d=et(d),e._extensions=d,Ze(new $e([n],t,e),d),Ze(new $e(p,t,e),d),e._extensions=p,0===e.getTransmissionControls().length&&K("No channels available"),o=!0,e.releaseQueue()},e.getTransmissionControls=function(){return n.getChannelControls()},e.track=function(n){z(n,"iKey",e.config.instrumentationKey,null,W),z(n,"time",N(new Date),null,W),z(n,"ver","4.0",null,h),e.isInitialized()?e.getProcessTelContext().processNext(n):t.push(n)},e.getProcessTelContext=function(){var t=e._extensions,r=t;return t&&0!==t.length||(r=[n]),new $e(r,e.config,e)},e.getNotifyMgr=function(){return r||(r=Object(u.b)({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),e._notificationManager=r),r},e.getCookieMgr=function(){return a||(a=ft(e.config,e.logger)),a},e.setCookieMgr=function(e){a=e},e.getPerfMgr=function(){return i||e.config&&e.config.enablePerfMgr&&C(e.config.createPerfMgr)&&(i=e.config.createPerfMgr(e,e.getNotifyMgr())),i||J},e.setPerfMgr=function(e){i=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){t.length>0&&(O(t,(function(t){e.getProcessTelContext().processNext(t)})),t=[])}}))})),kt=n(3),Pt=n(15),At=!1,_t=123456789,Nt=987654321;function Ot(e){e<0&&(e>>>=0),_t=123456789+e&4294967295,Nt=987654321-e&4294967295,At=!0}function Dt(){try{var e=2147483647&H();Ot((4294967296*Math.random()^e)+e)}catch(e){}}function Rt(e){return e>0?Math.floor(Mt()/4294967295*(e+1))>>>0:0}function Mt(e){var t,n=Ce("crypto")||Ce("msCrypto");return n&&n.getRandomValues?t=4294967295&n.getRandomValues(new Uint32Array(1))[0]:Ne()?(At||Dt(),t=4294967295&Vt()):t=Math.floor(4294967296*Math.random()|0),e||(t>>>=0),t}function Lt(e){e?Ot(e):Dt()}function Vt(e){var t=((Nt=36969*(65535&Nt)+(Nt>>16)&4294967295)<<16)+(65535&(_t=18e3*(65535&_t)+(_t>>16)&4294967295))>>>0&4294967295|0;return e||(t>>>=0),t}var Ut,jt=null;c.l;function Ft(e,t){var n=!1,r=Te();r&&(n=b(r,e,t),n=b(r.body,e,t)||n);var i=Ie();return i&&(n=b(i,e,t)||n),n}function qt(e,t){return function e(t,n,r){var i=!1;if(n&&t&&x(t)){var a=[];O(t,(function(e){P(e)&&(r&&-1!==D(r,e)?a.push(e):i=Ft(e,n)||i)})),!i&&a.length>0&&(i=e(a,n))}return i}(["beforeunload","unload","pagehide"],e,t)}function Ht(e,t){var n=!1;return t&&-1!==D(t,"pagehide")||(n=Ft("pagehide",e)),t&&-1!==D(t,"visibilitychange")||(n=Ft("visibilitychange",(function(t){var n=Ie();e&&n&&"hidden"===n.visibilityState&&e(t)}))||n),!n&&t&&(n=Ht(e)),n}function Bt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Xt,(function(e){var t=0|Rt(15);return("x"===e?t:3&t|8).toString(16)}))}function zt(){var e=ke();return e&&e.now?e.now():H()}function Wt(e){void 0===e&&(e=22);for(var t=Mt()>>>0,n=0,r="";r.length<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(Mt()<<2&4294967295|3&t)>>>0,n=0);return r}function Gt(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=Mt())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&Mt())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}var Kt,Qt={_canUseCookies:void 0,isTypeof:p,isUndefined:g,isNullOrUndefined:h,hasOwnProperty:m,isFunction:C,isObject:y,isDate:E,isArray:x,isError:k,isString:P,isNumber:A,isBoolean:_,toISOString:N,arrForEach:O,arrIndexOf:D,arrMap:R,arrReduce:M,strTrim:L,objCreate:u.b,objKeys:j,objDefineAccessors:F,addEventHandler:Ft,dateNow:H,isIE:Ne,disableCookies:$t,newGuid:Bt,perfNow:zt,newId:Wt,randomValue:Rt,random32:Mt,mwcRandomSeed:Lt,mwcRandom32:Vt,generateW3CId:Gt},Xt=/[xy]/g;function Jt(e,t){var n=ct(e,t),r=Qt._canUseCookies;return null===jt&&(jt=[],Ut=r,F(Qt,"_canUseCookies",(function(){return Ut}),(function(e){Ut=e,O(jt,(function(t){t.setEnabled(e)}))}))),-1===D(jt,n)&&jt.push(n),_(r)&&n.setEnabled(r),_(Ut)&&n.setEnabled(Ut),n}function $t(){Jt().setEnabled(!1)}var Yt=((Kt={})[0]=ce,Kt[2]=le,Kt[1]=ue,Kt[3]=fe,Kt[4098]=le,Kt[4097]=ue,Kt[4099]=fe,Kt),Zt=Boolean(Ie()),en=Boolean(Te());function tn(e){return!(""===e||h(e))}function nn(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return""}function rn(e){return!!(e&&A(e)&&e>=ie&&e<=se)}function an(e,t,n){if(!t&&!tn(t)||"string"!=typeof e)return null;var r=typeof t;if("string"===r||"number"===r||"boolean"===r||x(t))t={value:t};else if("object"!==r||t.hasOwnProperty("value")){if(h(t.value)||""===t.value||!P(t.value)&&!A(t.value)&&!_(t.value)&&!x(t.value))return null}else t={value:n?JSON.stringify(t):t};if(x(t.value)&&!pn(t.value))return null;if(!h(t.kind)){if(x(t.value)||!dn(t.kind))return null;t.value=t.value.toString()}return t}function on(e,t,n){var r=-1;if(!g(e))if(t>0&&(32===t?r=8192:t<=13&&(r=t<<5)),function(e){if(e>=0&&e<=9)return!0;return!1}(n))-1===r&&(r=0),r|=n;else{var i=Yt[hn(e)]||-1;-1!==r&&-1!==i?r|=i:i===le&&(r=i)}return r}function sn(e){return dt(null)?cn(lt(null),e):""}function cn(e,t,n){var r;return void 0===n&&(n=!0),e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||""}function un(e){void 0===e&&(e="D");var t=Bt();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}function ln(e,t,n,r,i){var a={},o=!1,s=0,u=arguments.length,l=Object[c.k],f=arguments;for("[object Boolean]"===l.toString.call(f[0])&&(o=f[0],s++);s<u;s++){T(e=f[s],(function(e,t){o&&t&&y(t)?x(t)?(a[e]=a[e]||[],O(t,(function(t,n){t&&y(t)?a[e][n]=ln(!0,a[e][n],t):a[e][n]=t}))):a[e]=ln(!0,a[e],t):a[e]=t}))}return a}var fn=zt;function dn(e){return e===te||e>te&&e<=ne||e===re}function pn(e){return e.length>0}function gn(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=fn()}function hn(e){var t=0;if(null!=e){var n=typeof e;"string"===n?t=1:"number"===n?t=2:"boolean"===n?t=3:n===kt.j&&(t=4,x(e)?(t=4096,e.length>0&&(t|=hn(e[0]))):m(e,"value")&&(t=8192|hn(e.value)))}return t}c.l,c.j,c.l,Pt.b;function vn(e,t,n,r,i){function a(e,t,n){try{e[t]=n}catch(e){}}void 0===r&&(r=!1),void 0===i&&(i=!1);var o=new XMLHttpRequest;return r&&a(o,"Microsoft_ApplicationInsights_BypassAjaxInstrumentation",r),n&&a(o,"withCredentials",n),o.open(e,t,!i),n&&a(o,"withCredentials",n),o}var mn=function(e){function t(){var n=e.call(this)||this;return n.pluginVersionStringArr=[],n.pluginVersionString="",Object(s.a)(t,n,(function(e,t){e.logger&&e.logger.queue||(e.logger=new Ke({loggingLevelConsole:X.CRITICAL})),e.initialize=function(n,r,i,a){Z(e,(function(){return"AppInsightsCore.initialize"}),(function(){if(n){n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var o=n.propertyStorageOverride;if(o&&(!o.getProperty||!o.setProperty))throw new Error("Invalid property storage override passed.");n.channels&&O(n.channels,(function(t){t&&O(t,(function(t){if(t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}}))}))}e.getWParam=function(){return"undefined"!=typeof document?0:-1},r&&O(r,(function(t){if(t&&t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}})),e.pluginVersionString=e.pluginVersionStringArr.join(";");try{t.initialize(n,r,i,a),e.pollInternalLogs("InternalLog")}catch(t){var s=e.logger,c=De(t);-1!==c.indexOf("channels")&&(c+="\n - Channels must be provided through config.channels only!"),s.throwInternal(X.CRITICAL,de.FailedToInitializeSDK,"SDK Initialization Failed - no telemetry will be sent: "+c)}}),(function(){return{config:n,extensions:r,logger:i,notificationManager:a}}))},e.track=function(n){Z(e,(function(){return"AppInsightsCore.track"}),(function(){var r=n;if(r){r.timings=r.timings||{},r.timings.trackStart=fn(),rn(r.latency)||(r.latency=ie);var i=r.ext=r.ext||{};i.sdk=i.sdk||{},i.sdk.ver="1DS-Web-JS-3.1.10";var a=r.baseData=r.baseData||{};a.properties||(a.properties={});var o=a.properties;o.version||(o.version=""),""!==e.pluginVersionString&&(o.version=e.pluginVersionString)}t.track(r)}),(function(){return{item:n}}),!n.sync)}})),n}return Object(o.b)(t,e),t}(xt),yn=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function Cn(e,t){void 0===t&&(t=yn);var n=null;if(e)for(var r=e.split(","),i=0;i<r.length;i++)bn(r[i],t)&&(n?n+=","+r[i]:n=r[i]);return n}function bn(e,t){if(void 0===t&&(t=yn),!e||e.length<4)return!1;for(var n=!1,r=e.substring(0,3).toString().toUpperCase(),i=0;i<t.length;i++)if(t[i]+":"===r&&e.length<=256){n=!0;break}return n}var Tn=function(){function e(e,t){this.core=t,this.appExpId=null,this.flightIdNameSpaces=yn.slice(0),this.expIdCookieName="Treatments",this._cookieMgr=lt(t),this._propertiesConfig=e;var n=Ie();if(n){var r=n.documentElement;n&&(this.locale=r.lang)}this.env=e.env?e.env:this._getMetaDataFromDOM("awa-").env}return e.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},e.prototype._getMetaDataFromDOM=function(e){var t,n={},r=Ie();if(r){t=r&&r.querySelectorAll("meta");for(var i=0;i<t.length;i++){var a=t[i];if(a.name)if(0===a.name.toLowerCase().indexOf(e))n[a.name.replace(e,"")]=a.content}}return n},e.prototype._setAppExpId=function(e){e!==this.appExpId&&(this.appExpId=Cn(e,this.flightIdNameSpaces))},e.prototype._getAppExpId=function(){return this.appExpId},e.prototype._readExpIdFromCookie=function(){var e=cn(this._cookieMgr,this.expIdCookieName);return this._setAppExpId(e),this._getAppExpId()},e.prototype._readExpIdFromCoreData=function(e){return this._setAppExpId(e),this._getAppExpId()},e.validateAppExpId=Cn,e._staticInit=void F(e.prototype,"expId",e.prototype.getExpId),e}(),In=function(){},Sn=function(){function e(t,n,r){this.core=r,this._propertiesConfig=n;var i=this._cookieMgr=lt(r,t);if(i&&i.isEnabled()){if(!this._propertiesConfig.hashIdentifiers&&!this._propertiesConfig.dropIdentifiers){var a=cn(i,"MUID");a&&this.setLocalId("t:"+a)}if(this._propertiesConfig.enableApplicationInsightsUser){var o=cn(i,e.userCookieName);if(o){var s=o.split(e.cookieSeparator);s.length>0&&(this.id=s[0])}if(!this.id){this.id=Wt(t&&!g(t.idLength)?t.idLength:22);var c=N(new Date);this.accountAcquisitionDate=c;var u=[this.id,c],l=this._propertiesConfig.cookieDomain?this._propertiesConfig.cookieDomain:void 0;i.set(e.userCookieName,u.join(e.cookieSeparator),31536e3,l)}}}if("undefined"!=typeof navigator){var f=navigator;this.locale=f.userLanguage||f.language}}return e.prototype.getLocalId=function(){if(this._customLocalId)return this._customLocalId;if(!this._propertiesConfig.hashIdentifiers&&!this._propertiesConfig.dropIdentifiers){var e=cn(this._cookieMgr,"MUID");e&&this.setLocalId("t:"+e)}},e.prototype.setLocalId=function(e){this._customLocalId=e},e.cookieSeparator="|",e.userCookieName="ai_user",e._staticInit=void F(e.prototype,"localId",e.prototype.getLocalId,e.prototype.setLocalId),e}(),wn=[{ua:"OPR/",b:"Opera"},{ua:"PhantomJS",b:"PhantomJS"},{ua:"Edge",b:"Edge"},{ua:"Edg/",b:"Edge"},{ua:"Electron",b:"Electron"},{ua:"Chrome",b:"Chrome"},{ua:"Trident",b:"MSIE"},{ua:"MSIE ",b:"MSIE"},{ua:"Firefox",b:"Firefox"},{ua:"Safari",b:"Safari"},{ua:"SkypeShell",b:"SkypeShell"}],En=[{br:"Microsoft Edge",b:"Edge"},{br:"Google Chrome",b:"Chrome"},{br:"Opera",b:"Opera"}];function xn(e,t){return t.indexOf(e)>-1}function kn(e,t){for(var n=0;n<t.length;n++)if(e==t[n].brand)return t[n].version;return null}function Pn(e,t){return"MSIE"===t?function(e){var t=e.match(new RegExp("MSIE ([\\d,.]+)"));if(t)return t[1];var n=e.match(new RegExp("rv:([\\d,.]+)"));if(n)return n[1]}(e):function(e,t){"Safari"===e?e="Version":"Edge"===e&&xn("Edg/",t)&&(e="Edg");var n=t.match(new RegExp(e+"/([\\d,.]+)"));if(n)return n[1];if("Opera"===e&&(n=t.match(new RegExp("OPR/([\\d,.]+)"))))return n[1];return"Unknown"}(t,e)}var An=function(){function e(t,n){var r=lt(n),i=t||{};Object(s.a)(e,this,(function(e){var t=xe();if(t){var n=t.hostname;n&&(e.domain="file:"===t.protocol?"local":n)}if(i.populateBrowserInfo){var a=i.userAgent,o=(i.userAgentData||{}).brands,s=we();s&&(a=a||s.userAgent||"",o=o||(s.userAgentData||{}).brands),function(t,n){if(x(n))try{for(var r=0;r<En.length;r++){var i=kn(En[r].br,n);if(i)return e.browser=En[r].b,void(e.browserVer=i)}}catch(e){}if(t){var a=function(e){if(e)for(var t=0;t<wn.length;t++){if(xn(wn[t].ua,e))return wn[t].b}return"Unknown"}(t);e.browser=a,e.browserVer=Pn(t,a)}}(a,o);var c=function(){var e={h:0,w:0},t=Te();return t&&t.screen&&(e.h=screen.height,e.w=screen.width),e}();e.screenRes=c.w+"X"+c.h}e.getUserConsent=function(){return i.userConsented||!!cn(r,i.userConsentCookieName||"MSCC")},e.getUserConsentDetails=function(){try{var e=i.callback;if(e&&e.userConsentDetails){var t=e.userConsentDetails();if(t)return JSON.stringify({Required:t.Required||!1,Analytics:t.Analytics||!1,SocialMedia:t.SocialMedia||!1,Advertising:t.Advertising||!1})}}catch(e){}return null},F(e,"userConsent",e.getUserConsent)}))}return e._staticInit=void F(e.prototype,"userConsent",e.prototype.getUserConsent),e}(),_n={WIN:/(windows|win32)/i,WINRT:/ arm;/i,WINPHONE:/windows\sphone\s\d+\.\d+/i,OSX:/(macintosh|mac os x)/i,IOS:/(ipad|iphone|ipod)(?=.*like mac os x)/i,LINUX:/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,ANDROID:/android/i,CROS:/CrOS/i},Nn={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},On=[{r:_n.WINPHONE,os:"Windows Phone"},{r:_n.WINRT,os:"Windows RT"},{r:_n.WIN,os:"Windows"},{r:_n.IOS,os:"iOS"},{r:_n.ANDROID,os:"Android"},{r:_n.LINUX,os:"Linux"},{r:_n.CROS,os:"Chrome OS"},{s:"x11",os:"Unix"},{s:"blackberry",os:"BlackBerry"},{s:"symbian",os:"Symbian"},{s:"nokia",os:"Nokia"},{r:_n.OSX,os:"Mac OS X"}];function Dn(e,t){return"Windows"===t?Rn(e,"Windows NT"):"Android"===t?Rn(e,t):"Mac OS X"===t?function(e){var t=e.match(new RegExp("Mac OS X ([\\d,_,.]+)"));if(t){var n=t[1].replace(/_/g,".");if(n){var r=Mn(n);return r?n.split(r)[0]:n}}return"Unknown"}(e):"iOS"===t?function(e){var t=e.match(new RegExp("OS ([\\d,_,.]+)"));if(t){var n=t[1].replace(/_/g,".");if(n){var r=Mn(n);return r?n.split(r)[0]:n}}return"Unknown"}(e):"Unknown"}function Rn(e,t){var n=e.match(new RegExp(t+" ([\\d,.]+)"));return n?Nn[n[1]]?Nn[n[1]]:n[1]:"Unknown"}function Mn(e){return e.indexOf(".")>-1?".":e.indexOf("_")>-1?"_":null}var Ln=function(e){if(e.populateOperatingSystemInfo){var t=we()||{},n=e.userAgent||t.userAgent||"",r=e.userAgentData||t.userAgentData||{};if(n){var i=function(e){for(var t=0;t<On.length;t++){var n=On[t];if(n.r&&e.match(n.r))return n.os;if(n.s&&-1!==e.indexOf(n.s))return n.os}return"Unknown"}(n.toLowerCase());this.name=i,this.ver=Dn(n,i)}this.name&&"Unknown"!==this.name||!P(r.platform)||(this.name=r.platform)}},Vn=function(){function e(e,t){this.core=t,e.serviceName&&(this.serviceName=e.serviceName),this._cookieMgr=lt(t)}return e.prototype.getMsfpc=function(){return cn(this._cookieMgr,"MSFPC")},e.prototype.getAnid=function(){return cn(this._cookieMgr,"ANON").slice(0,34)},e._staticInit=(F(e.prototype,"msfpc",e.prototype.getMsfpc),void F(e.prototype,"anid",e.prototype.getAnid)),e}(),Un=function(e){this.popSample=100,this.eventFlags=0,e.hashIdentifiers&&(this.eventFlags=1048576|this.eventFlags),e.dropIdentifiers&&(this.eventFlags=2097152|this.eventFlags)},jn=function(){var e=(new Date).getTimezoneOffset(),t=e%60,n=(e-t)/60,r="+";n>0&&(r="-"),n=Math.abs(n),t=Math.abs(t),this.tz=r+(n<10?"0"+n:n.toString())+":"+(t<10?"0"+t:t.toString())},Fn=function(){},qn=function(){function e(){}return e.prototype.setId=function(e){this.customId=e},e.prototype.getId=function(){return P(this.customId)?this.customId:this.automaticId},e._staticInit=void F(e.prototype,"id",e.prototype.getId,e.prototype.setId),e}(),Hn=function(e,t,n,r){if(e.enableApplicationInsightsTrace){this.traceId=t||Gt(),this.parentId=n,this.name=r;var i=xe();i&&i.pathname&&(this.name=i.pathname)}},Bn=q({id:"id",ver:"ver",appName:"name",locale:"locale",expId:"expId",env:"env"}),zn=q({domain:"domain",browser:"browser",browserVer:"browserVer",screenRes:"screenRes",userConsent:"userConsent",consentDetails:"consentDetails"}),Wn=q({locale:"locale",localId:"localId",id:"id"}),Gn=q({osName:"name",ver:"ver"}),Kn=q({ver:"ver",seq:"seq",installId:"installId",epoch:"epoch"}),Qn=q({msfpc:"msfpc",anid:"anid",serviceName:"serviceName"}),Xn=q({popSample:"popSample",eventFlags:"eventFlags"}),Jn=q({tz:"tz"}),$n=q({sessionId:"sesId"}),Yn=q({localId:"localId",deviceClass:"deviceClass",make:"make",model:"model"}),Zn=q({role:"role",roleInstance:"roleInstance",roleVer:"roleVer"}),er=q({traceId:"traceID",traceName:"name",parentId:"parentID"}),tr=q({UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SdkExt:"sdk",IntWebExt:"intweb",UtcExt:"utc",LocExt:"loc",CloudExt:"cloud"}),nr="MicrosoftApplicationsTelemetryDeviceId";var rr,ir,ar=function(){function e(e,t){this._sequenceId=0;var n=e.propertyStorageOverride;this.seq=this._sequenceId,this.epoch=Mt(!1).toString();var r=lt(t,e);if(r.isEnabled()||n){var i=function(e,t,n){return t?t.getProperty(n)||"":cn(e,n)}(r,n,nr);i||(i=Bt()),function(e,t,n,r){t?t.setProperty(n,r):e.set(n,r,31536e3)}(r,n,nr,i),this.installId=i}else r.purge(nr)}return e.prototype.getSequenceId=function(){return++this._sequenceId},e}();function or(){return void 0===rr&&(rr=!!cr(ir.LocalStorage)),rr}function sr(){return or()?cr(ir.LocalStorage):null}function cr(e){var t,n,r=null;try{var i=Object(u.a)();if(!i)return null;n=new Date,(r=e===ir.LocalStorage?i.localStorage:i.sessionStorage)&&C(r.setItem)&&(r.setItem(n,n),t=r.getItem(n)!==n,r.removeItem(n),t&&(r=null))}catch(e){r=null}return r}!function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"}(ir||(ir={}));var ur=function(){function e(t,n){var r,i,a=Ge(t),o=lt(t);Object(s.a)(e,this,(function(t){var s,c={sessionRenewalMs:(s=n).sessionRenewalMs&&function(){return s.sessionRenewalMs},sessionExpirationMs:s.sessionExpirationMs&&function(){return s.sessionExpirationMs},cookieDomain:s.cookieDomain&&function(){return s.cookieDomain},namePrefix:s.namePrefix&&function(){return s.namePrefix},sessionAsGuid:function(){return s.sessionAsGuid},idLength:function(){return s.idLength?s.idLength:22}};function u(e){var n=t.automaticSession,r=e.split("|");r.length>0&&n.setId(r[0]);try{if(r.length>1){var i=+r[1];n.acquisitionDate=+new Date(i),n.acquisitionDate=n.acquisitionDate>0?n.acquisitionDate:0}if(r.length>2){var o=+r[2];n.renewalDate=+new Date(o),n.renewalDate=n.renewalDate>0?n.renewalDate:0}}catch(e){a.throwInternal(X.CRITICAL,de.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+e)}0===n.renewalDate&&a.throwInternal(X.WARNING,de.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")}function l(){var e=t.automaticSession,n=(new Date).getTime(),r=t.config.sessionAsGuid();!g(r)&&r?_(r)?e.setId(un()):e.setId(un(r)):e.setId(Wt(c&&c.idLength?c.idLength():22)),e.acquisitionDate=n,e.renewalDate=n,f(e.getId(),e.acquisitionDate,e.renewalDate),or()||a.throwInternal(X.WARNING,de.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function f(e,n,a){var s=n+t.config.sessionExpirationMs(),c=a+t.config.sessionRenewalMs(),u=new Date,l=[e,n,a];s<c?u.setTime(s):u.setTime(c);var f=t.config.cookieDomain?t.config.cookieDomain():null;o.set(i(),l.join("|")+";expires="+u.toUTCString(),null,f),r=(new Date).getTime()}C(n.sessionExpirationMs)||(c.sessionExpirationMs=function(){return e.acquisitionSpan}),C(n.sessionRenewalMs)||(c.sessionRenewalMs=function(){return e.renewalSpan}),t.config=c,i=function(){return t.config.namePrefix&&t.config.namePrefix()?e.cookieNameConst+t.config.namePrefix():e.cookieNameConst},t.automaticSession=new qn,t.update=function(){t.automaticSession.getId()||function(){var e=sn(i());if(e&&C(e.split))u(e);else{var n=function(e,t){var n=sr();if(null!==n)try{return n.getItem(t)}catch(t){rr=!1,e.throwInternal(X.CRITICAL,de.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+t)}return null}(a,i());n&&u(n)}t.automaticSession.getId()||l()}();var n=t.automaticSession,o=t.config,s=(new Date).getTime(),c=s-n.acquisitionDate>o.sessionExpirationMs(),d=s-n.renewalDate>o.sessionRenewalMs();if(c||d)l();else{(!r||s-r>e.cookieUpdateInterval)&&(n.renewalDate=s,f(n.getId(),n.acquisitionDate,n.renewalDate))}},t.backup=function(){var e,n,r,o=t.automaticSession;e=o.getId(),n=o.acquisitionDate,r=o.renewalDate,function(e,t,n){var r=sr();if(null!==r)try{r.setItem(t,n)}catch(t){rr=!1,e.throwInternal(X.CRITICAL,de.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+t)}}(a,i(),[e,n,r].join("|"))}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e.cookieNameConst="ai_session",e}(),lr=P,fr=function(){function e(e,t,n){this.app=new Tn(t,n),this.cloud=new In,this.user=new Sn(e,t,n),this.os=new Ln(t),this.web=new An(t,n),this.sdk=new ar(e,n),this.intWeb=new Vn(t,n),this.utc=new Un(t),this.loc=new jn,this.device=new Fn,this.telemetryTrace=new Hn(t),this.sessionManager=new ur(n,t),this.session=new qn}return e.prototype.getSessionId=function(){var e=this.session;if(e&&lr(e.customId))return e.customId;var t=this.sessionManager;t.update();var n=t.automaticSession;if(n){var r=n.getId();r&&lr(r)&&(e.automaticId=r)}return e.automaticId},e.prototype.applyApplicationContext=function(e){var t=this.app,n=e.ext[tr.AppExt];z(n,Bn.id,t.id,lr),z(n,Bn.ver,t.ver,lr),z(n,Bn.appName,t.name,lr),z(n,Bn.locale,t.locale,lr),z(n,Bn.expId,t.getExpId(),lr),z(n,Bn.env,t.env,lr)},e.prototype.applyUserContext=function(e){var t=this.user,n=e.ext[tr.UserExt];z(n,Wn.localId,t.getLocalId(),lr),z(n,Wn.locale,t.locale,lr),z(n,Wn.id,t.id,lr)},e.prototype.applyWebContext=function(e){var t=this.web,n=e.ext[tr.WebExt];z(n,zn.domain,t.domain,lr),z(n,zn.browser,t.browser,lr),z(n,zn.browserVer,t.browserVer,lr),z(n,zn.screenRes,t.screenRes,lr),n[zn.userConsent]=t.getUserConsent(),n[zn.consentDetails]=t.getUserConsentDetails()},e.prototype.applyOsContext=function(e){var t=this.os,n=e.ext[tr.OSExt];z(n,Gn.osName,t.name,lr),z(n,Gn.ver,t.ver,lr)},e.prototype.applySdkContext=function(e){var t=this.sdk,n=e.ext[tr.SdkExt];n[Kn.seq]=t.getSequenceId(),n[Kn.epoch]=t.epoch,z(n,Kn.installId,t.installId,lr)},e.prototype.applyIntWebContext=function(e){var t=this.intWeb,n=e.ext[tr.IntWebExt];z(n,Qn.msfpc,t.getMsfpc(),lr),z(n,Qn.anid,t.getAnid(),lr),z(n,Qn.serviceName,t.serviceName,lr)},e.prototype.applyUtcContext=function(e){var t=this.utc,n=e.ext[tr.UtcExt];n[Xn.popSample]=t.popSample,t.eventFlags>0&&(n[Xn.eventFlags]=t.eventFlags)},e.prototype.applyLocContext=function(e){e.ext[tr.LocExt][Jn.tz]=this.loc.tz},e.prototype.applySessionContext=function(e){e.ext[tr.AppExt][$n.sessionId]=this.getSessionId()},e.prototype.applyDeviceContext=function(e){var t=this.device,n=e.ext[tr.DeviceExt];z(n,Yn.localId,t.localId,lr),z(n,Yn.make,t.make,lr),z(n,Yn.model,t.model,lr),z(n,Yn.deviceClass,t.deviceClass,lr)},e.prototype.applyCloudContext=function(e){var t=this.cloud,n=e.ext[tr.CloudExt];z(n,Zn.role,t.role,lr),z(n,Zn.roleInstance,t.roleInstance,lr),z(n,Zn.roleVer,t.roleVer,lr)},e.prototype.applyAITraceContext=function(e){var t=this.telemetryTrace,n=e.ext[tr.TraceExt];z(n,er.traceId,t.traceId,lr),z(n,er.traceName,t.name,lr),z(n,er.parentId,t.parentId,lr)},e}(),dr=function(e){function t(){var n,r=e.call(this)||this;r.identifier="SystemPropertiesCollector",r.priority=3,r.version="3.1.10";var i={};return Object(s.a)(t,r,(function(t,a){t.initialize=function(i,a,o){e.prototype.initialize.call(r,i,a,o),n=new fr(i,t._getTelCtx().getExtCfg(t.identifier),a)},t.processTelemetry=function(e,r){gn(e,t.identifier),r=t._getTelCtx(r);var a,o,s=e.ext=e.ext?e.ext:{};e.data=e.data?e.data:{},s[tr.AppExt]=s[tr.AppExt]||{},s[tr.UserExt]=s[tr.UserExt]||{},s[tr.WebExt]=s[tr.WebExt]||{},s[tr.OSExt]=s[tr.OSExt]||{},s[tr.SdkExt]=s[tr.SdkExt]||{},s[tr.IntWebExt]=s[tr.IntWebExt]||{},s[tr.UtcExt]=s[tr.UtcExt]||{},s[tr.LocExt]=s[tr.LocExt]||{},s[tr.DeviceExt]=s[tr.DeviceExt]||{},s[tr.TraceExt]=s[tr.TraceExt]||{},s[tr.CloudExt]=s[tr.CloudExt]||{},n.applyApplicationContext(e),n.applyUserContext(e),n.applyWebContext(e),n.applyOsContext(e),n.applySdkContext(e),n.applyIntWebContext(e),n.applyUtcContext(e),n.applyLocContext(e),n.applySessionContext(e),n.applyDeviceContext(e),n.applyAITraceContext(e),n.applyCloudContext(e),O(j(s),(function(e){0===j(s[e]).length&&delete s[e]})),a=i,o=e.data,a&&T(a,(function(e,t){o[e]||(o[e]=t)})),t.processNext(e,r)},t.getPropertiesContext=function(){return n},t.setProperty=function(e,t){i[e]=t}})),r}return Object(o.b)(t,e),t}(Ye);function pr(e){var t=(e.ext||{}).intweb;return t&&tn(t.msfpc)?t.msfpc:null}function gr(e){for(var t=null,n=0;null===t&&n<e.length;n++)t=pr(e[n]);return t}var hr=function(){function e(t,n){var r=n?[].concat(n):[],i=gr(r);this.iKey=function(){return t},this.Msfpc=function(){return i||""},this.count=function(){return r.length},this.events=function(){return r},this.addEvent=function(e){return!!e&&(r.push(e),i||(i=pr(e)),!0)},this.split=function(n,a){var o;if(n<r.length){var s=r.length-n;h(a)||(s=a<s?a:s),o=r.splice(n,s),i=gr(r)}return new e(t,o)}}return e.create=function(t,n){return new e(t,n)},e}(),vr=Math.min(2e6,65e3),mr=/\./,yr=function e(t,n,r,i){var a=!!i,o=n,c={};Object(s.a)(e,this,(function(e){function n(e,t,i,s,u,l,f){T(e,(function(e,d){var p=null;if(d||tn(d)){var g=i,h=e,v=u,m=t;if(a&&!s&&mr.test(e)){var y=e.split("."),C=y.length;if(C>1){v&&(v=v.slice());for(var b=0;b<C-1;b++){var T=y[b];m=m[T]=m[T]||{},g+="."+T,v&&v.push(T)}h=y[C-1]}}if(p=s&&function(e,t){var n=c[e];return void 0===n&&(e.length>=7&&(n=S(e,"ext.metadata")||S(e,"ext.web")),c[e]=n),n}(g)||!o||!o.handleField(g,h)?an(h,d,r):o.value(g,h,d,r)){var I=p.value;if(m[h]=I,l&&l(v,h,p),f&&"object"==typeof I&&!x(I)){var w=v;w&&(w=w.slice()).push(h),n(d,I,g+"."+h,s,w,l,f)}}}}))}e.createPayload=function(e,t,n,r,i,a){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:r,sendType:a,sendReason:i}},e.appendPayload=function(n,r,i){var a=n&&r&&!n.overflow;return a&&Z(t,(function(){return"Serializer:appendPayload"}),(function(){for(var t=r.events(),a=n.payloadBlob,o=n.numEvents,s=!1,c=[],u=[],l=n.isBeacon,f=l?65e3:3984588,d=l?vr:2e6,p=0,g=0;p<t.length;){var h=t[p];if(h){if(o>=i){n.overflow=r.split(p);break}var v=e.getEventBlob(h);if(v&&v.length<=d){var m=v.length;if(a.length+m>f){n.overflow=r.split(p);break}a&&(a+="\n"),a+=v,++g>20&&(a.substr(0,1),g=0),s=!0,o++}else v?c.push(h):u.push(h),t.splice(p,1),p--}p++}if(c&&c.length>0&&n.sizeExceed.push(hr.create(r.iKey(),c)),u&&u.length>0&&n.failedEvts.push(hr.create(r.iKey(),u)),s){n.batches.push(r),n.payloadBlob=a,n.numEvents=o;var y=r.iKey();-1===D(n.apiKeys,y)&&n.apiKeys.push(y)}}),(function(){return{payload:n,theBatch:{iKey:r.iKey(),evts:r.events()},max:i}})),a},e.getEventBlob=function(e){try{return Z(t,(function(){return"Serializer.getEventBlob"}),(function(){var t={};t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+nn(e.iKey);var r={},i=e.ext;i&&(t.ext=r,T(i,(function(e,t){n(t,r[e]={},"ext."+e,!0,null,null,!0)})));var a=t.data={};a.baseType=e.baseType;var o=a.baseData={};return n(e.baseData,o,"baseData",!1,["baseData"],(function(e,t,n){Cr(r,e,t,n)}),!0),n(e.data,a,"data",!1,[],(function(e,t,n){Cr(r,e,t,n)}),!0),JSON.stringify(t)}),(function(){return{item:e}}))}catch(e){return null}}}))};function Cr(e,t,n,r){if(r&&e){var i=on(r.value,r.kind,r.propertyType);if(i>-1){var a=e.metadata;a||(a=e.metadata={f:{}});var o=a.f;if(o||(o=a.f={}),t)for(var s=0;s<t.length;s++){var c=t[s];o[c]||(o[c]={f:{}});var u=o[c].f;u||(u=o[c].f={}),o=u}o=o[n]={},x(r.value)?o.a={t:i}:o.t=i}}}var br,Tr,Ir,Sr=function(){function e(){}return e.shouldRetryForStatus=function(e){return!(e>=300&&e<500&&408!=e&&429!=e||501==e||505==e)},e.getMillisToBackoffForRetry=function(e){var t,n=Math.floor(1200*Math.random())+2400;return t=Math.pow(2,e)*n,Math.min(t,6e5)},e}(),wr=function e(){var t={};Object(s.a)(e,this,(function(e){e.setKillSwitchTenants=function(e,n){if(e&&n)try{var r=(o=e.split(","),s=[],o&&O(o,(function(e){s.push(L(e))})),s);if("this-request-only"===n)return r;for(var i=1e3*parseInt(n,10),a=0;a<r.length;++a)t[r[a]]=H()+i}catch(e){return[]}var o,s;return[]},e.isTenantKilled=function(e){var n=t,r=L(e);return void 0!==n[r]&&n[r]>H()||(delete n[r],!1)}}))},Er=function e(){var t=!0,n=!0,r=!0,i="use-collector-delta",a=!1;Object(s.a)(e,this,(function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){r&&(r=!1,a||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return i},e.setClockSkew=function(e){a||(e?(i=e,n=!0,a=!0):n=!1,t=!0)}}))},xr=((br={})[1]="requeue",br[100]="requeue",br[200]="sent",br[8004]="drop",br[8003]="drop",br),kr={},Pr={};function Ar(e){try{return e.responseText}catch(e){}return""}function _r(e,t){var n=!1;if(e&&t){var r=j(e);if(r&&r.length>0)for(var i=t.toLowerCase(),a=0;a<r.length;a++){var o=r[a];if(o&&m(t,o)&&o.toLowerCase()===i){n=!0;break}}}return n}function Nr(e,t,n,r){t&&n&&n.length>0&&(r&&kr[t]?(e.hdrs[kr[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}Ir="AuthMsaDeviceTicket",kr[Tr="AuthMsaDeviceTicket"]=Ir,Pr[Ir]=Tr;var Or=function e(t,n,r,i){this._responseHandlers=[];var a,o,u,l,f="?cors=true&"+"content-type".toLowerCase()+"=application/x-json-stream",d=new wr,p=!1,v=new Er,m=!1,y=0,C=!0,b=[],I={},S=[],w=null,E=!1,k=!1,_=!1;Object(s.a)(e,this,(function(e){var s=!0;function N(e,t){for(var n=0,r=null,i=0;null==r&&i<e.length;)1===(n=e[i])?Le()?r=D:Ve()&&(r=M):2===n&&Me(t)?r=R:m&&3===n&&Re()&&(r=U),i++;return r?{_transport:n,_isSync:t,sendPOST:r}:null}function D(e,t,n){var r=new XDomainRequest;r.open("POST",e.urlString),r.onload=function(){var e=Ar(r);V(t,200,{},e),ee(e)},r.onerror=function(){V(t,400,{})},r.ontimeout=function(){V(t,500,{})},r.onprogress=function(){},n?r.send(e.data):a._setTimeoutOverride((function(){r.send(e.data)}),0)}function R(e,t,n){var r,i=!1,a=!1,o=((r={body:e.data,method:"POST"}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,r);n&&(o.keepalive=!0,2===e._sendReason&&(i=!0)),s&&(o.credentials="include"),e.headers&&j(e.headers).length>0&&(o.headers=e.headers),fetch(e.urlString,o).then((function(e){var n={},r="";e.headers&&e.headers.forEach((function(e,t){n[t]=e})),e.body&&e.text().then((function(e){r=e})),a||(a=!0,V(t,e.status,n,r),ee(r))})).catch((function(e){a||(a=!0,V(t,0,{}))})),i&&!a&&(a=!0,V(t,200,{}))}function M(e,t,n){function r(e,t,n){if(!e[n]&&t&&t.getResponseHeader){var r=t.getResponseHeader(n);r&&(e[n]=L(r))}return e}function i(e){var t,n,i={};return e.getAllResponseHeaders?(t=e.getAllResponseHeaders(),n={},P(t)&&O(L(t).split(/[\r\n]+/),(function(e){if(e){var t=e.indexOf(": ");if(-1!==t){var r=L(e.substring(0,t)).toLowerCase(),i=L(e.substring(t+1));n[r]=i}else n[L(e)]=1}})),i=n):(i=r(i,e,"time-delta-millis"),i=r(i,e,"kill-duration"),i=r(i,e,"kill-duration-seconds")),i}function a(e,n){V(t,e.status,i(e),n)}var o=vn("POST",e.urlString,s,!0,n);T(e.headers,(function(e,t){o.setRequestHeader(e,t)})),o.onload=function(){var e=Ar(o);a(o,e),ee(e)},o.onerror=function(){a(o)},o.ontimeout=function(){a(o)},o.send(e.data)}function V(e,t,n,r){try{e(t,n,r)}catch(e){a.diagLog().throwInternal(X.WARNING,de.SendPostOnCompleteFailure,De(e))}}function U(e,t,n){var r=200,i=e._thePayload;try{var o=we();if(!o.sendBeacon(e.urlString,e.data))if(i){var s=[];O(i.batches,(function(t){if(s&&t&&t.count()>0){for(var n=t.events(),r=0;r<n.length;r++)if(!o.sendBeacon(e.urlString,w.getEventBlob(n[r]))){s.push(t.split(r));break}}else s.push(t.split(0))})),te(s,8003,i.sendType,!0)}else r=0}catch(e){a.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+e),r=0}finally{V(t,r,{},"")}}function F(e){return 2===e||3===e}function q(e){return k&&F(e)&&(e=2),e}function B(){return!p&&y<n}function z(){var e=S;return S=[],e}function W(e,t,n){var r=!1;return e&&e.length>0&&!p&&o[t]&&w&&(r=0!==t||B()&&(n>0||v.allowRequestSending())),r}function G(e){var t={};return e&&O(e,(function(e,n){t[n]={iKey:e.iKey(),evts:e.events()}})),t}function K(e,n,r,i,s){if(e&&0!==e.length)if(p)te(e,1,i);else{i=q(i);try{var c=e,l=0!==i;Z(u,(function(){return"HttpManager:_sendBatches"}),(function(a){a&&(e=e.slice(0));for(var c=[],u=null,f=fn(),p=o[i]||(l?o[1]:o[0]),g=(k||F(i)||p&&3===p._transport)&&!C&&m&&Re();W(e,i,n);){var h=e.shift();h&&h.count()>0&&(d.isTenantKilled(h.iKey())?c.push(h):(u=u||w.createPayload(n,r,l,g,s,i),w.appendPayload(u,h,t)?null!==u.overflow&&(e=[u.overflow].concat(e),u.overflow=null,$(u,f,fn(),s),f=fn(),u=null):($(u,f,fn(),s),f=fn(),e=[h].concat(e),u=null)))}u&&$(u,f,fn(),s),e.length>0&&(S=e.concat(S)),te(c,8004,i)}),(function(){return{batches:G(c),retryCount:n,isTeardown:r,isSynchronous:l,sendReason:s,useSendBeacon:F(i),sendType:i}}),!l)}catch(e){a.diagLog().throwInternal(X.WARNING,de.CannotSerializeObject,"Unexpected Exception sending batch: "+De(e))}}}function Q(e,t){var n={url:f,hdrs:{},useHdrs:!1};n.hdrs=ln(n.hdrs,I),n.useHdrs=j(n.hdrs).length>0,Nr(n,"client-id","NO_AUTH",t),Nr(n,"client-version","1DS-Web-JS-3.1.10",t);var r="";O(e.apiKeys,(function(e){r.length>0&&(r+=","),r+=e})),Nr(n,"apikey",r,t),Nr(n,"upload-time",H().toString(),t);var i=function(e){for(var t=0;t<e.batches.length;t++){var n=e.batches[t].Msfpc();if(n)return encodeURIComponent(n)}return""}(e);if(tn(i)&&(n.url+="&ext.intweb.msfpc="+i),v.shouldAddClockSkewHeaders()&&Nr(n,"time-delta-to-apply-millis",v.getClockSkewHeaderValue(),t),u.getWParam){var a=u.getWParam();a>=0&&(n.url+="&w="+a)}for(var o=0;o<b.length;o++)n.url+="&"+b[o].name+"="+b[o].value;return n}function J(e,t,n){e[t]=e[t]||{},e[t][a.identifier]=n}function $(t,n,i,s){if(t&&t.payloadBlob&&t.payloadBlob.length>0){var l=!!e.sendHook,f=o[t.sendType];!F(t.sendType)&&t.isBeacon&&2===t.sendReason&&(f=o[2]||o[3]||f);var p=_;(t.isBeacon||3===f._transport)&&(p=!1);var g=Q(t,p);p=p||g.useHdrs;var h=fn();Z(u,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var o=0;o<t.batches.length;o++)for(var m=t.batches[o].events(),b=0;b<m.length;b++){var T=m[b];if(E){var I=T.timings=T.timings||{};J(I,"sendEventStart",h),J(I,"serializationStart",n),J(I,"serializationCompleted",i)}T.sendAttempt>0?T.sendAttempt++:T.sendAttempt=1}te(t.batches,1e3+(s||0),t.sendType,!0);var S={data:t.payloadBlob,urlString:g.url,headers:g.hdrs,_thePayload:t,_sendReason:s};p&&(_r(S.headers,"cache-control")||(S.headers["cache-control"]="no-cache, no-store"),_r(S.headers,"content-type")||(S.headers["content-type"]="application/x-json-stream"));var w=null;f&&(w=function(n){v.firstRequestSent();var i=function(n,i){!function(t,n,i,o){var s=9e3,u=null,l=!1,f=!1;try{var p=!0;if(typeof t!==c.l){if(n){v.setClockSkew(n["time-delta-millis"]);var g=n["kill-duration"]||n["kill-duration-seconds"];O(d.setKillSwitchTenants(n["kill-tokens"],g),(function(e){O(i.batches,(function(t){if(t.iKey()===e){u=u||[];var n=t.split(0);i.numEvents-=n.count(),u.push(n)}}))}))}if(200==t)return void(s=200);(!Sr.shouldRetryForStatus(t)||i.numEvents<=0)&&(p=!1),s=9e3+t%1e3}if(p){s=100;var h=i.retryCnt;0===i.sendType&&(h<r?(l=!0,Y((function(){0===i.sendType&&y--,K(i.batches,h+1,i.isTeardown,k?2:i.sendType,5)}),k,Sr.getMillisToBackoffForRetry(h))):f=!0)}}finally{l||(v.setClockSkew(),function(t,n,r,i){try{i&&a._backOffTransmission(),200===n&&(i||t.isSync||a._clearBackOff(),function(e){if(E){var t=fn();O(e,(function(e){var n,r;e&&e.count()>0&&(n=e.events(),r=t,E&&O(n,(function(e){J(e.timings=e.timings||{},"sendEventCompleted",r)})))}))}}(t.batches)),te(t.batches,n,t.sendType,!0)}finally{0===t.sendType&&(y--,5!==r&&e.sendQueuedRequests(t.sendType,r))}}(i,s,o,f)),te(u,8004,i.sendType)}}(n,i,t,s)},o=t.isTeardown||t.isSync;try{f.sendPOST(n,i,o),e.sendListener&&e.sendListener(S,n,o,t.isBeacon)}catch(e){a.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+De(e)),V(i,0,{})}}),Z(u,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(w)if(0===t.sendType&&y++,l&&!t.isBeacon&&3!==f._transport){var n={data:S.data,urlString:S.urlString,headers:ln({},S.headers)},r=!1;Z(u,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{e.sendHook(n,(function(e){r=!0,C||e._thePayload||(e._thePayload=e._thePayload||S._thePayload,e._sendReason=e._sendReason||S._sendReason),w(e)}),t.isSync||t.isTeardown)}catch(e){r||w(S)}}))}else w(S)}))}),(function(){return{thePayload:t,serializationStart:n,serializationCompleted:i,sendReason:s}}),t.isSync)}t.sizeExceed&&t.sizeExceed.length>0&&te(t.sizeExceed,8003,t.sendType),t.failedEvts&&t.failedEvts.length>0&&te(t.failedEvts,8002,t.sendType)}function Y(e,t,n){t?e():a._setTimeoutOverride(e,n)}function ee(t){var n=e._responseHandlers;try{for(var r=0;r<n.length;r++)try{n[r](t)}catch(e){a.diagLog().throwInternal(X.CRITICAL,de.PostResponseHandler,"Response handler failed: "+e)}if(t){var i=JSON.parse(t);tn(i.webResult)&&tn(i.webResult.msfpc)&&l.set("MSFPC",i.webResult.msfpc,31536e3)}}catch(e){}}function te(e,t,n,r){if(e&&e.length>0&&i){var o=i[(c=t,l=xr[c],tn(l)||(l="oth",c>=9e3&&c<=9999?l="rspFail":c>=8e3&&c<=8999?l="drop":c>=1e3&&c<=1999&&(l="send")),l)];if(o){var s=0!==n;Z(u,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){Y((function(){try{o.call(i,e,t,s,n)}catch(e){a.diagLog().throwInternal(X.CRITICAL,de.NotificationException,"send request notification failed: "+e)}}),r||s,0)}),(function(){return{batches:G(e),reason:t,isSync:s,sendSync:r,sendType:n}}),!s)}}var c,l}e.initialize=function(e,t,n,r,i){var c;i||(i={}),f=e+f,_=!g(i.avoidOptions)&&!i.avoidOptions,u=t,l=t.getCookieMgr(),E=!u.config.disableEventTimings;var d=!!u.config.enableCompoundKey;a=n;var p=i.valueSanitizer,h=i.stringifyObjects;g(i.enableCompoundKey)||(d=!!i.enableCompoundKey),m=!_e(),w=new yr(u,p,h,d);var v=r;if(!r){C=!1;var y=xe();y&&y.protocol&&"file:"===y.protocol.toLowerCase()&&(s=!1);var b=[];b=_e()?[2,1]:[1,2,3];var T=i.transports;T&&(A(T)?b=[T].concat(b):x(T)&&(b=T.concat(b))),r=N(b,!1),v=N(b,!0),r||a.diagLog().warnToConsole("No available transport to send events")}(c={})[0]=r,c[1]=v||N([1,2,3],!0),c[2]=N([3,2,1],!0)||v,c[3]=N([2,3,1],!0)||v,o=c},e._getDbgPlgTargets=function(){return[o[0],d,w,o]},e.addQueryStringParameter=function(e,t){for(var n=0;n<b.length;n++)if(b[n].name===e)return void(b[n].value=t);b.push({name:e,value:t})},e.addHeader=function(e,t){I[e]=t},e.canSendRequest=function(){return B()&&v.allowRequestSending()},e.sendQueuedRequests=function(e,t){g(e)&&(e=0),k&&(e=q(e),t=2),W(S,e,0)&&K(z(),0,!1,e,t||0)},e.isCompletelyIdle=function(){return!p&&0===y&&0===S.length},e.setUnloading=function(e){k=e},e.addBatch=function(e){if(e&&e.count()>0){if(d.isTenantKilled(e.iKey()))return!1;S.push(e)}return!0},e.teardown=function(){S.length>0&&K(z(),0,!0,2,2)},e.pause=function(){p=!0},e.resume=function(){p=!1,e.sendQueuedRequests(0,4)},e.sendSynchronousBatch=function(e,t,n){e&&e.count()>0&&(h(t)&&(t=1),k&&(t=q(t),n=2),K([e],0,!1,t,n||0))}}))},Dr=en?window:void 0,Rr=function(e){function t(){var n,r=e.call(this)||this;r.identifier="PostChannel",r.priority=1011,r.version="3.1.10";var i,a,o,c,u,l=!1,f=[],d=null,p=!1,g=0,h=500,v=0,m=1e4,y={},C="REAL_TIME",b=null,I=null,S=0,w=0,E={},x=-1,k=!0,P=!1;return Object(s.a)(t,r,(function(e,t){function r(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=ie),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,k&&(e.ext=Q(e.ext),e.baseData&&(e.baseData=Q(e.baseData)),e.data&&(e.data=Q(e.data))),e.sync)if(S||p)e.latency=oe,e.sync=!1;else if(a)return k&&(e=Q(e)),void a.sendSynchronousBatch(hr.create(e.iKey,[e]),!0===e.sync?1:e.sync,3);var n=e.latency,r=v,i=m;n===se&&(r=g,i=h);var o=!1;if(r<i)o=!U(e,t);else{var s=ie,c=20;n===se&&(s=se,c=1),o=!0,function(e,t,n,r){for(;n<=t;){var i=L(e,t,!0);if(i&&i.count()>0){var a=i.split(0,r),o=a.count();if(o>0)return n===se?g-=o:v-=o,z("eventsDiscarded",[a],wt),!0}n++}return j(),!1}(e.iKey,e.latency,s,c)&&(o=!U(e,t))}o&&B("eventsDiscarded",[e],wt)}function s(e,t,n){var r=F(e,t,n);return a.sendQueuedRequests(t,n),r}function A(){return v>0}function _(){if(x>=0&&F(x,0,u)&&a.sendQueuedRequests(0,u),g>0&&!I&&!p){var e=y[C][2];e>=0&&(I=N((function(){I=null,s(se,0,1),_()}),e))}var t=y[C][1];!b&&!d&&t>=0&&!p&&(A()?b=N((function(){b=null,s(0===w?oe:ie,0,1),w++,w%=2,_()}),t):w=0)}function N(t,n){0===n&&S&&(n=1);var r=1e3;return S&&(r=Sr.getMillisToBackoffForRetry(S-1)),e._setTimeoutOverride(t,n*r)}function R(){null!==b&&(e._clearTimeoutOverride(b),b=null,w=0)}function M(t,n){R(),d&&(e._clearTimeoutOverride(d),d=null),p||s(ie,t,n)}function L(e,t,n){var r=E[t];r||(r=E[t=ie]);var i=r.iKeyMap[e];return!i&&n&&(i=hr.create(e),r.batches.push(i),r.iKeyMap[e]=i),i}function V(t,n){a.canSendRequest()&&!S&&(o>0&&v>o&&(n=!0),n&&null==d&&e.flush(t,null,20))}function U(e,t){k&&(e=Q(e));var n=e.latency,r=L(e.iKey,n,!0);return!!r.addEvent(e)&&(n!==se?(v++,t&&0===e.sendAttempt&&V(!e.sync,c>0&&r.count()>=c)):g++,!0)}function j(){for(var e=0,t=0,n=function(n){var r=E[n];r&&r.batches&&O(r.batches,(function(r){n===se?e+=r.count():t+=r.count()}))},r=ie;r<=se;r++)n(r);v=t,g=e}function F(t,n,r){var i=!1,o=0===n;return!o||a.canSendRequest()?Z(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],n=se;n>=t;){var r=E[n];r&&r.batches&&r.batches.length>0&&(O(r.batches,(function(t){a.addBatch(t)?i=i||t&&t.count()>0:e=e.concat(t.events()),n===se?g-=t.count():v-=t.count()})),r.batches=[],r.iKeyMap={}),n--}e.length>0&&B("eventsDiscarded",e,St),i&&x>=t&&(x=-1,u=0)}),(function(){return{latency:t,sendType:n,sendReason:r}}),!o):(x=x>=0?Math.min(x,t):t,u=Math.max(u,r)),i}function q(){(y={}).REAL_TIME=[2,1,0],y.NEAR_REAL_TIME=[6,3,0],y.BEST_EFFORT=[18,9,0]}function H(t,n){var r=e._notificationManager||{},i=r[t];if(i)try{i.apply(r,n)}catch(n){e.diagLog().throwInternal(X.CRITICAL,de.NotificationException,t+" notification failed: "+n)}}function B(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&H(e,[t].concat(n))}function z(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&O(t,(function(t){t&&t.count()>0&&H(e,[t.events()].concat(n))}))}function W(){c=n&&n.disableAutoBatchFlushLimit?0:Math.max(1500,m/6)}q(),E[se]={batches:[],iKeyMap:{}},E[oe]={batches:[],iKeyMap:{}},E[ae]={batches:[],iKeyMap:{}},E[ie]={batches:[],iKeyMap:{}},W(),a=new Or(500,2,1,{requeue:function(t,n){var i=[];O(t,(function(t){t&&t.count()>0&&O(t.events(),(function(t){t&&(t.sync&&(t.latency=se,t.sync=!1),t.sendAttempt<6?(gn(t,e.identifier),r(t,!1)):i.push(t))}))})),i.length>0&&B("eventsDiscarded",i,Tt);P&&M(2,2)},send:function(e,t,n){e&&e.length>0&&H("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==n])},sent:function(e,t){z("eventsSent",e,t),_()},drop:function(e,t){z("eventsDiscarded",e,t>=8e3&&t<=8999?t-8e3:bt)},rspFail:function(e){z("eventsDiscarded",e,Tt),_()},oth:function(e,t){z("eventsDiscarded",e,bt),_()}}),e._getDbgPlgTargets=function(){return[a]},e.initialize=function(r,s,c){Z(s,(function(){return"PostChannel:initialize"}),(function(){var u=s;t.initialize(r,s,c),e.setInitialized(!1);var l=e._getTelCtx();r.extensionConfig[e.identifier]=r.extensionConfig[e.identifier]||{},n=l.getExtCfg(e.identifier),e._setTimeoutOverride=n.setTimeoutOverride?n.setTimeoutOverride:setTimeout.bind(Dr),e._clearTimeoutOverride=n.clearTimeoutOverride?n.clearTimeoutOverride:clearTimeout.bind(Dr),k=!n.disableOptimizeObj&&!!Ce("chrome");var f=u.getWParam;u.getWParam=function(){var e=0;return n.ignoreMc1Ms0CookieProcessing&&(e|=2),e|f()},n.eventsLimitInMem>0&&(m=n.eventsLimitInMem),n.immediateEventLimit>0&&(h=n.immediateEventLimit),n.autoFlushEventsLimit>0&&(o=n.autoFlushEventsLimit),W(),n.httpXHROverride&&n.httpXHROverride.sendPOST&&(i=n.httpXHROverride),tn(r.anonCookieName)&&a.addQueryStringParameter("anoncknm",r.anonCookieName),a.sendHook=n.payloadPreprocessor,a.sendListener=n.payloadListener;var d=n.overrideEndpointUrl?n.overrideEndpointUrl:r.endpointUrl;function p(e){"beforeunload"!==(e||Te().event).type&&(P=!0,a.setUnloading(P)),M(2,2)}e._notificationManager=r.extensionConfig.NotificationManager,a.initialize(d,e.core,e,i,n);var g=r.disablePageUnloadEvents||[];qt(p,g),Ht(p,g),function e(t,n){var r=!1;return n&&-1!==D(n,"pageshow")||(r=Ft("pageshow",t)),n&&-1!==D(n,"visibilitychange")||(r=Ft("visibilitychange",(function(e){var n=Ie();t&&n&&"visible"===n.visibilityState&&t(e)}))||r),!r&&n&&(r=e(t)),r}((function(e){P=!1,a.setUnloading(P)}),r.disablePageShowEvents),e.setInitialized(!0)}),(function(){return{coreConfig:r,core:s,extensions:c}}))},e.processTelemetry=function(t,i){gn(t,e.identifier);var a=(i=e._getTelCtx(i)).getExtCfg(e.identifier),o=!!n.disableTelemetry;a&&(o=o||!!a.disableTelemetry);var s=t;o||l||(n.overrideInstrumentationKey&&(s.iKey=n.overrideInstrumentationKey),a&&a.overrideInstrumentationKey&&(s.iKey=a.overrideInstrumentationKey),r(s,!0),P?M(2,2):_()),e.processNext(s,i)},e.setEventQueueLimits=function(e,t){m=e>0?e:1e4,o=t>0?t:0,W();var n=v>e;if(!n&&c>0)for(var r=ie;!n&&r<=oe;r++){var i=E[r];i&&i.batches&&O(i.batches,(function(e){e&&e.count()>=c&&(n=!0)}))}V(!0,n)},e.teardown=function(){M(2,2),l=!0,a.teardown()},e.pause=function(){R(),p=!0,a.pause()},e.resume=function(){p=!1,a.resume(),_()},e.addResponseHandler=function(e){a._responseHandlers.push(e)},e._loadTransmitProfiles=function(e){R(),q(),C="REAL_TIME",_(),T(e,(function(e,t){var n=t.length;if(n>=2){var r=n>2?t[2]:0;if(t.splice(0,n-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var i=t[0]/t[1];t[0]=Math.ceil(i)*t[1]}r>=0&&t[1]>=0&&r>t[1]&&(r=t[1]),t.push(r),y[e]=t}}))},e.flush=function(e,t,n){void 0===e&&(e=!0),p||(R(),n=n||1,e?(F(ie,0,n),j(),null==d?d=N((function(){!function e(t,n){s(ie,0,n),function e(t){a.isCompletelyIdle()?t():d=N((function(){e(t)}),.25)}((function(){t&&t(),f.length>0?d=N((function(){return e(f.shift(),n)}),0):(d=null,A()&&_())}))}(t,n)}),0):f.push(t)):(s(ie,1,n),null!=t&&t()))},e.setMsaAuthTicket=function(e){a.addHeader("AuthMsaDeviceTicket",e)},e.hasEvents=A,e._setTransmitProfile=function(e){C!==e&&void 0!==y[e]&&(R(),C=e,_())},e._backOffTransmission=function(){S<4&&(S++,R(),_())},e._clearBackOff=function(){S&&(S=0,R(),_())}})),r}return Object(o.b)(t,e),t}(Ye),Mr=n(41);function Lr(e,t,n){var r=t.length,i=Vr(e,t);if(i.length!==r){for(var a=0,o=i;void 0!==n[o];)a++,o=i.substring(0,147)+Gr(a);i=o}return i}function Vr(e,t){var n;return t&&(t=L(t.toString())).length>150&&(n=t.substring(0,150),e&&e.throwInternal(X.WARNING,ee.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}function Ur(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=L(t)).toString().length>n&&(r=t.toString().substring(0,n),e&&e.throwInternal(X.WARNING,ee.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function jr(e,t){return Wr(e,t,2048,ee.UrlTooLong)}function Fr(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),e&&e.throwInternal(X.WARNING,ee.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function qr(e,t){var n;if(t){var r=""+t;r.length>32768&&(n=r.substring(0,32768),e&&e.throwInternal(X.WARNING,ee.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}function Hr(e,t){if(t){var n={};T(t,(function(t,r){if(y(r)&&Pe())try{r=Ae().stringify(r)}catch(t){e&&e.throwInternal(X.WARNING,ee.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:t},!0)}r=Ur(e,r,8192),t=Lr(e,t,n),n[t]=r})),t=n}return t}function Br(e,t){if(t){var n={};T(t,(function(t,r){t=Lr(e,t,n),n[t]=r})),t=n}return t}function zr(e,t){return t?Wr(e,t,128,ee.IdTooLong).toString():t}function Wr(e,t,n,r){var i;return t&&(t=L(t)).length>n&&(i=t.substring(0,n),e&&e.throwInternal(X.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function Gr(e){var t="00"+e;return t.substr(t.length-3)}var Kr,Qr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Xr=function(){function e(){}return e.create=function(e,t,n,r,i,a){if(n=Ur(r,n)||"not_specified",h(e)||h(t)||h(n))throw Error("Input doesn't contain all required fields");var o="";e.iKey&&(o=e.iKey,delete e.iKey);var s={name:n,time:N(new Date),iKey:o,ext:a||{},tags:[],data:{},baseType:t,baseData:e};return h(i)||T(i,(function(e,t){s.data[e]=t})),s},e}(),Jr=n(42),$r=function(){this.ver=2,this.properties={},this.measurements={}},Yr=function(e){function t(t,n,r,i){var a=e.call(this)||this;return a.aiDataContract={ver:1,name:1,properties:0,measurements:0},a.name=Ur(t,n)||"not_specified",a.properties=Hr(t,r),a.measurements=Br(t,i),a}return Object(Jr.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}($r),Zr=function(e){function t(t,n,r,i,a){var o=e.call(this)||this;return o.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},n=n||"not_specified",o.message=Fr(t,n),o.properties=Hr(t,i),o.measurements=Br(t,a),r&&(o.severityLevel=r),o}return Object(Jr.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}((function(){this.ver=2,this.properties={},this.measurements={}})),ei=function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}};!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(Kr||(Kr={}));var ti=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},t}return Object(Jr.b)(t,e),t}((function(){this.kind=Kr.Measurement})),ni=function(e){function t(t,n,r,i,a,o,s,c,u){var l=e.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var f=new ti;return f.count=i>0?i:void 0,f.max=isNaN(o)||null===o?void 0:o,f.min=isNaN(a)||null===a?void 0:a,f.name=Ur(t,n)||"not_specified",f.value=r,f.stdDev=isNaN(s)||null===s?void 0:s,l.metrics=[f],l.properties=Hr(t,c),l.measurements=Br(t,u),l}return Object(Jr.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(ei),ri=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return Object(Jr.b)(t,e),t}($r);function ii(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()}function ai(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,a=Math.floor(e/864e5);return t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,(a>0?a+".":"")+(i=i.length<2?"0"+i:i)+":"+r+":"+n+"."+t}function oi(e,t,n,r,i){return!i&&P(e)&&("Script error."===e||"Script error"===e)}var si=function(e){function t(t,n,r,i,a,o,s){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=zr(t,s),c.url=jr(t,r),c.name=Ur(t,n)||"not_specified",isNaN(i)||(c.duration=ai(i)),c.properties=Hr(t,a),c.measurements=Br(t,o),c}return Object(Jr.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(ri),ci=function(e){function t(t,n,r,i,a,o,s){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=jr(t,r),c.name=Ur(t,n)||"not_specified",c.properties=Hr(t,a),c.measurements=Br(t,o),s&&(c.domProcessing=s.domProcessing,c.duration=s.duration,c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c.receivedResponse=s.receivedResponse,c.sentRequest=s.sentRequest),c}return Object(Jr.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return Object(Jr.b)(t,e),t}(ri)),ui=function(){},li=function(){this.hasFullStack=!0,this.parsedStack=[]};function fi(e,t){var n=e;return n&&!P(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=C(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function di(e,t){var n=e;return e&&(n&&!P(n)&&(n=e.message||e.description||n),n&&!P(n)&&(n=fi(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(n||"").indexOf(t)&&(n=t+": "+n),n||""}function pi(e){return e&&e.src&&P(e.src)&&e.obj&&x(e.obj)}function gi(e){var t=e||"";P(t)||(t=P(t.stack)?t.stack:""+t);var n=t.split("\n");return{src:t,obj:n}}function hi(e){var t=null;if(e)try{if(e.stack)t=gi(e.stack);else if(e.error&&e.error.stack)t=gi(e.error.stack);else if(e.exception&&e.exception.stack)t=gi(e.exception.stack);else if(pi(e))t=e;else if(pi(e.stackDetails))t=e.stackDetails;else if(window&&window.opera&&e.message)t=function(e){for(var t=[],n=e.split("\n"),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}(e.message);else if(P(e))t=gi(e);else{var n=e.message||e.description||"";P(e.errorSrc)&&(n&&(n+="\n"),n+=" from "+e.errorSrc),n&&(t=gi(n))}}catch(e){t=gi(e)}return t||{src:"",obj:null}}function vi(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString());t=n&&n.length>1?n[1]:""}catch(e){}return t}function mi(e){if(e)try{if(!P(e)){var t=vi(e),n=fi(e,!1);return n&&"{}"!==n||(e.error&&(t=vi(e=e.error)),n=fi(e,!0)),0!==n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(e){}return""+(e||"")}var yi,Ci,bi,Ti=function(e){function t(t,n,r,i,a,o){var s=e.call(this)||this;return s.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},!function(e){try{if(y(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(n)?(r||(r={}),s.exceptions=[new Ii(t,n,r)],s.properties=Hr(t,r),s.measurements=Br(t,i),a&&(s.severityLevel=a),o&&(s.id=o)):(s.exceptions=n.exceptions,s.properties=n.properties,s.measurements=n.measurements,n.severityLevel&&(s.severityLevel=n.severityLevel),n.id&&(s.id=n.id),n.problemGroup&&(s.problemGroup=n.problemGroup),s.ver=2,h(n.isManual)||(s.isManual=n.isManual)),s}return Object(Jr.b)(t,e),t.CreateAutoException=function(e,t,n,r,i,a,o,s){var c=vi(i||a||e);return{message:di(e,c),url:t,lineNumber:n,columnNumber:r,error:mi(i||a||e),evt:mi(a||e),typeName:c,stackDetails:hi(o||i||a),errorSrc:s}},t.CreateFromInterface=function(e,n,r,i){var a=n.exceptions&&R(n.exceptions,(function(t){return Ii.CreateFromInterface(e,t)}));return new t(e,Object(Jr.a)(Object(Jr.a)({},n),{exceptions:a}),r,i)},t.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel,a=e.problemGroup,o=e.id,s=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&R(t,(function(e){return e.toInterface()}))||void 0,severityLevel:i,properties:n,measurements:r,problemGroup:a,id:o,isManual:s}},t.CreateSimpleException=function(e,t,n,r,i,a){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=mi,t}((function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}})),Ii=function(e){function t(t,n,r){var i=e.call(this)||this;if(i.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){try{if(y(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(n))i.typeName=n.typeName,i.message=n.message,i.stack=n.stack,i.parsedStack=n.parsedStack,i.hasFullStack=n.hasFullStack;else{var a=n,o=a&&a.evt;k(a)||(a=a.error||o||a),i.typeName=Ur(t,vi(a))||"not_specified",i.message=Fr(t,di(n||a,i.typeName))||"not_specified";var s=n.stackDetails||hi(n);i.parsedStack=function(e){var t,n=e.obj;if(n&&n.length>0){t=[];var r=0,i=0;O(n,(function(e){var n=e.toString();if(Si.regex.test(n)){var a=new Si(n,r++);i+=a.sizeInBytes,t.push(a)}}));if(i>32768)for(var a=0,o=t.length-1,s=0,c=a,u=o;a<o;){if((s+=t[a].sizeInBytes+t[o].sizeInBytes)>32768){var l=u-c+1;t.splice(c,l);break}c=a,u=o,a++,o--}}return t}(s),i.stack=qr(t,function(e){var t="";return e&&(e.obj?O(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(s)),i.hasFullStack=x(i.parsedStack)&&i.parsedStack.length>0,r&&(r.typeName=r.typeName||i.typeName)}return i}return Object(Jr.b)(t,e),t.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&R(this.parsedStack,(function(e){return e.toInterface()}));return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||void 0}},t.CreateFromInterface=function(e,n){var r=n.parsedStack instanceof Array&&R(n.parsedStack,(function(e){return Si.CreateFromInterface(e)}))||n.parsedStack;return new t(e,Object(Jr.a)(Object(Jr.a)({},n),{parsedStack:r}))},t}(li),Si=function(e){function t(n,r){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof n){var a=n;i.level=r,i.method="<no_method>",i.assembly=L(a),i.fileName="",i.line=0;var o=a.match(t.regex);o&&o.length>=5&&(i.method=L(o[2])||i.method,i.fileName=L(o[4]),i.line=parseInt(o[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return Object(Jr.b)(t,e),t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(ui);!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(yi||(yi={})),function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"}(Ci||(Ci={})),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(bi||(bi={}));var wi=void 0;function Ei(e){try{if(h(Object(u.a)()))return null;var t=new Date,n=Ce(e===Ci.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(e){}return null}function xi(){return Pi()?Ei(Ci.SessionStorage):null}function ki(){!1,wi=!1}function Pi(){return void 0===wi&&(wi=!!Ei(Ci.SessionStorage)),wi}function Ai(e,t){var n=xi();if(null!==n)try{return n.getItem(t)}catch(t){wi=!1,e.throwInternal(X.WARNING,ee.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+B(t),{exception:De(t)})}return null}function _i(e,t,n){var r=xi();if(null!==r)try{return r.setItem(t,n),!0}catch(t){wi=!1,e.throwInternal(X.WARNING,ee.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+B(t),{exception:De(t)})}return!1}function Ni(e,t){var n=xi();if(null!==n)try{return n.removeItem(t),!0}catch(t){wi=!1,e.throwInternal(X.WARNING,ee.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+B(t),{exception:De(t)})}return!1}function Oi(e){var t=null;if(C(Event))t=new Event(e);else{var n=Ie();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t}var Di="Request-Context",Ri="appId",Mi="appId=cid-v1:",Li="Request-Id",Vi="traceparent",Ui="request-context",ji=Ie()||{},Fi=0,qi=[null,null,null,null,null];function Hi(e){var t=Fi,n=qi,r=n[t];return ji.createElement?n[t]||(r=n[t]=ji.createElement("a")):r={host:Wi(e,!0)},r.href=e,++t>=n.length&&(t=0),Fi=t,r}function Bi(e){var t,n=Hi(e);return n&&(t=n.href),t}function zi(e,t){return e?e.toUpperCase()+" "+t:t}function Wi(e,t){var n=Gi(e,t)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>3&&P(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}function Gi(e,t){var n=null;if(e){var r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>2&&P(r[2])&&r[2].length>0&&(n=r[2]||"",t&&r.length>2)){var i=(r[1]||"").toLowerCase(),a=r[3]||"";("http"===i&&":80"===a||"https"===i&&":443"===a)&&(a=""),n+=a}}return n}var Ki=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];function Qi(e){return-1!==Ki.indexOf(e.toLowerCase())}var Xi={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1;var i=Hi(t).host.toLowerCase();if(!i||-1===i.indexOf(":443")&&-1===i.indexOf(":80")||(i=(Gi(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var a,o=e&&e.correlationHeaderDomains;if(o&&(O(o,(function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||t.test(i)})),!a))return!1;var s=e&&e.correlationHeaderExcludedDomains;if(!s||0===s.length)return!0;for(r=0;r<s.length;r++){if(new RegExp(s[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1}return i&&i.length>0},getCorrelationContext:function(e){if(e){var t=Xi.getCorrelationContextValue(e,Ri);if(t&&t!==Xi.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(2===i.length&&i[0]===t)return i[1]}}};function Ji(){var e=ke();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return H()}function $i(e,t){var n=null;return 0===e||0===t||h(e)||h(t)||(n=t-e),n}var Yi=function(e){function t(t,n,r,i,a,o,s,c,u,l,f,d){void 0===u&&(u="Ajax");var p=e.call(this)||this;p.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},p.id=n,p.duration=ai(a),p.success=o,p.resultCode=s+"",p.type=Ur(t,u);var g=function(e,t,n,r){var i,a=r,o=r;if(t&&t.length>0){var s=Hi(t);if(i=s.host,!a)if(null!=s.pathname){var c=0===s.pathname.length?"/":s.pathname;"/"!==c.charAt(0)&&(c="/"+c),o=s.pathname,a=Ur(e,n?n+" "+c:c)}else a=Ur(e,t)}else i=r,a=r;return{target:i,name:a,data:o}}(t,r,c,i);return p.data=jr(t,i)||g.data,p.target=Ur(t,g.target),l&&(p.target="".concat(p.target," | ").concat(l)),p.name=Ur(t,g.name),p.properties=Hr(t,f),p.measurements=Br(t,d),p}return Object(Jr.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}((function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}})),Zi=function e(t,n,r,i){Object(s.a)(e,this,(function(e){var a,o=null,s=[],c=!1;function u(){r&&O(r.getTransmissionControls(),(function(e){O(e,(function(e){return e.flush(!0)}))}))}r&&(a=r.logger),e.trackPageView=function(e,r){var l=e.name;if(h(l)||"string"!=typeof l){var f=Ie();l=e.name=f&&f.title||""}var d=e.uri;if(h(d)||"string"!=typeof d){var p=xe();d=e.uri=p&&p.href||""}if(!i.isPerformanceTimingSupported())return t.sendPageViewInternal(e,r),u(),void a.throwInternal(X.WARNING,ee.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var g,v,m,y=!1,C=i.getPerformanceTiming().navigationStart;C>0&&(g=$i(C,+new Date),i.shouldCollectDuration(g)||(g=void 0)),h(r)||h(r.duration)||(v=r.duration),!n&&isNaN(v)||(isNaN(v)&&(r||(r={}),r.duration=g),t.sendPageViewInternal(e,r),u(),y=!0),r||(r={}),m=function(){var n=!1;try{if(i.isPerformanceTimingDataReady()){n=!0;var o={name:l,uri:d};i.populatePageViewPerformanceEvent(o),o.isValid||y?(y||(r.duration=o.durationMs,t.sendPageViewInternal(e,r)),c||(t.sendPageViewPerformanceInternal(o,r),c=!0)):(r.duration=g,t.sendPageViewInternal(e,r))}else C>0&&$i(C,+new Date)>6e4&&(n=!0,y||(r.duration=6e4,t.sendPageViewInternal(e,r)))}catch(e){a.throwInternal(X.CRITICAL,ee.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+B(e),{exception:De(e)})}return n},s.push(m),o||(o=setInterval((function(){var e=s.slice(0),t=!1;s=[],O(e,(function(e){e()?t=!0:s.push(e)})),0===s.length&&(clearInterval(o),o=null),t&&u()}),100))}}))},ea=function(){function e(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}return e.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(e){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+De(e))}},e.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(e){return this._logger.warnToConsole("Call to restart failed: "+De(e)),null}},e.prototype.startPageVisitTimer=function(e,t){try{if(Pi()){null!=Ai(this._logger,this.prevPageVisitDataKeyName)&&K("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new ta(e,t),r=Ae().stringify(n);_i(this._logger,this.prevPageVisitDataKeyName,r)}}catch(e){this._logger.warnToConsole("Call to start failed: "+De(e))}},e.prototype.stopPageVisitTimer=function(){try{if(Pi()){var e=H(),t=Ai(this._logger,this.prevPageVisitDataKeyName);if(t&&Pe()){var n=Ae().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,Ni(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(e){return this._logger.warnToConsole("Stop page visit timer failed: "+De(e)),null}},e}(),ta=function(e,t){this.pageVisitStartTime=H(),this.pageName=e,this.pageUrl=t},na=function(){function e(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return e.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),r=0,i=0,a=0,o=0,s=0;(t||n)&&(t?(r=t.duration,i=0===t.startTime?t.connectEnd:$i(t.startTime,t.connectEnd),a=$i(t.requestStart,t.responseStart),o=$i(t.responseStart,t.responseEnd),s=$i(t.responseEnd,t.loadEventEnd)):(r=$i(n.navigationStart,n.loadEventEnd),i=$i(n.navigationStart,n.connectEnd),a=$i(n.requestStart,n.responseStart),o=$i(n.responseStart,n.responseEnd),s=$i(n.responseEnd,n.loadEventEnd)),0===r?this._logger.throwInternal(X.WARNING,ee.ErrorPVCalc,"error calculating page view performance.",{total:r,network:i,request:a,response:o,dom:s}):this.shouldCollectDuration(r,i,a,o,s)?r<Math.floor(i)+Math.floor(a)+Math.floor(o)+Math.floor(s)?this._logger.throwInternal(X.WARNING,ee.ClientPerformanceMathError,"client performance math error.",{total:r,network:i,request:a,response:o,dom:s}):(e.durationMs=r,e.perfTotal=e.duration=ai(r),e.networkConnect=ai(i),e.sentRequest=ai(a),e.receivedResponse=ai(o),e.domProcessing=ai(s),e.isValid=!0):this._logger.throwInternal(X.WARNING,ee.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:a,response:o,dom:s}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?ke().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?ke().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var e=ke();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var e=ke();return e&&e.timing},e.prototype.isPerformanceTimingDataReady=function(){var e=ke(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=we()||{},r=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=n.userAgent,a=!1;if(i)for(var o=0;o<r.length;o++)a=a||-1!==i.toLowerCase().indexOf(r[o]);if(a)return!1;for(o=0;o<e.length;o++)if(e[o]<0||e[o]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}();function ra(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var ia=function(e){function t(){var n,r,i,a=e.call(this)||this;a.identifier="ApplicationInsightsAnalytics",a.priority=180,a.autoRoutePVDelay=500;var o,c;return Object(s.a)(t,a,(function(e,s){var u=xe(!0);o=u&&u.href||"",e.getCookieMgr=function(){return lt(e.core)},e.processTelemetry=function(t,n){Z(e.core,(function(){return e.identifier+":processTelemetry"}),(function(){var r=!1,i=e._telemetryInitializers.length;n=e._getTelCtx(n);for(var a=0;a<i;++a){var o=e._telemetryInitializers[a];if(o)try{if(!1===o.apply(null,[t])){r=!0;break}}catch(e){n.diagLog().throwInternal(X.CRITICAL,ee.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+B(e),{exception:De(e)},!0)}}r||e.processNext(t,n)}),(function(){return{item:t}}),!t.sync)},e.trackEvent=function(t,n){try{var r=Xr.create(t,Yr.dataType,Yr.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(X.WARNING,ee.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+B(t),{exception:De(t)})}},e.startTrackEvent=function(t){try{n.start(t)}catch(t){e.diagLog().throwInternal(X.CRITICAL,ee.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+B(t),{exception:De(t)})}},e.stopTrackEvent=function(t,r,i){try{n.stop(t,void 0,r)}catch(t){e.diagLog().throwInternal(X.CRITICAL,ee.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+B(t),{exception:De(t)})}},e.trackTrace=function(t,n){try{var r=Xr.create(t,Zr.dataType,Zr.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(X.WARNING,ee.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+B(t),{exception:De(t)})}},e.trackMetric=function(t,n){try{var r=Xr.create(t,ni.dataType,ni.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(X.CRITICAL,ee.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+B(t),{exception:De(t)})}},e.trackPageView=function(t,n){try{var r=t||{};e._pageViewManager.trackPageView(r,Object(Mr.a)(Object(Mr.a)(Object(Mr.a)({},r.properties),r.measurements),n)),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(r.name,r.uri)}catch(t){e.diagLog().throwInternal(X.CRITICAL,ee.TrackPVFailed,"trackPageView failed, page view will not be collected: "+B(t),{exception:De(t)})}},e.sendPageViewInternal=function(t,n,r){var i=Ie();i&&(t.refUri=void 0===t.refUri?i.referrer:t.refUri);var a=Xr.create(t,si.dataType,si.envelopeType,e.diagLog(),n,r);e.core.track(a),0},e.sendPageViewPerformanceInternal=function(t,n,r){var i=Xr.create(t,ci.dataType,ci.envelopeType,e.diagLog(),n,r);e.core.track(i)},e.trackPageViewPerformance=function(t,n){try{e._pageViewPerformanceManager.populatePageViewPerformanceEvent(t),e.sendPageViewPerformanceInternal(t,n)}catch(t){e.diagLog().throwInternal(X.CRITICAL,ee.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+B(t),{exception:De(t)})}},e.startTrackPage=function(t){try{if("string"!=typeof t){var n=Ie();t=n&&n.title||""}r.start(t)}catch(t){e.diagLog().throwInternal(X.CRITICAL,ee.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+B(t),{exception:De(t)})}},e.stopTrackPage=function(t,n,i,a){try{if("string"!=typeof t){var o=Ie();t=o&&o.title||""}if("string"!=typeof n){var s=xe();n=s&&s.href||""}r.stop(t,n,i,a),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(t,n)}catch(t){e.diagLog().throwInternal(X.CRITICAL,ee.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+B(t),{exception:De(t)})}},e.sendExceptionInternal=function(t,n,r){var i=t.exception||t.error||new Error("not_specified"),a=new Ti(e.diagLog(),i,t.properties||n,t.measurements,t.severityLevel,t.id).toInterface(),o=Xr.create(a,Ti.dataType,Ti.envelopeType,e.diagLog(),n,r);e.core.track(o)},e.trackException=function(t,n){try{e.sendExceptionInternal(t,n)}catch(t){e.diagLog().throwInternal(X.CRITICAL,ee.TrackExceptionFailed,"trackException failed, exception will not be collected: "+B(t),{exception:De(t)})}},e._onerror=function(t){var n=t&&t.error,r=t&&t.evt;try{if(!r){var i=Te();i&&(r=i.event)}var a=t&&t.url||(Ie()||{}).URL,o=t.errorSrc||"window.onerror@"+a+":"+(t.lineNumber||0)+":"+(t.columnNumber||0),s={errorSrc:o,url:a,lineNumber:t.lineNumber||0,columnNumber:t.columnNumber||0,message:t.message};oi(t.message,t.url,t.lineNumber,t.columnNumber,t.error)?function(t,n){var r=Xr.create(t,Ti.dataType,Ti.envelopeType,e.diagLog(),n);e.core.track(r)}(Ti.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",a,t.lineNumber||0,t.columnNumber||0,n,r,null,o),s):(t.errorSrc||(t.errorSrc=o),e.trackException({exception:t,severityLevel:yi.Error},s))}catch(t){var c=n?n.name+", "+n.message:"null";e.diagLog().throwInternal(X.CRITICAL,ee.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+B(t),{exception:De(t),errorString:c})}},e.addTelemetryInitializer=function(t){e._telemetryInitializers.push(t)},e.initialize=function(u,l,f,d){if(!e.isInitialized()){if(h(l))throw Error("Error initializing");s.initialize(u,l,f,d),e.setInitialized(!1);var p=e._getTelCtx(),g=e.identifier;e.config=p.getExtCfg(g);var v=t.getDefaultConfig(u);void 0!==v&&T(v,(function(t,n){e.config[t]=p.getConfig(g,t,n),void 0===e.config[t]&&(e.config[t]=n)})),e.config.isStorageUseDisabled&&ki();var m={instrumentationKey:function(){return u.instrumentationKey},accountId:function(){return e.config.accountId||u.accountId},sessionRenewalMs:function(){return e.config.sessionRenewalMs||u.sessionRenewalMs},sessionExpirationMs:function(){return e.config.sessionExpirationMs||u.sessionExpirationMs},sampleRate:function(){return e.config.samplingPercentage||u.samplingPercentage},sdkExtension:function(){return e.config.sdkExtension||u.sdkExtension},isBrowserLinkTrackingEnabled:function(){return e.config.isBrowserLinkTrackingEnabled||u.isBrowserLinkTrackingEnabled},appId:function(){return e.config.appId||u.appId}};e._pageViewPerformanceManager=new na(e.core),e._pageViewManager=new Zi(a,e.config.overridePageViewDuration,e.core,e._pageViewPerformanceManager),e._pageVisitTimeManager=new ea(e.diagLog(),(function(t,n,r){return function(t,n,r){var i={PageName:t,PageUrl:n};e.trackMetric({name:"PageVisitTime",average:r,max:r,min:r,sampleCount:1},i)}(t,n,r)})),e._telemetryInitializers=e._telemetryInitializers||[],function(t){if(!t.isBrowserLinkTrackingEnabled()){var n=["/browserLinkSignalR/","/__browserLink/"];r=function(e){if(e.baseType===Yi.dataType){var t=e.baseData;if(t)for(var r=0;r<n.length;r++)if(t.target&&t.target.indexOf(n[r])>=0)return!1}return!0},e._telemetryInitializers.push(r)}var r}(m),(n=new aa(e.diagLog(),"trackEvent")).action=function(t,n,r,i){i||(i={}),i.duration=r.toString(),e.trackEvent({name:t,properties:i})},(r=new aa(e.diagLog(),"trackPageView")).action=function(t,n,r,i,a){h(i)&&(i={}),i.duration=r.toString();var o={name:t,uri:n,properties:i,measurements:a};e.sendPageViewInternal(o,i)};var y,b=Te(),I=Ee(),S=xe(!0),w=a;if(!1===e.config.disableExceptionTracking&&!e.config.autoExceptionInstrumented&&b){var E=b.onerror;b.onerror=function(e,t,n,r,i){var a=b.event,o=E&&E(e,t,n,r,i);return!0!==o&&w._onerror(Ti.CreateAutoException(e,t,n,r,i,a)),o},e.config.autoExceptionInstrumented=!0}if(!1===e.config.disableExceptionTracking&&!0===e.config.enableUnhandledPromiseRejectionTracking&&!e.config.autoUnhandledPromiseInstrumented&&b){var x=b.onunhandledrejection;b.onunhandledrejection=function(e){var t=b.event,n=x&&x.call(b,e);return!0!==n&&w._onerror(Ti.CreateAutoException(function(e){if(e&&e.reason){var t=e.reason;return!P(t)&&C(t.toString)?t.toString():De(t)}return e||""}(e),S?S.href:"",0,0,e,t)),n},e.config.autoUnhandledPromiseInstrumented=!0}if(!0===e.config.enableAutoRouteTracking&&I&&C(I.pushState)&&C(I.replaceState)&&b&&"undefined"!=typeof Event){var k=a;O(f,(function(e){"AppInsightsPropertiesPlugin"===e.identifier&&(i=e)})),I.pushState=(y=I.pushState,function(){var e=y.apply(this,arguments);return ra(b,Oi(k.config.namePrefix+"pushState")),ra(b,Oi(k.config.namePrefix+"locationchange")),e}),I.replaceState=function(e){return function(){var t=e.apply(this,arguments);return ra(b,Oi(k.config.namePrefix+"replaceState")),ra(b,Oi(k.config.namePrefix+"locationchange")),t}}(I.replaceState),b.addEventListener&&(b.addEventListener(k.config.namePrefix+"popstate",(function(){ra(b,Oi(k.config.namePrefix+"locationchange"))})),b.addEventListener(k.config.namePrefix+"locationchange",(function(){if(i&&i.context&&i.context.telemetryTrace){i.context.telemetryTrace.traceID=Gt();var e="_unknown_";S&&S.pathname&&(e=S.pathname+(S.hash||"")),i.context.telemetryTrace.name=Ur(k.diagLog(),e)}c?(o=c,c=S&&S.href||""):c=S&&S.href||"",setTimeout(function(e){k.trackPageView({refUri:e,properties:{duration:0}})}.bind(a,o),k.autoRoutePVDelay)})))}e.setInitialized(!0)}}})),a}return Object(Mr.b)(t,e),t.getDefaultConfig=function(e){return e||(e={}),e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=ii(e.disableExceptionTracking),e.autoTrackPageVisitTime=ii(e.autoTrackPageVisitTime),e.overridePageViewDuration=ii(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=ii(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isStorageUseDisabled=ii(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=ii(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=ii(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=ii(e.enableDebug),e.disableFlushOnBeforeUnload=ii(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=ii(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},t.Version="2.7.3",t}(Ye),aa=function(e,t){var n=this,r={};n.start=function(t){void 0!==r[t]&&e.throwInternal(X.WARNING,ee.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:t,key:t},!0),r[t]=+new Date},n.stop=function(t,i,a,o){var s=r[t];if(isNaN(s))e.throwInternal(X.WARNING,ee.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:t,key:t},!0);else{var c=$i(s,+new Date);n.action(t,i,c,a,o)}delete r[t],r[t]=void 0}};function oa(e){T(e,(function(t,n){(!tn(n)||"{}"===JSON.stringify(n)&&"callback"!==t)&&delete e[t]}))}function sa(e,t,n){var r=e;if(r){for(r=r;!t(r,n);)if(!(r=r=r.parentNode)||!r.getAttribute)return null;return r}}function ca(e){return"A"===e.nodeName}function ua(e,t){var n,r,i,a,o,s,c,u,l,f,d=(e=e).getBoundingClientRect();return(r=t,i=(n=d).left,a=n.top,o=n.right,s=n.bottom,c=r.left,u=r.top,l=r.right,f=r.bottom,Math.max(0,Math.min(o,l)-Math.max(i,c))*Math.max(0,Math.min(s,f)-Math.max(a,u)))>0}function la(e,t){return!!tn(fa(e,"data-bi-dnt"))}function fa(e,t){return sa(e,da,t)}function da(e,t){var n=e.getAttribute(t);return tn(n)||""===n}function pa(e){return"["+e+"]"}function ga(e,t,n,r){var i;return function(){var a=arguments,o=function(){i=0,t&&t.apply(r,a)},s=!i;clearTimeout(i),i=setTimeout(o,n),s&&e&&e.apply(r,a)}}function ha(){var e={h:0,v:0},t=Te(),n=Ie();return n&&t&&(e={h:parseInt(n.body.scrollLeft||n.documentElement.scrollLeft||t.pageXOffset,10),v:parseInt(n.body.scrollTop||n.documentElement.scrollTop||t.pageYOffset,10)}),e}function va(){var e={h:0,w:0},t=Te(),n=Ie();if(t&&n&&t.screen){var r=n.body||{},i=n.documentElement||{};e.h=t.innerHeight||r.clientHeight||i.clientHeight,e.w=t.innerWidth||r.clientWidth||i.clientWidth}return e}var ma,ya="CL",Ca="CR",ba="CM",Ta="S",Ia="R",Sa="KE",wa="KS";!function(e){e[e.PAGE_ACTION=0]="PAGE_ACTION",e[e.CONTENT_UPDATE=1]="CONTENT_UPDATE"}(ma||(ma={}));var Ea={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0};function xa(e){if(e){var t=function(e){return sa(e,ca)}(e);if(t&&1===t.length){if(t[0].href)return t[0].href;if(t[0].src)return t[0].src}}return""}function ka(e){if(!e||!e.attributes)return!1;try{var t=e.getAttribute("data-dc");return!!tn(t)&&"pii"===t.toLowerCase()}catch(e){return!1}}function Pa(e,t){return e.coreData&&e.coreData.requestUri&&""!==e.coreData.requestUri?e.coreData.requestUri:function(e,t){if(!t)return null;var n=t.protocol+"//"+(t.hostname||t.host)+(tn(t.port)?":"+t.port:"")+t.pathname;if(e.urlCollectQuery){var r=t.search;if(!r){var i=t.hash||"",a=i.indexOf("?");-1!==a&&(r=i.slice(a))}n+=r}e.urlCollectHash&&(n+=t.hash||"");return n}(e,t)}function Aa(e,t){var n,r="",i={},a=[],o=e.cookiesToCollect;!1===e.shareAuthStatus?a=o:O(o,(function(e){"ANON"!==e&&a.push(e)}));try{try{en&&window.varCustomerCookies&&window.varCustomerCookies.length>0&&(a=a.concat(window.varCustomerCookies))}catch(e){t.throwInternal(X.CRITICAL,de.FailedToGetCookies,"Failed to get cookies ")}O(a,(function(e){i.hasOwnProperty(e)||(i[e]="",Zt&&""!==(n=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")))&&(r+=e+"="+n+";"))}))}catch(e){t.throwInternal(X.CRITICAL,de.FailedToGetCookies,"Failed to get cookies ")}return r}function _a(e){!function e(t){var n=Ie()||{};/in/.test(n.readyState)?setTimeout((function(){e(t)}),100):t.call()}((function(){if(Zt&&"complete"===document.readyState)e();else{var t=Te();t&&(t.addEventListener?t.addEventListener("load",(function(){e()})):t.attachEvent&&t.attachEvent("onload",(function(){e()})))}}))}var Na,Oa={longNames:{isShortNames:!1,id:"data-bi-id",areaName:"data-bi-area",slotNumber:"data-bi-slot",contentName:"data-bi-name",contentSource:"data-bi-source",templateName:"data-bi-view",productId:"data-bi-product",contentType:"data-bi-type",parentId:"data-bi-parentid",parentName:"data-bi-parentname"},shortNames:{isShortNames:!0,id:"data-bi-id",areaName:"data-bi-an",slotNumber:"data-bi-sn",contentName:"data-bi-cn",contentSource:"data-bi-cs",templateName:"data-bi-tn",productId:"data-bi-pid",contentType:"data-bi-ct",parentId:"data-bi-pi",parentName:"data-bi-pn"}},Da={parentId:"parentId",parentName:"parentName"},Ra={parentId:"pI",parentName:"pN"},Ma=function(){function e(e,t){this._config=e,this._traceLogger=t,this._contentBlobFieldNames=null,this._contentBlobFieldNames=!0===this._config.useShortNameForContentBlob?Oa.shortNames:Oa.longNames}return e.prototype.getMetadata=function(){var e={},t={};return Zt&&(t=this._getMetaDataFromDOM("awa-",!0),this._config.autoCapture&&this._config.autoCapture.msTags&&(e=this._getMetaDataFromDOM("ms.",!1))),ln(!0,t,e)},e.prototype.getVisibleContent=function(){var e,t=va(),n={top:0,bottom:(e=t).h,left:0,right:e.w},r=null;Zt&&(r=document.querySelectorAll(pa(this._contentBlobFieldNames.areaName)+","+pa(this._contentBlobFieldNames.slotNumber)+","+pa(this._config.biBlobAttributeTag)));var i=[];if(r)for(var a=0;a<r.length;a++){var o=r[a];if(!la(o)&&ua(o,n)){var s=this.getElementContent(o,ma.CONTENT_UPDATE);s&&i.push(s)}}return i},e.prototype.getElementContent=function(e,t){if(!e)return{};var n,r,i,a={};if(this._isTracked(e))if(this._isTrackedWithDataM(e)){r=(n=e).getAttribute(this._config.biBlobAttributeTag);try{a=JSON.parse(r)}catch(e){this._traceLogger.throwInternal(X.CRITICAL,de.CannotParseBiBlobValue,"Can not parse "+r)}}else this._isTrackedWithDataBi(e)&&(i=e,a=ln(a,this._populateElementContentwithDataBi(i,e)));else if((n=fa(e,this._config.biBlobAttributeTag))&&(r=n.getAttribute(this._config.biBlobAttributeTag)),r)try{a=JSON.parse(r)}catch(e){this._traceLogger.throwInternal(X.CRITICAL,de.CannotParseBiBlobValue,"Can not parse "+r)}else i=sa(e,this._isTrackedWithDataBi),a=ln(a,this._populateElementContentwithDataBi(i,e));return oa(a),this._config.autoCapture.lineage&&t===ma.PAGE_ACTION&&(a=ln(a,this.getLineageDetails(e))),this._config.autoPopulateParentIdAndParentName&&(a=ln(a,this._getParentDetails(n||i,a))),a},e.prototype.getLineageDetails=function(e){for(var t,n,r,i=[],a=[],o=this._config.biBlobAttributeTag;e;){var s=e.getAttribute(o)||e[o],c=e.getAttribute("data-module-id")||e["data-module-id"];if(s){try{var u=JSON.parse(s)}catch(e){this._traceLogger.throwInternal(X.CRITICAL,de.CannotParseDataAttribute,"Can not parse "+s)}u&&(n=u.cN||u.cT,r=u.id||void 0,(n||r)&&(i.push(n),c&&(t=n),a.push(r)))}else n=e.getAttribute(this._contentBlobFieldNames.contentName)||e.getAttribute(this._contentBlobFieldNames.contentType),r=e.getAttribute(this._contentBlobFieldNames.id)||void 0,(n||r)&&(i.push(n),c&&(t=n),a.push(r));e=e.parentElement}return{lineage:i.join(">"),lineageById:a.join(">"),lineageContainerName:t}},e.prototype._populateElementContentwithDataBi=function(e,t){var n={};if(!e){if(!this._config.useDefaultContentName)return n;e=t}var r=fa(e,this._contentBlobFieldNames.areaName),i=ln({},this._getAreaContent(r)),a=this._config.callback.contentName?this._config.callback.contentName(e,this._config.useDefaultContentName):"",o=this._getDefaultContentName(t,this._config.useDefaultContentName);(n={id:e.getAttribute(this._contentBlobFieldNames.id)||e.id||"",aN:i.areaName,sN:e.getAttribute(this._contentBlobFieldNames.slotNumber),cN:a||e.getAttribute(this._contentBlobFieldNames.contentName)||o||e.getAttribute("alt")||"",cS:e.getAttribute(this._contentBlobFieldNames.contentSource)||i.contentSource,tN:i.templateName,pid:e.getAttribute(this._contentBlobFieldNames.productId),cT:e.getAttribute(this._contentBlobFieldNames.contentType)||i.type,pI:e.getAttribute(this._contentBlobFieldNames.parentId),pN:e.getAttribute(this._contentBlobFieldNames.parentName)}).id&&n.aN&&n.sN&&n.cN||this._traceLogger.throwInternal(X.WARNING,de.InvalidContentBlob,"Invalid content blob.  Missing required attributes (id, aN/area, sN/slot), cN/contentName.  Content information will still be collected!"),this._contentBlobFieldNames.isShortNames||(n={contentId:n.id,areaName:n.aN,slotNumber:n.sN,contentName:n.cN,contentSource:n.cS,templateName:n.tN,productId:n.pid,contentType:n.cT,parentId:n.pI,parentName:n.pN});for(var s,c=0;c<e.attributes.length;c++){if((s=e.attributes[c]).name!==this._contentBlobFieldNames.id&&s.name!==this._contentBlobFieldNames.areaName&&s.name!==this._contentBlobFieldNames.slotNumber&&s.name!==this._contentBlobFieldNames.contentName&&s.name!==this._contentBlobFieldNames.contentSource&&s.name!==this._contentBlobFieldNames.templateName&&s.name!==this._contentBlobFieldNames.productId&&s.name!==this._contentBlobFieldNames.contentType&&s.name!==this._contentBlobFieldNames.parentId&&s.name!==this._contentBlobFieldNames.parentName&&-1!==s.name.indexOf("data-bi-"))n[s.name.replace("data-bi-","")]=s.value}return n},e.prototype._getMetaDataFromDOM=function(e,t){var n,r={};if(Zt){n=document.querySelectorAll("meta");for(var i=0;i<n.length;i++){var a=n[i];if(a.name)if(0===a.name.toLowerCase().indexOf(e))r[t?a.name.replace(e,""):a.name]=a.content}}return r},e.prototype._getAreaContent=function(e){if(e=e)return{areaName:e.getAttribute(this._contentBlobFieldNames.areaName),templateName:e.getAttribute(this._contentBlobFieldNames.templateName),contentSource:e.getAttribute(this._contentBlobFieldNames.contentSource),product:e.getAttribute(this._contentBlobFieldNames.productId),type:e.getAttribute(this._contentBlobFieldNames.contentType)}},e.prototype._getDefaultContentName=function(e,t){if(!1===t||ka(e)||!e.tagName)return"";var n,r=Ie()||{};switch(e.tagName){case"A":n=r.all?e.innerText||e.innerHTML:e.text||e.innerHTML;break;case"IMG":case"AREA":n=e.alt;break;default:n=e.value||e.name||e.alt||e.innerText||e.id}return n.substring(0,200)},e.prototype._getParentDetails=function(e,t){var n=this._contentBlobFieldNames.isShortNames?Ra.parentId:Da.parentId,r=this._contentBlobFieldNames.isShortNames?Ra.parentName:Da.parentName,i=t[n],a=t[r];return i||a||!e?{}:this._populateParentInfo(e,n,r)},e.prototype._isTrackedWithDataM=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name)return!0;return!1},e.prototype._isTrackedWithDataBi=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if(t[n].name.indexOf("data-bi-")>=0)return!0;return!1},e.prototype._isTracked=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name||t[n].name.indexOf("data-bi-")>=0)return!0;return!1},e.prototype._populateParentInfo=function(e,t,n){var r,i,a={},o=this._config.biBlobAttributeTag,s=sa(e.parentElement,this._isTracked);if(s){var c=s.getAttribute(o)||e[o];if(c){try{var u=JSON.parse(c)}catch(e){this._traceLogger.throwInternal(X.CRITICAL,de.CannotParseDataAttribute,"Can not parse "+c)}u&&(r=u.id,i=u.cN)}else r=s.getAttribute(this._contentBlobFieldNames.id),i=s.getAttribute(this._contentBlobFieldNames.contentName);r&&(a[t]=r),i&&(a[n]=i)}return a},e}(),La={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0},Va=function(){function e(e,t){this._analyticsPlugin=e,this._traceLogger=t}return e.prototype.pageView=function(){this._analyticsPlugin.capturePageView({isAuto:!0})},e.prototype.onLoad=function(){var e=this;_a((function(){e._analyticsPlugin.capturePageViewPerformance({isAuto:!0}),e._analyticsPlugin.captureContentUpdate({isAuto:!0,isDomComplete:!0})}))},e.prototype.click=function(){var e=this,t=Te(),n=Ie();if(t&&t.addEventListener){var r=-1!==navigator.appVersion.indexOf("MSIE")?"click":"mousedown";t.addEventListener(r,(function(t){e._processClick(t)}),!1),t.addEventListener("keyup",(function(t){e._processClick(t)}),!1)}else n&&n.attachEvent&&(n.attachEvent("onclick",(function(t){e._processClick(t)})),n.attachEvent("keyup",(function(t){e._processClick(t)})))},e.prototype.scroll=function(e){var t=this,n=ga(null,(function(){t._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:Ta})}),e.scroll,this),r=Te();r&&(r.addEventListener?r.addEventListener("scroll",n):window.attachEvent&&window.attachEvent("onscroll",n))},e.prototype.maxScroll=function(e){var t=function(){var t=ha();e.v=e.v>t.v?e.v:t.v},n=Te();n&&(n.addEventListener?n.addEventListener("scroll",t):n.attachEvent&&n.attachEvent("onscroll",t))},e.prototype.resize=function(e){var t=this,n=ga((function(){t._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:Ia})}),null,e.resize,this),r=Te();r&&(r.addEventListener?r.addEventListener("resize",n):r.attachEvent&&r.attachEvent("onresize",n))},e.prototype.onUnload=function(){var e=this._analyticsPlugin;function t(){e&&e.capturePageUnload({isAuto:!0})}if(e){var n=((e||{}).core||{}).config.disablePageUnloadEvents;qt(t,n),Ht(t,n)}},e.prototype._processClick=function(e){var t,n={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},r=Te(),i=(e=e||r.event).srcElement||e.target,a={isAuto:!0,clickCoordinateX:e.pageX,clickCoordinateY:e.pageY},o="which"in(t=e)?3===t.which:"button"in t?2===t.button:void 0;if(o)a.actionType=Ca;else if(function(e){return"which"in e?1===e.which:"button"in e?1===e.button:void 0}(e))a.actionType=ya;else if(function(e){if("keyCode"in e)return 13===e.keyCode}(e))a.actionType=Sa;else if(function(e){if("keyCode"in e)return 32===e.keyCode}(e))a.actionType=wa;else{if(!function(e){return"which"in e?2===e.which:"button"in e?4===e.button:void 0}(e))return;a.actionType=ba}for(;i&&i.tagName;){if(i.control&&n[i.control.tagName.toUpperCase()]&&(i=i.control),n[i.tagName.toUpperCase()]){("INPUT"!==i.tagName.toUpperCase()||La[i.type.toUpperCase()])&&this._analyticsPlugin.capturePageAction(i,a,{},o);break}i=i.parentElement||i.parentNode}},e}();function Ua(e,t,n){var r="";return t&&t[n]?r=t[n]:e&&(r=e[n]),r}!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.NAVIGATIONBACK=1]="NAVIGATIONBACK",e[e.NAVIGATION=2]="NAVIGATION",e[e.NAVIGATIONFORWARD=3]="NAVIGATIONFORWARD",e[e.APPLY=4]="APPLY",e[e.REMOVE=5]="REMOVE",e[e.SORT=6]="SORT",e[e.EXPAND=7]="EXPAND",e[e.REDUCE=8]="REDUCE",e[e.CONTEXTMENU=9]="CONTEXTMENU",e[e.TAB=10]="TAB",e[e.COPY=11]="COPY",e[e.EXPERIMENTATION=12]="EXPERIMENTATION",e[e.PRINT=13]="PRINT",e[e.SHOW=14]="SHOW",e[e.HIDE=15]="HIDE",e[e.MAXIMIZE=16]="MAXIMIZE",e[e.MINIMIZE=17]="MINIMIZE",e[e.BACKBUTTON=18]="BACKBUTTON",e[e.STARTPROCESS=20]="STARTPROCESS",e[e.PROCESSCHECKPOINT=21]="PROCESSCHECKPOINT",e[e.COMPLETEPROCESS=22]="COMPLETEPROCESS",e[e.SCENARIOCANCEL=23]="SCENARIOCANCEL",e[e.DOWNLOADCOMMIT=40]="DOWNLOADCOMMIT",e[e.DOWNLOAD=41]="DOWNLOAD",e[e.SEARCHAUTOCOMPLETE=60]="SEARCHAUTOCOMPLETE",e[e.SEARCH=61]="SEARCH",e[e.SEARCHINITIATE=62]="SEARCHINITIATE",e[e.TEXTBOXINPUT=63]="TEXTBOXINPUT",e[e.PURCHASE=80]="PURCHASE",e[e.ADDTOCART=81]="ADDTOCART",e[e.VIEWCART=82]="VIEWCART",e[e.ADDWISHLIST=83]="ADDWISHLIST",e[e.FINDSTORE=84]="FINDSTORE",e[e.CHECKOUT=85]="CHECKOUT",e[e.REMOVEFROMCART=86]="REMOVEFROMCART",e[e.PURCHASECOMPLETE=87]="PURCHASECOMPLETE",e[e.VIEWCHECKOUTPAGE=88]="VIEWCHECKOUTPAGE",e[e.VIEWCARTPAGE=89]="VIEWCARTPAGE",e[e.VIEWPDP=90]="VIEWPDP",e[e.UPDATEITEMQUANTITY=91]="UPDATEITEMQUANTITY",e[e.INTENTTOBUY=92]="INTENTTOBUY",e[e.PUSHTOINSTALL=93]="PUSHTOINSTALL",e[e.SIGNIN=100]="SIGNIN",e[e.SIGNOUT=101]="SIGNOUT",e[e.SOCIALSHARE=120]="SOCIALSHARE",e[e.SOCIALLIKE=121]="SOCIALLIKE",e[e.SOCIALREPLY=122]="SOCIALREPLY",e[e.CALL=123]="CALL",e[e.EMAIL=124]="EMAIL",e[e.COMMUNITY=125]="COMMUNITY",e[e.SOCIALFOLLOW=126]="SOCIALFOLLOW",e[e.VOTE=140]="VOTE",e[e.SURVEYINITIATE=141]="SURVEYINITIATE",e[e.SURVEYCOMPLETE=142]="SURVEYCOMPLETE",e[e.REPORTAPPLICATION=143]="REPORTAPPLICATION",e[e.REPORTREVIEW=144]="REPORTREVIEW",e[e.SURVEYCHECKPOINT=145]="SURVEYCHECKPOINT",e[e.CONTACT=160]="CONTACT",e[e.REGISTRATIONINITIATE=161]="REGISTRATIONINITIATE",e[e.REGISTRATIONCOMPLETE=162]="REGISTRATIONCOMPLETE",e[e.CANCELSUBSCRIPTION=163]="CANCELSUBSCRIPTION",e[e.RENEWSUBSCRIPTION=164]="RENEWSUBSCRIPTION",e[e.CHANGESUBSCRIPTION=165]="CHANGESUBSCRIPTION",e[e.REGISTRATIONCHECKPOINT=166]="REGISTRATIONCHECKPOINT",e[e.CHATINITIATE=180]="CHATINITIATE",e[e.CHATEND=181]="CHATEND",e[e.TRIALSIGNUP=200]="TRIALSIGNUP",e[e.TRIALINITIATE=201]="TRIALINITIATE",e[e.SIGNUP=210]="SIGNUP",e[e.FREESIGNUP=211]="FREESIGNUP",e[e.PARTNERREFERRAL=220]="PARTNERREFERRAL",e[e.LEARNLOWFUNNEL=230]="LEARNLOWFUNNEL",e[e.LEARNHIGHFUNNEL=231]="LEARNHIGHFUNNEL",e[e.SHOPPINGINTENT=232]="SHOPPINGINTENT",e[e.VIDEOSTART=240]="VIDEOSTART",e[e.VIDEOPAUSE=241]="VIDEOPAUSE",e[e.VIDEOCONTINUE=242]="VIDEOCONTINUE",e[e.VIDEOCHECKPOINT=243]="VIDEOCHECKPOINT",e[e.VIDEOJUMP=244]="VIDEOJUMP",e[e.VIDEOCOMPLETE=245]="VIDEOCOMPLETE",e[e.VIDEOBUFFERING=246]="VIDEOBUFFERING",e[e.VIDEOERROR=247]="VIDEOERROR",e[e.VIDEOMUTE=248]="VIDEOMUTE",e[e.VIDEOUNMUTE=249]="VIDEOUNMUTE",e[e.VIDEOFULLSCREEN=250]="VIDEOFULLSCREEN",e[e.VIDEOUNFULLSCREEN=251]="VIDEOUNFULLSCREEN",e[e.VIDEOREPLAY=252]="VIDEOREPLAY",e[e.VIDEOPLAYERLOAD=253]="VIDEOPLAYERLOAD",e[e.VIDEOPLAYERCLICK=254]="VIDEOPLAYERCLICK",e[e.VIDEOVOLUMECONTROL=255]="VIDEOVOLUMECONTROL",e[e.VIDEOAUDIOTRACKCONTROL=256]="VIDEOAUDIOTRACKCONTROL",e[e.VIDEOCLOSEDCAPTIONCONTROL=257]="VIDEOCLOSEDCAPTIONCONTROL",e[e.VIDEOCLOSEDCAPTIONSTYLE=258]="VIDEOCLOSEDCAPTIONSTYLE",e[e.VIDEORESOLUTIONCONTROL=259]="VIDEORESOLUTIONCONTROL",e[e.VIRTUALEVENTJOIN=260]="VIRTUALEVENTJOIN",e[e.VIRTUALEVENTEND=261]="VIRTUALEVENTEND",e[e.JOINTEAMSMEETINGEVENT=262]="JOINTEAMSMEETINGEVENT",e[e.IMPRESSION=280]="IMPRESSION",e[e.CLICK=281]="CLICK",e[e.RICHMEDIACOMPLETE=282]="RICHMEDIACOMPLETE",e[e.ADBUFFERING=283]="ADBUFFERING",e[e.ADERROR=284]="ADERROR",e[e.ADSTART=285]="ADSTART",e[e.ADCOMPLETE=286]="ADCOMPLETE",e[e.ADSKIP=287]="ADSKIP",e[e.ADTIMEOUT=288]="ADTIMEOUT",e[e.OTHER=300]="OTHER"}(Na||(Na={}));var ja=function(){function e(e,t,n,r,i,a,o){this._webAnalyticsPlugin=e,this._config=t,this._contentHandler=n,this._id=r,this._pageTagsCallback=i,this.metaTags=a,this._traceLogger=o,this._pageTags={}}return e.prototype._setBasicProperties=function(e,t){e.ver="1.0",e.id=this._id.getLastPageViewId(),tn(e.name)||(e.name=function(e,t){if(t&&t.pageName)return t.pageName;if(e.callback&&"function"==typeof e.callback.pageName)return e.callback.pageName();if(e.coreData&&e.coreData.pageName)return e.coreData.pageName;var n=(xe()||{}).pathname||"",r=n.split("/");return n=r&&""!==r[r.length-1]?r[r.length-1]:"Undefined"}(this._config,t)),!tn(e.uri)&&en&&(e.uri=Pa(this._config,xe()))},e.prototype._setCommonProperties=function(e,t,n){var r;this._setBasicProperties(e,n),this._setPageTags(e,n),this._pageTypeMetaTag=Ua(this.metaTags,this._config.coreData,"pageType"),this._marketMetaTag=Ua(this.metaTags,this._config.coreData,"market"),this._behaviorMetaTag=Ua(this.metaTags,this._config.coreData,"behavior"),tn(n.pageType)&&(e.pageType=n.pageType),tn(this._pageTypeMetaTag)&&!tn(e.pageType)&&(e.pageType=this._pageTypeMetaTag),tn(this._marketMetaTag)&&(e.market=this._marketMetaTag),e.isLoggedIn=(r=this._config).callback&&"function"==typeof r.callback.signedinStatus?r.callback.signedinStatus():r.isLoggedIn,t.cookieEnabled=dt()},e.prototype._setPageTags=function(e,t){var n=this;n._pageTags={},n.metaTags&&(n._pageTags.metaTags=n._pageTags.metaTags||{},T(n.metaTags,(function(e,t){"behavior"!==e&&"market"!==e&&"pageType"!==e&&(n._pageTags.metaTags[e]=t)}))),n._config.coreData&&n._config.coreData.pageTags&&(n._pageTags=ln(!0,n._pageTags,n._config.coreData.pageTags)),n._pageTagsCallback&&(n._pageTags=ln(!0,n._pageTags,n._pageTagsCallback())),tn(t.pageTags)&&(n._pageTags=ln(!0,n._pageTags,t.pageTags)),e.properties=e.properties||{},e.properties.pageTags=n._pageTags},e.prototype._getBehavior=function(e){var t;return e&&tn(e.behavior)?t=e.behavior:tn(this._behaviorMetaTag)&&(t=this._behaviorMetaTag),this._getValidBehavior(t)},e.prototype._getValidBehavior=function(e){if(tn(e)){var t=void 0,n=parseInt(e);if((t=isNaN(n)?Na[e]:n)in Na)return t}return 0},e}(),Fa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.capturePageView=function(e,t){e=tn(e)?e:{};var n={},r=tn(t)?t:{};this._setCommonProperties(n,r,e),n.refUri=tn(e.referrerUri)?e.referrerUri:this._config.coreData.referrerUri,n.isManual=!e.isAuto;var i=Aa(this._config,this._traceLogger);i&&(r.cookies=i),r.behavior=this._getBehavior(e),this._webAnalyticsPlugin.trackPageView(n,r)},t}(ja),qa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.trackPageAction=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var r={name:"Ms.Web.PageAction",baseType:"PageActionData",ext:n,data:{},baseData:{},latency:ie};g(e.sync)||(r.sync=e.sync),r.baseData.name=e.name,r.baseData.uri=e.uri,r.baseData.market=e.market,r.baseData.pageType=e.pageType,r.baseData.isLoggedIn=e.isLoggedIn,r.baseData.id=e.id,r.baseData.properties=e.properties,r.baseData.ver=e.ver,r.baseData.actionType=e.actionType,r.baseData.behavior=e.behavior,r.baseData.clickCoordinates=e.clickCoordinates,r.baseData.content=e.content,r.baseData.contentVer=e.contentVer,r.baseData.targetUri=e.targetUri,T(t,(function(e,t){r.data[e]||(r.data[e]=t)})),this._webAnalyticsPlugin.core.track(r)},t.prototype.capturePageAction=function(e,t,n,r){t=tn(t)?t:{};var i={},a=tn(n)?n:{};this._setCommonProperties(i,a,t),i.isManual=!t.isAuto,i.behavior=this._getBehavior(t);var o,s,c,u={};if(e=e,r)i.behavior=9;else{var l=this._config||{};if((e&&g(l.syncPageActionNavClick)||l.syncPageActionNavClick)&&(t.actionType===ya||t.actionType===Sa)&&"a"===e.tagName.toLowerCase()){var f=(e.getAttribute("href")||"").toLowerCase();f&&(S(f,"https:")||S(f,"http:")||S(f,".")||S(f,"/"))&&(i.sync=3)}}if(e&&(i.targetUri=function(e){var t="";switch(e.tagName){case"A":case"AREA":t=e.href||"";break;case"IMG":t=xa(e);break;case"INPUT":var n=e.type;if(n&&Ea[n.toUpperCase()]){var r=xe()||{};t=e.form?e.form.action||r.pathname||"":r.pathname||""}}return t}(e),(u=ln(u=this._contentHandler.getElementContent(e,ma.PAGE_ACTION),this._getCustomTags(e)))&&u.bhvr&&!tn(t.behavior))){var d=(s="bhvr",(o=u)&&o[s]&&(c=o[s],delete o[s]),c);i.behavior=this._getValidBehavior(d)}tn(t.actionType)&&(i.actionType=t.actionType),tn(t.clickCoordinateX)&&tn(t.clickCoordinateY)&&(i.clickCoordinates=t.clickCoordinateX+"X"+t.clickCoordinateY),tn(t.targetUri)&&(i.targetUri=t.targetUri),i.contentVer="2.0";var p=this._config.callback.pageActionContentTags;i.content=pa(JSON.stringify(ln(t.content||u,"function"==typeof p?p(e):{},t&&t.contentTags?t.contentTags:{}))),a.timeToAction=this._getTimeToClick(),a.refUri=tn(t.refUri)?t.refUri:this._config.coreData.referrerUri;var h=Aa(this._config,this._traceLogger);h&&(a.cookies=h),this.trackPageAction(i,a)},t.prototype._getCustomTags=function(e){for(var t={};e;){if(!ka(e))for(var n in e.attributes)if(n&&e.attributes[n]){var r=e.attributes[n].name;r&&0===r.toLowerCase().indexOf("ms.")&&(t[r]=e.attributes[n].value)}e=e.parentElement||e.parentNode}return t},t.prototype._getTimeToClick=function(){var e=ke();if(e&&e.timing){var t=e.timing.navigationStart;if(t&&0!==t)return(new Date).getTime()-t}return-1},t}(ja),Ha=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.trackContentUpdate=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var r={name:"Ms.Web.ContentUpdate",baseType:"ContentUpdateData",ext:n,data:{},baseData:{},latency:oe};O(["name","uri","market","pageType","isLoggedIn","id","properties","ver","actionType","behavior","pageHeight","content","contentVer","vpHeight","vpWidth","vScrollOffset","hScrollOffset"],(function(t){r.baseData[t]=e[t]})),T(t,(function(e,t){r.data[e]||(r.data[e]=t)})),this._webAnalyticsPlugin.core.track(r)},t.prototype.captureContentUpdate=function(e,t){e=tn(e)?e:{};var n={},r=tn(t)?t:{};this._setCommonProperties(n,r,e),n.behavior=this._getBehavior(e),tn(e.actionType)&&(n.actionType=e.actionType);var i=va(),a=ha();n.pageHeight=Zt?document.body.scrollHeight:null,n.vpHeight=i.h,n.vpWidth=i.w,n.vScrollOffset=a.v,n.hScrollOffset=a.h,n.contentVer="2.0",n.isManual=!e.isAuto;var o=this._getContentFormatted(e.content)||JSON.stringify(this._contentHandler.getVisibleContent());o&&(n.content=o),tn(e.isDomComplete)?r.isDomComplete=e.isDomComplete:r.isDomComplete=!1,this.trackContentUpdate(n,r)},t.prototype._getContentFormatted=function(e){if(tn(e))return"[object Array]"===Object.prototype.toString.call(e)?JSON.stringify(e):pa(JSON.stringify(e))},t}(ja),Ba=function(e){function t(t,n,r,i,a,o){var s=e.call(this,t,n,null,r,{},{},i)||this;return s._webAnalyticsPlugin=t,s._config=n,s._id=r,s._traceLogger=i,s._timestamp=a,s._maxScroll=o,s}return Object(o.b)(t,e),t.prototype.trackPageUnload=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var r={name:"Ms.Web.PageUnload",baseType:"PageUnloadData",ext:n,data:{},baseData:{},latency:oe},i=this._config||{};(g(i.syncUnloadAction)||i.syncUnloadAction)&&(r.sync=3),r.baseData.name=e.name,r.baseData.uri=e.uri,r.baseData.id=e.id,r.baseData.properties=e.properties,r.baseData.ver=e.ver,r.baseData.market=e.market,r.baseData.pageType=e.pageType,r.baseData.isLoggedIn=e.isLoggedIn,T(t,(function(e,t){r.data[e]||(r.data[e]=t)})),this._webAnalyticsPlugin.core.track(r)},t.prototype.capturePageUnload=function(e,t){e=tn(e)?e:{};var n={},r=tn(t)?t:{},i=Zt?document.body.scrollHeight:0;if(this._setBasicProperties(n,e),n.isManual=!e.isAuto,r.dwellTime=this._timestamp._recordTimeSpan("dwellTime",!0),r.scrollDepth=e.scrollDepth||this._maxScroll.v.toString()+"/"+i.toString(),r.vpHeight=va().h,r.vScrollOffset=e.vScrollOffset||this._maxScroll.v,en){var a=ke(),o=a?a.timing:null;o&&o.loadEventStart&&o.navigationStart&&o.loadEventStart>0&&(r.pageLoadTime=o.loadEventStart-o.navigationStart)}this.trackPageUnload(n,r)},t}(ja),za=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.capturePageViewPerformance=function(e,t){e=tn(e)?e:{};var n={},r=tn(t)?t:{};this._setBasicProperties(n,e),this._setPageTags(n,e),n.isManual=!e.isAuto,r.behavior=this._getBehavior(e),r.vpHeight=e.vpHeight,r.vpWidth=e.vpWidth,r.framework=e.framework,r.systemTiming=e.systemTiming,r.customTiming=e.customTiming,this._webAnalyticsPlugin._populatePageViewPerformance(n),this._webAnalyticsPlugin.trackPageViewPerformance(n,r)},t}(ja),Wa=function(){function e(e){this.core=e,this.appUserId=null,this.firstPageView=!1,this._cookieMgr=lt(e),this.lastPageViewId=un(),this.traceId=this.createTraceId()}return e.visitorId=function(){return cn(lt(null),"MUID")},e.prototype.createTraceId=function(){return un().replace(/-/g,"")},e.prototype.getTraceId=function(){return this.traceId},e.prototype.getLastPageViewId=function(){return this.lastPageViewId},e.prototype.initializeIds=function(){this.firstPageView?(this.traceId=this.createTraceId(),this.lastPageViewId=un()):this.firstPageView=!0},e.prototype.getMuidUserId=function(){var e=cn(this._cookieMgr,"MUID");return e&&e.length?"t:"+e:e},e.prototype.setAppUserId=function(t){if(this.appUserId=null,t){for(var n=0;n<e.userIdPrefixes.length;n++)if(e.userIdPrefixes[n]===t.substring(0,2)){this.appUserId=t;break}this.appUserId}},e.prototype.setDeviceClass=function(e){e&&(this.deviceClass=e)},e.prototype.getDeviceClass=function(){return this.deviceClass},e.prototype.getAppUserId=function(){return this.appUserId},e.prototype.syncMuid=function(e){var t=xe();if(t&&e){var n=(t.protocol||"http:")+"//"+e+"/c.gif?DI=4050&did=1&t=",r=Ie();if(r){var i=r.createElement("IMG");i.style.display="none",i.src=n,i.hidden="",i["aria-hidden"]="true",i.role="presentation"}return!0}return!1},e.prototype.getMuidHost=function(e){return{"microsoft.com":"c1.microsoft.com","xbox.com":"c.xbox.com","live.com":"c.live.com","microsoftstore.com":"c.microsoftstore.com","msn.com":"c.msn.com","windows.com":"c.windows.com","office.com":"c.office.com"}[e]},e.userIdPrefixes=["c:","i:","w:"],e}(),Ga=function(){function e(){this._timers=[]}return e.prototype._recordTimeSpan=function(e,t){var n=(new Date).getTime();if(t)return n-this._timers[e];this._timers[e]=n},e}(),Ka=function(e){function t(){var n,r,i,a,o,c,u,l=e.call(this)||this;l.identifier="WebAnalyticsPlugin",l.version="3.1.10";var f,d,p,g={h:0,v:0},h=!1;return Object(s.a)(t,l,(function(e,t){function s(e){var t={useDefaultContentName:!0,useShortNameForContentBlob:!0,debounceMs:{scroll:600,resize:3e3},biBlobAttributeTag:"data-m",isLoggedIn:!1,shareAuthStatus:!1,cookiesToCollect:["MSFPC","ANON"],autoCapture:{pageView:!0,onLoad:!0,onUnload:!0,click:!0,scroll:!1,resize:!1,lineage:!1,jsError:!0,msTags:!0},callback:{pageName:null,pageActionPageTags:null,pageViewPageTags:null,contentUpdatePageTags:null,pageActionContentTags:null,signedinStatus:null},coreData:{referrerUri:Zt?document.referrer:"",requestUri:"",pageName:"",pageType:"",product:"",market:"",pageTags:{}},autoPopulateParentIdAndParentName:!1,syncMuid:!1,muidDomain:"microsoft.com"},n=[];if(T(t,(function(e,t){y(t)&&n.push(e)})),e)return function(e,t){oa(e),O(t,(function(t,n){y(e[t])?oa(e[t]):delete e[t]}))}(e,n),ln(!0,t,e)}function v(e){var t={};return void 0!==e.isManual&&(t.web={},t.web.isManual=void 0===e.isManual||e.isManual,delete e.isManual),t}e._telemetryInitializers=e._telemetryInitializers||[],e.updateCoreDataConfig=function(e){u.coreData=ln(!0,u.coreData,e)},e.refreshMetadata=function(){var e=d.getMetadata();n.metaTags=e,i.metaTags=e,r.metaTags=e,o.metaTags=e},e.initialize=function(h,v,m){var y=v;h.extensionConfig=h.extensionConfig||[],h.extensionConfig[e.identifier]=h.extensionConfig[e.identifier]||{},e._config=u=s(h.extensionConfig[e.identifier]);var C=u.autoCapture,b=y.getWParam;if(y.getWParam=function(){var e=0;return u.mscomCookies&&(e|=1),e|b()},h.extensionConfig[e.identifier].disableExceptionTracking=!C.jsError,t.initialize(h,v,m),d=d||new Ma(u,e.diagLog()),p=p||new Va(e,e.diagLog()),u.manageCv){for(var T=0;T<m.length;T++)if("CorrelationVectorPlugin"===m[T].identifier){u.manageCv=!0,c=m[T];break}c||(e.diagLog().throwInternal(X.WARNING,de.CVPluginNotAvailable,'Automatic Cv management is set to "true" in config.  However, cv plugin is not available. Disabling automatic Cv management'),u.manageCv=!1)}e.id=new Wa(v),f=new Ga;var I=d.getMetadata();n=new Fa(l,u,d,e.id,u.callback.pageViewPageTags,I,e.diagLog()),r=new qa(l,u,d,e.id,u.callback.pageActionPageTags,I,e.diagLog()),i=new Ha(l,u,d,e.id,u.callback.contentUpdatePageTags,I,e.diagLog()),a=new Ba(l,u,e.id,e.diagLog(),f,g),o=new za(l,u,d,e.id,u.callback.pageViewPageTags,I,e.diagLog()),u.syncMuid&&_a((function(){var t=e.id.getMuidHost(u.muidDomain);e.id.syncMuid(t)})),C.pageView&&p.pageView(),C.onLoad&&p.onLoad(),C.click&&p.click(),C.scroll&&p.scroll(u.debounceMs),C.resize&&p.resize(u.debounceMs),(C.onUnload||u.manualPageUnload)&&p.maxScroll(g),C.onUnload&&p.onUnload()},e.processTelemetry=function(t,n){gn(t,e.identifier);var r=t;"PageviewData"===r.baseType?(r.name="Ms.Web.PageView",r.latency=oe):"ExceptionData"===r.baseType?(r.name="Ms.Web.ClientError",r.latency=ie,delete r.baseData.aiDataContract):"PageviewPerformanceData"===r.baseType&&(r.name="Ms.Web.PageViewPerformance",r.latency=ie,delete r.baseData.isValid,delete r.baseData.durationMs);var i=null;"PageviewData"!==r.baseType?u.manageCv&&(i=c.getCv())&&i.increment():u.manageCv&&((i=c.getCv())?i.seed():i=c.getCv());for(var a=!1,o=e._telemetryInitializers.length,s=0;s<o;++s){var l=e._telemetryInitializers[s];if(l&&!1===l.apply(null,[r])){a=!0;break}}a||e.processNext(r,n)},e.addTelemetryInitializer=function(t){e._telemetryInitializers.push(t)},e.trackEvent=function(t,n){t.latency=t.latency||ie,t.baseData=t.baseData||{},t.data=t.data||{},tn(n)&&T(n,(function(e,n){t.data[e]=n})),e.core.track(t)},e.trackPageView=function(n,r){f._recordTimeSpan("dwellTime",!1),g.v=0,h=!1,e.id.initializeIds(),n.id=e.id.getLastPageViewId(),t.sendPageViewInternal(n,r,v(n))},e.capturePageView=function(e,t){n.capturePageView(e,t)},e.trackPageViewPerformance=function(e,n){t.sendPageViewPerformanceInternal(e,n,v(e))},e.capturePageViewPerformance=function(e,t){o.capturePageViewPerformance(e,t)},e.trackException=function(e,n){e.id=e.id||un(),t.sendExceptionInternal(e,n,v(e))},e.trackPageAction=function(e,t){r.trackPageAction(e,t)},e.capturePageAction=function(e,t,n,i){(function(e,t){return!(t&&t.isAuto&&tn(fa(e,"data-bi-mto")))&&!la(e)})(e,t)&&r.capturePageAction(e,t,n,i)},e.trackContentUpdate=function(e,t){i.trackContentUpdate(e,t)},e.captureContentUpdate=function(e,t){i.captureContentUpdate(e,t)},e.trackPageUnload=function(e,t){h||(h=!0,a.trackPageUnload(e,t))},e.capturePageUnload=function(e,t){h||(h=!0,a.capturePageUnload(e,t))},e._populatePageViewPerformance=function(t){e._pageViewPerformanceManager.populatePageViewPerformanceEvent(t)},e.setContentHandler=function(e){d=e},e.setAutoCaptureHandler=function(e){p=e}})),l}return Object(o.b)(t,e),t}(ia),Qa=["snippet","_webAnalytics","_postChannel","_propertyManager","_extensions"],Xa=function(e){function t(){var t=e.call(this)||this;return t._postChannel=new Rr,t._propertyManager=new dr,t._webAnalytics=new Ka,t}return Object(o.b)(t,e),t.prototype.initialize=function(t,n){var r=this,i=this;Z(i,(function(){return"ApplicationInsights:initialize"}),(function(){var a=[i._propertyManager,i._webAnalytics];if(n&&(a=a.concat(n)),t||K("You must provide a config object!"),t.channels&&t.channels.length>0){for(var o=!1,s=0;s<t.channels[0].length;s++)if(t.channels[0][s].identifier===i._postChannel.identifier){o=!0;break}o||t.channels[0].push(i._postChannel)}else t.channels=[[i._postChannel]];var c=t.extensionConfig=t.extensionConfig||[];c[i._postChannel.identifier]=t?t.channelConfiguration:{},c[i._propertyManager.identifier]=t?t.propertyConfiguration:{},c[i._webAnalytics.identifier]=t?t.webAnalyticsConfiguration:{};try{e.prototype.initialize.call(r,t,a)}catch(e){i.logger.throwInternal(X.CRITICAL,de.FailedToInitializeSDK,"Failed to initialize SDK."+De(e))}}),(function(){return{config:t,extensions:n}}))},t.prototype.getPropertyManager=function(){return this._propertyManager},t.prototype.getPostChannel=function(){return this._postChannel},t.prototype.getWebAnalyticsExtension=function(){return this._webAnalytics},t.prototype.addTelemetryInitializer=function(e){this._webAnalytics.addTelemetryInitializer(e)},t.prototype.trackEvent=function(e,t){this._webAnalytics.trackEvent(e,t)},t.prototype.trackPageView=function(e,t){this._webAnalytics.trackPageView(e,t)},t.prototype.trackPageAction=function(e,t){this._webAnalytics.trackPageAction(e,t)},t.prototype.trackContentUpdate=function(e,t){this._webAnalytics.trackContentUpdate(e,t)},t.prototype.trackPageUnload=function(e,t){this._webAnalytics.trackPageUnload(e,t)},t.prototype.trackException=function(e,t){this._webAnalytics.trackException(e,t)},t.prototype.trackPageViewPerformance=function(e,t){this._webAnalytics.trackPageViewPerformance(e,t)},t.prototype.capturePageView=function(e,t){this._webAnalytics.capturePageView(e,t)},t.prototype.capturePageViewPerformance=function(e,t){this._webAnalytics.capturePageViewPerformance(e,t)},t.prototype.capturePageAction=function(e,t,n,r){this._webAnalytics.capturePageAction(e,t,n,r)},t.prototype.captureContentUpdate=function(e,t){this._webAnalytics.captureContentUpdate(e,t)},t.prototype.capturePageUnload=function(e,t){this._webAnalytics.capturePageUnload(e,t)},t.prototype._onerror=function(e){this._webAnalytics._onerror(e)},t.prototype.emptySnippetQueue=function(e){var t=this;try{if(function(){if(e){h(t._snippetVersion)||t._snippetVersion,T(t,(function(t,n){P(t)&&!C(n)&&t&&"_"!==t[0]&&-1===Qa.indexOf(t)&&(e[t]=n)}))}}(),x(e.queue)){for(var n=e.queue.length,r=0;r<n;r++){(0,e.queue[r])()}e.queue=void 0,delete e.queue}}catch(e){e&&C(e.toString)&&e.toString()}},t.prototype.updateSnippetDefinitions=function(e){this.snippet=e,this._snippetVersion=""+(e.sv||e.version||""),function(e,t,n){if(e&&t&&e!==t&&y(e)&&y(t)){var r=function(r){if(P(r)){var i=t[r];C(i)?n&&!n(r,!0,t,e)||(e[r]=(a=r,function(){var e=arguments;return t[a].apply(t,e)})):n&&!n(r,!1,t,e)||(m(e,r)&&delete e[r],F(e,r,(function(){return t[r]}),(function(e){t[r]=e}))||(e[r]=i))}var a};for(var i in t)r(i)}}(e,this,(function(e){return e&&-1===Qa.indexOf(e)}))},t}(mn),Ja=0,$a=1,Ya=2;function Za(e){try{return e.responseText}catch(e){}return""}var eo=function(){function e(){}return e.prototype.makeRequest=function(e,t,n,r){var i,a=this;if(Le()){var o=new XDomainRequest;o.open(n,e),o.onload=function(){r(200,Za(o),{})},o.onerror=function(){r(400,Za(o),{})},o.ontimeout=function(){r(500,Za(o),{})},o.onprogress=function(){},setTimeout((function(){o.send(t)}),0)}else if(_e())fetch(e,(i={body:t,method:n,credentials:"include"},i[Qr]=!0,i)).then((function(e){var t={};e.headers&&e.headers.forEach((function(e,n){t[n]=e})),r(e.status,JSON.stringify(e.json()),t)})).catch((function(e){r(0,e,{})}));else if(Ve()){var s=vn(n,e,!0,!0);s.onload=function(){r(s.status,Za(s),a._convertAllHeadersToMap(s.getAllResponseHeaders()))},s.onerror=function(){r(s.status,Za(s),a._convertAllHeadersToMap(s.getAllResponseHeaders()))},s.ontimeout=function(){r(s.status,Za(s),a._convertAllHeadersToMap(s.getAllResponseHeaders()))},s.send(t)}},e.prototype._convertAllHeadersToMap=function(e){var t={};if(e)for(var n=e.split("\n"),r=0;r<n.length;++r){var i=n[r].split(": ");t[i[0]]=i[1]}return t},e}(),to=function(){function e(e,t,n){this._endpointUrl="",this._logger=n,this._endpointUrl=e,this._requestHandler=new eo,this.setAuthType(t)}return e.prototype.setAuthType=function(e){var t="";switch(e){case Ya:t="aad.js";break;case $a:t="msa.js"}this._getLoginUrlPath=this._endpointUrl+"auth/GetLoginUrl/"+t,this._signOutPath=this._endpointUrl+"auth/SignOut/"+t},e.prototype.startAuthHandshake=function(){var e=this;this._requestHandler.makeRequest(this._getLoginUrlPath,"","GET",(function(t,n,r){try{var i=JSON.parse(n).webResult.authLoginUrl,a=Ie();if(a){var o=a.createElement("iframe"),s=Math.floor(Math.random()*Math.floor(1e4));o.id="telframe"+s,o.style.display="none",o.src=i,a.body.appendChild(o),e._loginIframeId=o.id}}catch(t){e._logger.throwInternal(X.CRITICAL,de.AuthHandShakeError,"Error with auth handshake process: "+t)}}))},e.prototype.cleanAuthIFrame=function(){var e=Ie();if(e){var t=e.getElementById(this._loginIframeId);t&&e.body.removeChild(t)}},e.prototype.signOutAndClearCookies=function(){this._requestHandler.makeRequest(this._signOutPath,"","POST",(function(e,t,n){}))},e}(),no=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.identifier="AuthPlugin",t.priority=190,t.version="3.1.10",t._eventQueue=[],t}return Object(o.b)(t,e),t.prototype.initialize=function(t,n,r){var i=this;i._core=n,e.prototype.initialize.call(this,t,n,r);i._getTelCtx();var a=i.identifier;i._authConfig=t.extensionConfig[a]||{},t.extensionConfig[a]=i._authConfig,i._handshakeInProgress=!1,i._authHandhshakeTimeoutMs=i._authConfig.handShakeTimeoutMs?i._authConfig.handShakeTimeoutMs:5e3;var o=i._authConfig.overrideAuthEndpointUrl?i._authConfig.overrideAuthEndpointUrl:t.endpointUrl;function s(){i._releaseEventQueue()}i._authHandler=new to(o,i._authConfig.authType,i.diagLog()),i._updateWParam();var c=t.disablePageUnloadEvents||[];qt(s,c),Ht(s,c);var u=Te();u&&b(u,"message",(function(e){i._receiveMessage(e,o)}))},t.prototype.processTelemetry=function(e,t){var n=this;if(t=this._getTelCtx(t),gn(e,this.identifier),this._authConfig.authType!==Ja&&this._authConfig.loggedInStatusCallback&&!0===this._authConfig.loggedInStatusCallback()){var r=lt(this.core);if(!cn(r,"authBounced")){r.set("authBounced",N(new Date),1800),this._handshakeInProgress=!0,this._authHandhshakeTimeout=setTimeout((function(){n._completeAuthHandshake()}),this._authHandhshakeTimeoutMs),this._authHandler.startAuthHandshake()}}this._handshakeInProgress?this._eventQueue.push({ctx:t,item:e}):this.processNext(e,t)},t.prototype.signOut=function(){lt(this.core).del("authBounced"),this._authHandler.signOutAndClearCookies(),this._completeAuthHandshake()},t.prototype.setAuthType=function(e){this._completeAuthHandshake(),this._authConfig.authType=e,this._authHandler.setAuthType(e),this._updateWParam()},t.prototype._updateWParam=function(){var e=this;if(this._authConfig.authType!=Ja){var t=this._core,n=t.getWParam;t.getWParam=function(){var t=0;return(t=e._authConfig.authType===$a?8|t:16|t)|(n?n():0)}}},t.prototype._receiveMessage=function(e,t){var n=Ie();if(n){var r=n.createElement("a");r.href=t;var i=r.protocol+"//"+r.hostname;if((e.origin===i||"https://login.microsoftonline.com"===e.origin)&&e.data)try{this._completeAuthHandshake()}catch(e){this.diagLog().throwInternal(X.CRITICAL,de.AuthRedirectFail,"Error receiving auth redirect message: "+e)}}},t.prototype._completeAuthHandshake=function(){this._authHandhshakeTimeout&&clearTimeout(this._authHandhshakeTimeout),this._authHandler&&this._authHandler.cleanAuthIFrame(),this._handshakeInProgress=!1,this._releaseEventQueue()},t.prototype._releaseEventQueue=function(){O(this._eventQueue,(function(e){e.ctx.processNext(e.item)})),this._eventQueue=[]},t}(Ye),ro=function(){},io=function(){function e(e,t){this._base="",this._currentElement=0,this._base64CharSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this._cv1Constants=new ro,this._cv2Constants=new ro,this._cvVersionAtLatestValidityCheck=2,this._traceLogger=Ge(t),this._cv1Constants.maxCorrelationVectorLength=63,this._cv1Constants.baseLength=16,this._cv1Constants.validationPattern=new RegExp("^["+this._base64CharSet+"]{"+this._cv1Constants.baseLength.toString()+"}(.[0-9]+)*$"),this._cv2Constants.maxCorrelationVectorLength=127,this._cv2Constants.baseLength=22,this._cv2Constants.validationPattern=new RegExp("^["+this._base64CharSet+"]{"+this._cv2Constants.baseLength.toString()+"}(.[0-9]+)*$"),this._currentCvConstants=this._cv2Constants,this.init(e)}return e.prototype.isInit=function(){return this.isValid(this.storedCv())},e.prototype.storedCv=function(){return this._base.concat(".",this._currentElement.toString())},e.prototype.getValue=function(){var e=this.storedCv();if(this.isValid(e))return e},e.prototype.getRelatedCv=function(){return this._relatedCv},e.prototype.incrementExternal=function(e){if(this.isValid(e)){var t=e.split("."),n=t.length;t[n-1]=(parseInt(t[n-1],10)+1).toString();for(var r="",i=0;i<n;i++)r+=t[i],i<n-1&&(r+=".");var a=t[0].length===this._cv2Constants.baseLength?this._cv2Constants.maxCorrelationVectorLength:this._cv1Constants.maxCorrelationVectorLength;if(r.length<=a)return r}},e.prototype.canExtend=function(){var e=this.storedCv();return!!this.isValid(e)&&this._isLeqThanMaxCorrelationVectorLength(e.length+2)},e.prototype.canIncrement=function(){return!!this.isValid(this.storedCv())&&this._isLeqThanMaxCorrelationVectorLength(this._base.length+1+(this._currentElement+1+"").length)},e.prototype.setValue=function(e){if(this.isValid(e)){var t=e.lastIndexOf(".");return t>1?(this._base=e.substr(0,t),this._currentElement=parseInt(e.substr(t+1),10)):(this._base=e,this._currentElement=0),!0}return this._traceLogger.throwInternal(X.WARNING,de.InvalidCorrelationValue,"Cannot set invalid correlation vector value"),!1},e.prototype.setValueLegacy=function(e){return this.setValue(e),this.getValue()},e.prototype.seed=function(){for(var e="",t=0;t<this._currentCvConstants.baseLength;t++)e+=this._base64CharSet.charAt(Math.floor(Math.random()*this._base64CharSet.length));return e},e.prototype.extend=function(){if(this.canExtend())return this._base=this._base.concat(".",this._currentElement.toString()),this._currentElement=0,this.storedCv()},e.prototype.increment=function(){if(this.canIncrement())return this._currentElement=this._currentElement+1,this.storedCv()},e.prototype.validateWithCv1=function(e){if(this._cv1Constants.validationPattern.test(e)&&e.length<=this._cv1Constants.maxCorrelationVectorLength)return!0},e.prototype.validateWithCv2=function(e){if(this._cv2Constants.validationPattern.test(e)&&e.length<=this._cv2Constants.maxCorrelationVectorLength)return!0},e.prototype.useCv1=function(){this._currentCvConstants=this._cv1Constants},e.prototype.useCv2=function(){this._currentCvConstants=this._cv2Constants},e.prototype.isValid=function(e){if(e){var t=e.split(".")[0];if(t){if(16===t.length)return this._cvVersionAtLatestValidityCheck=1,this.validateWithCv1(e);if(22===t.length)return this._cvVersionAtLatestValidityCheck=2,this.validateWithCv2(e)}}},e.prototype.init=function(e){return e?this.setValue(e):(this._base=this.seed(),this._currentElement=0),this.getValue()},e.prototype.initLegacy=function(e){return this.init(e)},e.prototype._isLeqThanMaxCorrelationVectorLength=function(e){return 1===this._cvVersionAtLatestValidityCheck?e<=this._cv1Constants.maxCorrelationVectorLength:e<=this._cv2Constants.maxCorrelationVectorLength},e}(),ao=function(e){function t(t){var n=e.call(this)||this;return n.identifier="CorrelationVectorPlugin",n.priority=159,n.version="3.1.10",n._cvInitialValue=t,n._cv=n._cvInitialValue?new io(n._cvInitialValue):new io,n}return Object(o.b)(t,e),t.prototype.initialize=function(t,n,r){e.prototype.initialize.call(this,t,n,r)},t.prototype.processTelemetry=function(e,t){gn(e,this.identifier),e.ext=e.ext||{},e.ext.mscv=e.ext.mscv||{},e.ext.mscv.cV||this._cv&&this._cv.isInit()&&(e.ext.mscv.cV=this._cv.getValue()),this.processNext(e,t)},t.prototype.getCv=function(){return this._cv||this.diagLog().throwInternal(X.WARNING,de.FailedToInitializeCorrelationVector,"Correlation Vector has not been initialized."),this._cv},t}(Ye),oo=function(){function e(){}return e.prototype._setCommonProperties=function(e,t){tn(t.cV)&&(e.ext=e.ext||{},e.ext.mscv=e.ext.mscv||{},e.ext.mscv.cV=t.cV),e.baseData.operationName=t.operationName,e.baseData.latencyMs=t.latencyMs,e.baseData.serviceErrorCode=t.serviceErrorCode||-1,e.baseData.succeeded=t.succeeded,e.baseData.requestStatus=t.requestStatus,e.baseData.requestMethod=t.requestMethod,tn(t.target)&&(e.baseData.target=t.target),tn(t.responseContentType)&&(e.baseData.responseContentType=t.responseContentType),tn(t.protocol)&&(e.baseData.protocol=t.protocol),tn(t.protocolStatusCode)&&(e.baseData.protocolStatusCode=t.protocolStatusCode)},e}(),so=function(){function e(){this._qosEvent=new oo}return e.prototype._setQosProperties=function(e,t){this._qosEvent._setCommonProperties(e,t),e.baseData.dependencyOperationName=t.dependencyOperationName,e.baseData.dependencyName=t.dependencyName,e.baseData.dependencyType=t.dependencyType||"WebService",tn(t.dependencyOperationVersion)&&(e.baseData.dependencyOperationVersion=t.dependencyOperationVersion),tn(t.responseSizeBytes)&&(e.baseData.responseSizeBytes=t.responseSizeBytes)},e}(),co=function(){function e(){this._qosEvent=new oo}return e.prototype._setQosProperties=function(e,t){this._qosEvent._setCommonProperties(e,t),tn(t.callerIpAddress)&&(e.baseData.callerIpAddress=t.callerIpAddress),tn(t.callerName)&&(e.baseData.callerName=t.callerName),tn(t.requestSizeBytes)&&(e.baseData.requestSizeBytes=t.requestSizeBytes),tn(t.operationVersion)&&(e.baseData.operationVersion=t.operationVersion)},e}();function uo(e){T(e,(function(t,n){(!tn(n)||"{}"===JSON.stringify(n)&&"callback"!==t)&&delete e[t]}))}function lo(e,t,n){var r=function(e,t){var n;e&&e[t]&&(n=e[t],delete e[t]);return n}(e,n);return t[n]?t[n]:r}function fo(e,t){var n,r={},i=Ie();if(i){n=i.querySelectorAll("meta");for(var a=0;a<n.length;a++){var o=n[a];if(o.name)if(0===o.name.toLowerCase().indexOf(e))r[t?o.name.replace(e,""):o.name]=o.content}}return r}var po=n(44),go=["req","rsp","hkErr","fnErr"];function ho(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function vo(e,t,n,r,i){i>=0&&i<=2&&ho(e,(function(e,a){var o=e.cbks,s=o[go[i]];if(s){t.ctx=function(){return r[a]=r[a]||{}};try{s.apply(t.inst,n)}catch(e){var c=t.err;try{var u=o[go[2]];u&&(t.err=e,u.apply(t.inst,n))}catch(e){}finally{t.err=c}}}}))}var mo=Object.getPrototypeOf;function yo(e,t,n){var r=null;return e&&(m(e,t)?r=e:n&&(r=yo(function(e){if(e){if(mo)return mo(e);var t=e.__proto__||e[c.k]||e.constructor;if(t)return t}return null}(e),t,!1))),r}function Co(e,t,n,r){if(void 0===r&&(r=!0),e&&t&&n){var i=yo(e,t,r);if(i){var a=i[t];if(typeof a===c.h){var o=a._aiHooks;if(!o){var s=(l=o={i:0,n:t,f:a,h:[]},function(){var e=this,t=arguments,n=l.h,r={name:l.n,inst:e,ctx:null,set:s},i=[],a=o([r],t);function o(e,t){return ho(t,(function(t){e.push(t)})),e}function s(e,n){(t=o([],t))[e]=n,a=o([r],t)}vo(n,r,a,i,0);var c=l.f;try{r.rslt=c.apply(e,t)}catch(e){throw r.err=e,vo(n,r,a,i,3),e}return vo(n,r,a,i,1),r.rslt});s._aiHooks=o,i[t]=s}var u={id:o.i,cbks:n,rm:function(){var e=this.id;ho(o.h,(function(t,n){if(t.id===e)return o.h.splice(n,1),1}))}};return o.i++,o.h.push(u),u}}}var l;return null}function bo(e,t,n){var r=0,i=e[t],a=e[n];return i&&a&&(r=$i(i,a)),r}function To(e,t,n,r,i){var a=0,o=bo(n,r,i);return o&&(a=Io(e,t,ai(o))),a}function Io(e,t,n){var r=0;e&&t&&n&&((e.ajaxPerf=e.ajaxPerf||{})[t]=n,r=1);return r}var So=function(){this.openDone=!1,this.setRequestHeaderDone=!1,this.sendDone=!1,this.abortDone=!1,this.stateChangeAttached=!1},wo=function e(t,n,r){var i=r;this.perfMark=null,this.completed=!1,this.requestHeadersSize=null,this.requestHeaders=null,this.responseReceivingDuration=null,this.callbackDuration=null,this.ajaxTotalDuration=null,this.aborted=0,this.pageUrl=null,this.requestUrl=null,this.requestSize=0,this.method=null,this.status=null,this.requestSentTime=null,this.responseStartedTime=null,this.responseFinishedTime=null,this.callbackFinishedTime=null,this.endTime=null,this.xhrMonitoringState=new So,this.clientFailure=0,this.traceID=t,this.spanID=n,Object(s.a)(e,this,(function(e){e.getAbsoluteUrl=function(){return e.requestUrl?Bi(e.requestUrl):null},e.getPathName=function(){return e.requestUrl?jr(i,zi(e.method,e.requestUrl)):null},e.CreateTrackItem=function(t,n,r){var i;if(e.ajaxTotalDuration=Math.round(1e3*$i(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var a=((i={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:t,startTime:null,duration:e.ajaxTotalDuration,success:+e.status>=200&&+e.status<400,responseCode:+e.status,method:e.method}).properties={HttpMethod:e.method},i);if(e.requestSentTime&&(a.startTime=new Date,a.startTime.setTime(e.requestSentTime)),function(e,t){var n=e.perfTiming,r=t.properties||{},i=0,a="redirect",o=a+"Start",s=a="End";if(n){i|=To(r,a,n,o,s),i|=To(r,"domainLookup",n,"domainLookupStart","domainLookupEnd"),i|=To(r,"connect",n,"connectStart","connectEnd"),i|=To(r,"request",n,"requestStart","requestEnd"),i|=To(r,"response",n,"responseStart","responseEnd"),i|=To(r,"networkConnect",n,"startTime","connectEnd"),i|=To(r,"sentRequest",n,"requestStart","responseEnd");var c=n.duration;c||(c=bo(n,"startTime","responseEnd")||0),i|=Io(r,"duration",c),i|=Io(r,"perfTotal",c);var u=n.serverTiming;if(u){var l={};O(u,(function(e,t){var n=function(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}(e.name||""+t),r=l[n]||{};T(e,(function(e,t){("name"!==e&&P(t)||A(t))&&(r[e]&&(t=r[e]+";"+t),!t&&P(t)||(r[e]=t))})),l[n]=r})),i|=Io(r,"serverTiming",l)}i|=Io(r,"transferSize",n.transferSize),i|=Io(r,"encodedBodySize",n.encodedBodySize),i|=Io(r,"decodedBodySize",n.decodedBodySize)}else e.perfMark&&(i|=Io(r,"missing",e.perfAttempts));i&&(t.properties=r)}(e,a),n&&j(e.requestHeaders).length>0&&(a.properties=a.properties||{},a.properties.requestHeaders=e.requestHeaders),r){var o=r();if(o){var s=o.correlationContext;if(s&&(a.correlationContext=s),o.headerMap&&j(o.headerMap).length>0&&(a.properties=a.properties||{},a.properties.responseHeaders=o.headerMap),e.errorStatusText&&e.status>=400){var c=o.type;a.properties=a.properties||{},""!==c&&"text"!==c||(a.properties.responseText=o.responseText?o.statusText+" - "+o.responseText:o.statusText),"json"===c&&(a.properties.responseText=o.response?o.statusText+" - "+JSON.stringify(o.response):o.statusText)}}}return a}}))},Eo=function(){function e(t,n){this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?this.traceId=t:this.traceId=Gt(),n&&e.isValidSpanId(n)?this.spanId=n:this.spanId=Gt().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.toString=function(){return"".concat(this.version,"-").concat(this.traceId,"-").concat(this.spanId,"-").concat(this.traceFlag)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}(),xo=0;function ko(e){var t="";try{h(e)||h(e.ajaxData)||h(e.ajaxData.requestUrl)||(t+="(url: '"+e.ajaxData.requestUrl+"')")}catch(e){}return t}function Po(e,t,n,r,i){e.diagLog().throwInternal(X.CRITICAL,t,n,r,i)}function Ao(e,t,n,r,i){e.diagLog().throwInternal(X.WARNING,t,n,r,i)}function _o(e,t,n){return function(r){Po(e,t,n,{ajaxDiagnosticsMessage:ko(r.inst),exception:De(r.err)})}}function No(e,t){return e&&t?e.indexOf(t):-1}var Oo,Do=function(e){function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r,i,a,o,l,f,d=xe(),p=!1,g=!1,v=d&&d.host&&d.host.toLowerCase(),m=t.getEmptyConfig(),y=!1,I=!1,S=0,w=!1,E=0,x=!1,k=[],A={};return Object(s.a)(t,n,(function(e,n){function s(e){var t=!0;return(e||m.ignoreHeaders)&&O(m.ignoreHeaders,(function(n){if(n.toLowerCase()===e.toLowerCase())return t=!1,-1})),t}function d(e,t,n){k.push(function(e,t,n){return e?Co(e[c.k],t,n,!1):null}(e,t,n))}function _(e,t,n){var r=!1,i=((P(t)?t:(t||{}).url||"")||"").toLowerCase();if(O(l,(function(e){var t=e;P(e)&&(t=new RegExp(e)),r||(r=t.test(i))})),r)return r;var a=No(i,"?"),o=No(i,"#");return(-1===a||-1!==o&&o<a)&&(a=o),-1!==a&&(i=i.substring(0,a)),h(e)?h(t)||(r="object"==typeof t&&!0===t[Qr]||!!n&&!0===n[Qr]):r=!0===e[Qr]||!0===i[Qr],!r&&i&&Qi(i)&&(r=!0),r?A[i]||(A[i]=1):A[i]&&(r=!0),r}function N(e,t){var n=!0,r=g;return h(e)||(n=!0===t||!h(e.ajaxData)),r&&n}function D(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(e){}return null}function R(t){try{var n=t.getAllResponseHeaders();if(null!==n)if(-1!==No(n.toLowerCase(),Ui)){var r=t.getResponseHeader(Di);return Xi.getCorrelationContext(r)}}catch(n){Ao(e,ee.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:ko(t),exception:De(n)})}}function M(e,t){if(t.requestUrl&&o&&w){var n=ke();if(n&&C(n.mark)){xo++;var r=o+e+"#"+xo;n.mark(r);var i=n.getEntriesByName(r);i&&1===i.length&&(t.perfMark=i[0])}}}function V(e,t,n,r){var i=t.perfMark,a=ke(),o=m.maxAjaxPerfLookupAttempts,s=m.ajaxPerfLookupDelay,c=t.requestUrl,u=0;!function l(){try{if(a&&i){u++;for(var f=null,d=a.getEntries(),p=d.length-1;p>=0;p--){var g=d[p];if(g){if("resource"===g.entryType)g.initiatorType!==e||-1===No(g.name,c)&&-1===No(c,g.name)||(f=g);else if("mark"===g.entryType&&g.name===i.name){t.perfTiming=f;break}if(g.startTime<i.startTime-1e3)break}}}!i||t.perfTiming||u>=o||!1===t.async?(i&&C(a.clearMarks)&&a.clearMarks(i.name),t.perfAttempts=u,n()):setTimeout(l,s)}catch(e){r(e)}}()}function U(t){var n="";try{h(t)||(n+="(url: '".concat("string"==typeof t?t:t.url,"')"))}catch(t){Po(e,ee.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:De(t)})}return n}function j(t,n,r,i,a,o,s){function c(t,n,i){var a=i||{};a.fetchDiagnosticsMessage=U(r),n&&(a.exception=De(n)),Ao(e,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",a)}a&&(a.responseFinishedTime=Ji(),a.status=n,V("fetch",a,(function(){var t,s=a.CreateTrackItem("Fetch",y,o);try{f&&(t=f({status:n,request:r,response:i}))}catch(t){Ao(e,ee.FailedAddingCustomDefinedRequestContext,"Failed to add custom defined request context as configured call back may missing a null check.")}s?(void 0!==t&&(s.properties=Object(po.a)(Object(po.a)({},s.properties),t)),e.trackDependencyDataInternal(s)):c(ee.FailedMonitorAjaxDur,null,{requestSentTime:a.requestSentTime,responseFinishedTime:a.responseFinishedTime})}),(function(e){c(ee.FailedMonitorAjaxGetCorrelationHeader,e,null)})))}function F(t){if(t&&t.headers)try{var n=t.headers.get(Di);return Xi.getCorrelationContext(n)}catch(n){Ao(e,ee.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:U(t),exception:De(n)})}}e.initialize=function(v,C,S,P){if(!e.isInitialized()){n.initialize(v,C,S,P);var A=e._getTelCtx();T(t.getDefaultConfig(),(function(e,n){m[e]=A.getConfig(t.identifier,e,n)}));var U=m.distributedTracingMode;if(y=m.enableRequestHeaderTracking,I=m.enableAjaxErrorStatusText,w=m.enableAjaxPerfTracking,E=m.maxAjaxCallsPerView,x=m.enableResponseHeaderTracking,l=m.excludeRequestFromAutoTrackingPatterns,f=m.addRequestContext,a=U===bi.AI||U===bi.AI_AND_W3C,i=U===bi.AI_AND_W3C||U===bi.W3C,w){var q=v.instrumentationKey||"unkwn";o=q.length>5?"ai.ajxmn."+q.substring(q.length-5)+".":"ai.ajxmn."+q+"."}if(!1===m.disableAjaxTracking&&function(e){var t=!1;if(Ve()){var n=XMLHttpRequest[c.k];t=!(h(n)||h(n.open)||h(n.send)||h(n.abort))}var r=Oe();if(r&&r<9&&(t=!1),t)try{(new XMLHttpRequest).ajaxData={};var i=XMLHttpRequest[c.k].open;XMLHttpRequest[c.k].open=i}catch(n){t=!1,Po(e,ee.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:De(n)})}return t}(e)&&!g&&(d(XMLHttpRequest,"open",{req:function(t,n,i,a){var o=t.inst,c=o.ajaxData;!_(o,i)&&N(o,!0)&&(c&&c.xhrMonitoringState.openDone||function(t,n,i,a){var o=r&&r.telemetryTrace&&r.telemetryTrace.traceID||Gt(),s=Gt().substr(0,16),c=new wo(o,s,e.diagLog());c.method=n,c.requestUrl=i,c.xhrMonitoringState.openDone=!0,c.requestHeaders={},c.async=a,c.errorStatusText=I,t.ajaxData=c}(o,n,i,a),function(t){t.ajaxData.xhrMonitoringState.stateChangeAttached=b(t,"readystatechange",(function(){try{t&&4===t.readyState&&N(t)&&function(t){var n=t.ajaxData;function r(n,r){var i=r||{};i.ajaxDiagnosticsMessage=ko(t),n&&(i.exception=De(n)),Ao(e,ee.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",i)}n.responseFinishedTime=Ji(),n.status=t.status,V("xmlhttprequest",n,(function(){try{var i=n.CreateTrackItem("Ajax",y,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:R(t),type:t.responseType,responseText:D(t),response:t.response};if(x){var n=t.getAllResponseHeaders();if(n){var r=L(n).split(/[\r\n]+/),i={};O(r,(function(e){var t=e.split(": "),n=t.shift(),r=t.join(": ");s(n)&&(i[n]=r)})),e.headerMap=i}}return e})),a=void 0;try{f&&(a=f({status:t.status,xhr:t}))}catch(t){Ao(e,ee.FailedAddingCustomDefinedRequestContext,"Failed to add custom defined request context as configured call back may missing a null check.")}i?(void 0!==a&&(i.properties=Object(po.a)(Object(po.a)({},i.properties),a)),e.trackDependencyDataInternal(i)):r(null,{requestSentTime:n.requestSentTime,responseFinishedTime:n.responseFinishedTime})}finally{try{t.ajaxData=null}catch(e){}}}),(function(e){r(e,null)}))}(t)}catch(r){var n=De(r);n&&-1!==No(n.toLowerCase(),"c00c023f")||Po(e,ee.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:ko(t),exception:n})}}))}(o))},hkErr:_o(e,ee.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),d(XMLHttpRequest,"send",{req:function(t,n){var r=t.inst,i=r.ajaxData;N(r)&&!i.xhrMonitoringState.sendDone&&(M("xhr",i),i.requestSentTime=Ji(),e.includeCorrelationHeaders(i,void 0,void 0,r),i.xhrMonitoringState.sendDone=!0)},hkErr:_o(e,ee.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),d(XMLHttpRequest,"abort",{req:function(e){var t=e.inst,n=t.ajaxData;N(t)&&!n.xhrMonitoringState.abortDone&&(n.aborted=1,n.xhrMonitoringState.abortDone=!0)},hkErr:_o(e,ee.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),y&&d(XMLHttpRequest,"setRequestHeader",{req:function(e,t,n){var r=e.inst;N(r)&&s(t)&&(r.ajaxData.requestHeaders[t]=n)},hkErr:_o(e,ee.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),g=!0),function(){var t=(n=Object(u.a)(),!n||h(n.Request)||h(n.Request[c.k])||h(n.fetch)?null:n.fetch);var n;if(!t)return;var i=Object(u.a)(),a=t.polyfill;!1===m.disableFetchTracking?(k.push(Co(i,"fetch",{req:function(t,n,i){var o;if(p&&!_(null,n,i)&&(!a||!g)){var c=t.ctx();o=function(t,n){var i=r&&r.telemetryTrace&&r.telemetryTrace.traceID||Gt(),a=Gt().substr(0,16),o=new wo(i,a,e.diagLog());o.requestSentTime=Ji(),o.errorStatusText=I,t instanceof Request?o.requestUrl=t?t.url:"":o.requestUrl=t;var c="GET";n&&n.method?c=n.method:t&&t instanceof Request&&(c=t.method);o.method=c;var u={};if(y){new Headers((n?n.headers:0)||t instanceof Request&&t.headers||{}).forEach((function(e,t){s(t)&&(u[t]=e)}))}return o.requestHeaders=u,M("fetch",o),o}(n,i);var u=e.includeCorrelationHeaders(o,n,i);u!==i&&t.set(1,u),c.data=o}},rsp:function(e,t){var n=e.ctx().data;n&&(e.rslt=e.rslt.then((function(r){return j(e,(r||{}).status,t,r,n,(function(){var e={statusText:r.statusText,headerMap:null,correlationContext:F(r)};if(x){var t={};r.headers.forEach((function(e,n){s(n)&&(t[n]=e)})),e.headerMap=t}return e})),r})).catch((function(r){throw j(e,0,t,null,n,null,{error:r.message}),r})))},hkErr:_o(e,ee.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),p=!0):a&&k.push(Co(i,"fetch",{req:function(e,t,n){_(null,t,n)}}));a&&(i.fetch.polyfill=a)}(),S.length>0&&S){for(var H=void 0,B=0;!H&&B<S.length;)S[B]&&"AppInsightsPropertiesPlugin"===S[B].identifier&&(H=S[B]),B++;H&&(r=H.context)}}},e.teardown=function(){O(k,(function(e){e.rm()})),k=[],p=!1,g=!1,e.setInitialized(!1)},e.trackDependencyData=function(t,n){e.trackDependencyDataInternal(t,n)},e.includeCorrelationHeaders=function(t,n,o,s){var c=e._currentWindowHost||v;if(n){if(Xi.canIncludeCorrelationHeader(m,t.getAbsoluteUrl(),c)){if(o||(o={}),o.headers=new Headers(o.headers||n instanceof Request&&n.headers||{}),a){var u="|"+t.traceID+"."+t.spanID;o.headers.set(Li,u),y&&(t.requestHeaders[Li]=u)}if((f=m.appId||r&&r.appId())&&(o.headers.set(Di,Mi+f),y&&(t.requestHeaders[Di]=Mi+f)),i){var l=new Eo(t.traceID,t.spanID);o.headers.set(Vi,l.toString()),y&&(t.requestHeaders[Vi]=l.toString())}}return o}if(s){if(Xi.canIncludeCorrelationHeader(m,t.getAbsoluteUrl(),c)){if(a){u="|"+t.traceID+"."+t.spanID;s.setRequestHeader(Li,u),y&&(t.requestHeaders[Li]=u)}var f;if((f=m.appId||r&&r.appId())&&(s.setRequestHeader(Di,Mi+f),y&&(t.requestHeaders[Di]=Mi+f)),i){l=new Eo(t.traceID,t.spanID);s.setRequestHeader(Vi,l.toString()),y&&(t.requestHeaders[Vi]=l.toString())}}return s}},e.trackDependencyDataInternal=function(t,n,r){if(-1===E||S<E){m.distributedTracingMode!==bi.W3C&&m.distributedTracingMode!==bi.AI_AND_W3C||"string"!=typeof t.id||"."===t.id[t.id.length-1]||(t.id+="."),h(t.startTime)&&(t.startTime=new Date);var i=Xr.create(t,Yi.dataType,Yi.envelopeType,e.diagLog(),n,r);e.core.track(i)}else S===E&&Po(e,ee.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++S}})),n}return Object(po.b)(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:bi.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"],addRequestContext:void 0}},t.getEmptyConfig=function(){var e=this.getDefaultConfig();return T(e,(function(t){e[t]=void 0})),e},t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.identifier="AjaxDependencyPlugin",t}(Ye),Ro=function(){function e(){this.lastPageViewId=un(),this.traceId=this.createTraceId()}return e.prototype.createTraceId=function(){return un().replace(/-/g,"")},e.prototype.getTraceId=function(){return this.traceId},e.prototype.getLastPageViewId=function(){return this.lastPageViewId},e}(),Mo=function(e){function t(){var n,r,i,a=e.call(this)||this;a.identifier="QosPlugin",a.version="3.1.10";var o={market:"",serverImpressionGuid:""},c={};return r=new so,i=new co,Object(s.a)(t,a,(function(e,t){function a(e){var t={enableCorsCorrelation:!1,correlationHeaderExcludedDomains:[],correlationHeaderExcludePatterns:null,disableCorrelationHeaders:!1,maxAjaxCallsPerView:-1,disableAjaxTracking:!1,disableFetchTracking:!1,enableCvHeaders:!1,appId:void 0,callback:{pageName:null,id:null},autoCapture:{msTags:!0},coreData:{requestUri:"",pageName:""}},n=[];return T(t,(function(e,t){t&&y(t)&&n.push(e)})),function(e,t){uo(e),O(t,(function(t){y(e[t])?uo(e[t]):delete e[t]}))}(e,n),ln(!0,t,e)}function s(t,n){u(t,n),e.core.track(t)}function u(e,t){tn(t)&&T(t,(function(t,n){e.data[t]=n}))}e.includeCorrelationHeaders=function(n,r,i,a){var o=t.includeCorrelationHeaders(n,r,i,a);if(c.enableCvHeaders){var s=e.getCv();if(s&&(r||a)){s.increment();var u=s.getValue();r?(o||(o=i||{}),o.headers&&C(o.headers.append)||(o.headers=new Headers(o.headers||r instanceof Request&&r.headers||{})),o.headers.append("MS-CV",u)):o.setRequestHeader("MS-CV",u)}}return o},e.initialize=function(r,i,s){var u=r.extensionConfig=r.extensionConfig||[];u[e.identifier]=u[e.identifier]||{},g((c=e._qosConfig=a(u[e.identifier])).distributedTracingMode)&&(c.distributedTracingMode=0),u[Do.identifier]=c,t.initialize(r,i,s);var l,f,d,p=(l=e._qosConfig,d={},f=fo("awa-",!0),l.autoCapture&&l.autoCapture.msTags&&(d=fo("ms.",!1)),ln(!0,f,d));o.market=lo(p,c.coreData,"market"),o.serverImpressionGuid=lo(p,c.coreData,"serverImpressionGuid");for(var h=null,v=null,m=0;m<s.length;m++)"CorrelationVectorPlugin"===s[m].identifier?h=s[m]:"WebAnalyticsPlugin"===s[m].identifier&&(v=s[m]);v&&v.id?e.id=v.id:e.id=new Ro,c.enableCvHeaders&&(h?(c.enableCvHeaders=!0,n=h):(e.diagLog().throwInternal(X.WARNING,de.CVPluginNotAvailable,'Enable cV headers it is set to "true" in config.  However, cv plugin is not available. Disabling adding Cv in dependency requests '),c.enableCvHeaders=!1))},e.processTelemetry=function(t,n){gn(t,e.identifier);var r=t;switch(r.baseType){case Yi.dataType:"Ms.Qos.OutgoingServiceRequest"!==r.name&&(r.name="Ms.Web.OutgoingRequest",r.baseData=r.baseData||{},r.baseData.properties=r.baseData.properties||{},r.baseData.properties.parentId=r.baseData.properties.parentId||e.id.getLastPageViewId(),delete r.baseData.method),r.latency=ie}e.processNext(r,n)},e.trackDependencyData=function(t,n){e.trackDependencyDataInternal(t,n)},e.trackDependencyDataInternal=function(n,r,i){var a,s,u=i||{};tn(n.cV)&&(u.mscv={},u.mscv.cV=n.cV),n.id=c.callback&&c.callback.id?c.callback.id():un(),(r=r||{}).pageName=tn(r.pageName)?r.pageName:function(e){if(e.callback&&"function"==typeof e.callback.pageName)return e.callback.pageName();if(e.coreData.pageName)return e.coreData.pageName;var t=(xe()||{}).pathname||"",n=t.split("/");return t=n.length>2&&""!==n[2]?n[2]:"Home"}(e._qosConfig),r.uri=tn(r.uri)?r.uri:(a=e._qosConfig,s=xe()||{},a.coreData.requestUri?a.coreData.requestUri:s.href),r.market=tn(r.market)?r.market:o.market,r.serverImpressionGuid=tn(r.serverImpressionGuid)?r.serverImpressionGuid:o.serverImpressionGuid,t.trackDependencyDataInternal(n,r,u)},e.trackServiceOutgoingQos=function(e,t){var n={name:"Ms.Qos.OutgoingServiceRequest",baseType:"RemoteDependencyData",ext:{},baseData:{},data:{},latency:oe};r._setQosProperties(n,e),u(n,t),s(n)},e.trackServiceIncomingQos=function(e,t){var n={name:"Ms.Qos.IncomingServiceRequest",baseType:"RequestData",ext:{},baseData:{},data:{},latency:oe};i._setQosProperties(n,e),u(n,t),s(n)},e.getCv=function(){return n?n.getCv():null}})),a}return Object(o.b)(t,e),t}(Do),Lo=function(e){var t={referrerUri:Yo.dom.getReferrer()};Jo.capturePageView(t)},Vo=function(e){if(Yo.allowClickTracking){var t={content:{id:e.clickId,aN:e.pageArea,cN:e.clickId,cS:e.containerGroup||e.container||e.clickId},isAuto:!1,targetUri:e.targetUri&&Yo.urlScrubber(e.targetUri)||Yo.dom.getLocationHref(),pageName:Yo.dom.getPageId(),refUri:Yo.dom.getReferrer(),actionType:ya};Jo.capturePageAction(Yo.dummyElement,t)}},Uo={reportPageView:Lo,reportClick:Vo,reportPartialView:function(e){var t={behavior:Na.IMPRESSION,pageName:e.viewId},n={pageLoadTime:e.pltMsec};Jo.captureContentUpdate(t,n)},$notifyPageLoaded:function(){}},jo=function(e){var t={errorInfo:i({Page:e.location,PageName:e.pageId,Script:e.script,Message:e.message,LineNumber:e.lineNumber,UserAgent:e.userAgent,flights:Yo.flights},e.ext),wasDisplayed:!1,uri:Yo.dom.getLocationHref(),pageName:e.pageId,market:Yo.market};Jo.trackException({},t)},Fo=function(e){var t=e.content,n=t.baseData,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["baseData"]),i={name:e.name,baseType:e.baseType,data:r,baseData:n};Jo.trackEvent(i)},qo=function(e){var t={latencyMs:e.latencyMs,requestMethod:e.httpMethod,succeeded:e.isSuccess,serviceErrorCode:e.serviceErrorCode,responseContentType:e.contentType,operationName:e.currentOperationName||e.operationName,responseSizeBytes:e.responseSize,protocolStatusCode:e.httpStatusCode,target:Yo.urlScrubber(e.requestUri),dependencyName:e.serviceName,dependencyOperationName:e.operationName,dependencyOperationVersion:e.operationVersion},n={errorMessage:e.errorMessage,customData:e._optionalData&&JSON.stringify(e._optionalData)||e.customData,pageName:Yo.dom.getPageId(),uri:Yo.dom.getLocationHref(),market:Yo.market,cV:e.cV};$o.trackServiceOutgoingQos(t,n)},Ho={reportClientError:function(e){var t=e&&e.data&&JSON.stringify(e.data),n={location:Yo.dom.getLocationHref(),pageId:Yo.dom.getPageId(),script:Yo.dom.getLocationHref(),message:e&&e.message||t||"unknown",userAgent:window.navigator.userAgent||""};jo(n)},reportFatalError:jo,reportRawEvent:Fo,reportOutgoingApi:qo},Bo=function(){for(var e=document.getElementsByTagName("meta"),t={},n=0;n<e.length;n++){var r=e[n].name,i=e[n].content;if(r&&0===r.indexOf("awa-"))t[r.replace("awa-","")]=i}return t},zo=function(e){var t={name:a.f,baseType:"Ms.Content.PageView",baseData:{pageTags:{flight:e,metaTags:Bo()}}};Jo.trackEvent(t)},Wo={reportExperimentTrigger:zo,setExperimentData:function(){}},Go=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickCaptureInputTypes={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0},t.KeyCodes={GamePadA:195,GamePadMenu:207},t.ActionTypes={GamePadA:"CGA",GamePadMenu:"CGM"},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.click=function(){var e=this,t=Te(),n=Ie();if(t&&t.addEventListener){var r=-1!==navigator.appVersion.indexOf("MSIE")?"click":"mousedown";t.addEventListener(r,(function(t){e._processClick(t)}),!1),t.addEventListener("keydown",(function(t){e._processClick(t)}),!1)}else n&&n.attachEvent&&(n.attachEvent("onclick",(function(t){e._processClick(t)})),n.attachEvent("keydown",(function(t){e._processClick(t)})))},t.prototype._processClick=function(t){var n={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},r=Te(),i=t||(null==r?void 0:r.event),a=i.srcElement||i.target,o={isAuto:!0,clickCoordinateX:i.pageX,clickCoordinateY:i.pageY};if(i.keyCode===this.KeyCodes.GamePadA)o.actionType=this.ActionTypes.GamePadA;else{if(i.keyCode!==this.KeyCodes.GamePadMenu)return void e.prototype._processClick.call(this,t);o.actionType=this.ActionTypes.GamePadMenu}for(;a&&a.tagName;){if(a.control&&n[a.control.tagName.toUpperCase()]&&(a=a.control),n[a.tagName.toUpperCase()]){("INPUT"!==a.tagName.toUpperCase()||this.clickCaptureInputTypes[a.type.toUpperCase()])&&this._analyticsPlugin.capturePageAction(a,o,{});break}a=a.parentElement||a.parentNode}},t}(Va),Ko=function(e,t){var n={alt:Xo(e),vlt:Math.round(e.loadTimeMsec),data:e.components&&e.components.map((function(e){return i(i({},e.data),{componentName:e.name,startTime:Math.round(e.started),endTime:Math.round(e.ended)})})),customData:{}};t&&t.forEach((function(e){n.customData[e.name]=e.value}));var r={pageName:e.viewName||Yo.dom.getPageId(),isDomComplete:!0},a={uri:Yo.dom.getLocationHref(),timings:n,pageTypeForPerf:e.viewName||Yo.dom.getPageId()};Jo.captureContentUpdate(r,a)},Qo={reportViewPerformanceMetrics:Ko},Xo=function(e){var t=e;return t.application?Math.round(t.application.loadTimeMsec):void 0},Jo=new Xa,$o=new Mo,Yo={},Zo=[a.k,a.m,a.c,a.a,a.j,a.f,a.g,a.b];function es(e,t){var n=new no;Oo=new ao(t.seedCv);var r=new dr,o=t.features.join("|"),s=t.urlScrubber||a.o;if(Yo.allowClickTracking=e.allowClickTracking,Yo.flights=o,Yo.urlScrubber=s,Yo.dom=t.dom||Object(a.p)(s),Yo.market=t.language,Yo.dummyElement=document.createElement("div"),e.useKeydownEvent){var c=Jo.getWebAnalyticsExtension(),u=new Go(c,c.diagLog());c.setAutoCaptureHandler(u)}var l={instrumentationKey:e.instrumentationKey,propertyConfiguration:{env:e.environment},webAnalyticsConfiguration:{autoCapture:{pageView:!1,onLoad:!1,lineage:!0,click:e.allowClickTracking,scroll:e.allowScrollTracking,jsError:!1},coreData:{market:t.language,pageTags:{flight:o}},shareAuthStatus:!0,useDefaultContentName:!0,manageCv:!0,urlCollectHash:!0,urlCollectQuery:!0,isLoggedIn:e.isUserSignedIn},extensions:[n,Oo,$o],extensionConfig:[]},f={callback:{},appId:e.appId,enableCvHeaders:!0,disableAjaxTracking:!0,disableFetchTracking:!0};l.extensionConfig[$o.identifier]=f;var d={authType:$a,loggedInStatusCallback:function(){return e.isUserSignedIn||!1}};l.extensionConfig[n.identifier]=d;l.extensionConfig[r.identifier]={populateBrowserInfo:!0,populateOperatingSystemInfo:!0},Jo.initialize(l,[]),e.userPuid&&e.isUserSignedIn&&(Jo.getPropertyManager().getPropertiesContext().user.localId="p:".concat(e.userPuid)),Jo.addTelemetryInitializer((function(e){var t,n;if(e.baseData||(e.baseData={}),e.data||(e.data={}),Zo.indexOf(e.name)>-1){e.data.referrerUri=Yo.dom.getReferrer(),e.data.isLoggedIn=e.baseData.isLoggedIn,e.data.isManual=e.baseData.isManual,e.baseData.pageName=Yo.dom.getPageId(),e.baseData.impressionGuid=e.baseData.id;var r=e.baseData.properties.pageTags||{},o=e.baseData.pageTags||{};if(e.baseData.pageTags=i(i(i({},o),r),{metaTags:i(i(i(i({},o.metaTags),r.metaTags),Bo()),{pageTypeForPerf:e.data.pageTypeForPerf})}),delete e.baseData.properties.pageTags,e.name===a.k){e.data.refUri=s(e.data.refUri);var c=s(e.baseData.targetUri);e.baseData.targetUri=c,e.baseData.destUri=c;var u=JSON.parse(e.baseData.content||"");u=u.map((function(e){return i(i({},e),{cN:e.cN?"REMOVED":void 0,srchq:e.srchq?"REMOVED":void 0})})),e.baseData.content=JSON.stringify(u)}else e.name===a.j?(e.baseData.targetUri=e.baseData.target,(null===(n=null===(t=e.ext)||void 0===t?void 0:t.mscv)||void 0===n?void 0:n.cV)&&e.data.overrideCv&&(e.ext.mscv.cV=e.data.overrideCv,delete e.data.overrideCv)):e.name===a.f||e.name===a.g?e.baseData.market=Yo.market||"":e.name===a.m&&(e.baseData.name=e.baseData.pageName);e.baseData.uri=Yo.dom.getLocationHref()}e.name===a.l&&e.baseData.uri&&(e.baseData.uri=s(e.baseData.uri))}))}var ts=function(){window.BradburyTelemetry={bi:{getCurrentLocation:function(){return"https://location.com"},getCurrentPageId:function(){return"pageId"},getCurrentReferrer:function(){return"https://referrer.com"},reportClick:function(e){Vo(e)},reportSpaPageView:function(e){Lo()}},cv:{getCurrentCvValue:function(){return"cv123"}},experiments:{reportExperimentTrigger:function(e){zo(e)}},perf:{reportViewPerformanceMetrics:function(e,t){Ko(e,t)}},qos:{reportFatalError:function(e){jo(e)},reportOutgoingApi:function(e){qo(e)},reportRawEvent:function(e){Fo(e)}}},es({appId:"xs.amc.ux-reactApp",environment:"Test",isUserSignedIn:!1,allowClickTracking:!0,allowScrollTracking:!0,instrumentationKey:"key",useKeydownEvent:!1},{allowAutoPageView:!0,market:"en-US",language:"en",flights:[],features:[],urlScrubber:function(e){return e}})},ns={$beginScenario:function(e){var t={name:"Ms.Osgs.Scenario",data:i({uri:Yo.dom.getLocationHref(),referrerUri:Yo.dom.getReferrer(),pageName:Yo.dom.getPageId(),area:e.area,name:e.name,step:e.currentStep,next:e.nextStep||"",type:"s"},rs(e))};Jo.trackEvent(t);var n={behavior:Na.STARTPROCESS,actionType:"A",contentTags:i({scn:e.name,scnstp:e.currentStep,scnnxtstp:e.nextStep},is(e.data))};Jo.capturePageAction(Yo.dummyElement,n)},$completeStep:function(e){var t="ef";e.canceled?t=e.successful?"cs":"cf":e.successful&&(t="es");var n={name:"Ms.Osgs.Scenario",data:i({uri:Yo.dom.getLocationHref(),referrerUri:Yo.dom.getReferrer(),pageName:Yo.dom.getPageId(),area:e.area,name:e.name,step:e.currentStep,next:e.nextStep||"",type:e.isStep?"t":"x",result:t,tmsec:e.timeMsec||0,error:e.error},rs(e))};Jo.trackEvent(n);var r=e.isStep?Na.PROCESSCHECKPOINT:Na.COMPLETEPROCESS;!e.isStep&&e.canceled&&(r=Na.SCENARIOCANCEL);var a={behavior:r,actionType:"A",contentTags:i({scn:e.name,scnstp:e.currentStep,scnnxtstp:e.nextStep,isSuccess:!!e.successful,isCancel:!!e.canceled,scnerror:e.error},is(e.data))};Jo.capturePageAction(Yo.dummyElement,a)}},rs=function(e){var t,n,r;return{data:e.data&&JSON.stringify(e.data),origin:null===(t=e.attribution)||void 0===t?void 0:t.origin,flow:null===(n=e.attribution)||void 0===n?void 0:n.flow,owner:null===(r=e.attribution)||void 0===r?void 0:r.owner,mkt:e.market,lang:e.language}},is=function(e){if(e){var t={};return Object.keys(e).forEach((function(n){var r=n;n.startsWith("awa-")&&(r=r.replace("awa-","")),t[r]=e[n]})),t}},as={getCorrelationVectorFormFieldName:function(){return"MS-CV"},getCurrentCvValue:function(){return Oo.getCv().getValue()},incrementCv:function(){Oo.getCv().increment()},seedCv:function(e){return e?Oo.getCv().init(e):Oo.getCv().seed()}},os={updateFlights:function(e){Yo.flights=e.join("|"),Jo.getWebAnalyticsExtension().updateCoreDataConfig({pageTags:{flight:Yo.flights}})},updateUserPuid:function(e){Jo.getPropertyManager().getPropertiesContext().user.localId="p:".concat(e)}};n.d(t,"initialize",(function(){return es})),n.d(t,"initializeFakeTelemetry",(function(){return ts})),n.d(t,"BiSink",(function(){return Uo})),n.d(t,"ClientQosSinkOneDS",(function(){return Ho})),n.d(t,"ExpExperimentsSink",(function(){return Wo})),n.d(t,"ScenarioSink",(function(){return ns})),n.d(t,"PerformanceSink",(function(){return Qo})),window.OneDS={initialize:es,BiSink:Uo,ClientQosSink:Ho,CorrelationVectorManager:as,ExperimentsSink:Wo,ScenarioSink:ns,PerformanceSink:Qo,TelemetryConfigurationUpdateSink:os},window.owap=Jo},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(3),i=n(15),a=((Object(i.a)()||{}).Symbol,(Object(i.a)()||{}).Reflect,r.a||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])r.f[r.i].call(t,a)&&(e[a]=t[a]);return e}),o=function(e,t){return(o=r.b.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[r.i](n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}typeof t!==r.h&&null!==t&&Object(i.c)("Class extends value "+String(t)+" is not a constructor or null"),o(e,t),e[r.k]=null===t?Object(i.b)(t):(n[r.k]=t[r.k],new n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(4),i=n(16),a=((Object(i.a)()||{}).Symbol,(Object(i.a)()||{}).Reflect,r.a||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])r.f[r.i].call(t,a)&&(e[a]=t[a]);return e}),o=function(e,t){return(o=r.b.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[r.i](n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}typeof t!==r.h&&null!==t&&Object(i.c)("Class extends value "+String(t)+" is not a constructor or null"),o(e,t),e[r.k]=null===t?Object(i.b)(t):(n[r.k]=t[r.k],new n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(5),i=n(17),a=((Object(i.a)()||{}).Symbol,(Object(i.a)()||{}).Reflect,r.a||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])r.f[r.i].call(t,a)&&(e[a]=t[a]);return e}),o=function(e,t){return(o=r.b.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[r.i](n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}typeof t!==r.h&&null!==t&&Object(i.c)("Class extends value "+String(t)+" is not a constructor or null"),o(e,t),e[r.k]=null===t?Object(i.b)(t):(n[r.k]=t[r.k],new n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(2),i=n(14),a=((Object(i.a)()||{}).Symbol,(Object(i.a)()||{}).Reflect,r.a,function(e,t){return(a=r.b.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[r.i](n)&&(e[n]=t[n])})(e,t)});function o(e,t){function n(){this.constructor=e}typeof t!==r.h&&null!==t&&Object(i.c)("Class extends value "+String(t)+" is not a constructor or null"),a(e,t),e[r.k]=null===t?Object(i.b)(t):(n[r.k]=t[r.k],new n)}function s(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(6),i=n(18),a=((Object(i.a)()||{}).Symbol,(Object(i.a)()||{}).Reflect,r.a||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])r.f[r.i].call(t,a)&&(e[a]=t[a]);return e}),o=function(e,t){return(o=r.b.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[r.i](n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}typeof t!==r.h&&null!==t&&Object(i.c)("Class extends value "+String(t)+" is not a constructor or null"),o(e,t),e[r.k]=null===t?Object(i.b)(t):(n[r.k]=t[r.k],new n)}}])}));
